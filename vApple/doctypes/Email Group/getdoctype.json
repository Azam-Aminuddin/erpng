{"docs":[{"fields":[{"collapsible":0,"no_copy":1,"creation":"2015-03-18 06:08:32.729800","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Title","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Email Group","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fba9a844c2","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:47:41.853435","parenttype":"DocType","fieldname":"title","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-03-18 06:08:32.729800","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Total Subscribers","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Email Group","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"718af8b1fb","idx":2,"default":"0","in_standard_filter":0,"modified":"2017-06-09 23:47:41.853435","parenttype":"DocType","fieldname":"total_subscribers","fieldtype":"Int","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2015-03-18 06:08:32.729800","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/email/doctype/email_group/email_group.js */\n\n// Copyright (c) 2016, Frappe Technologies and contributors\n// For license information, please see license.txt\n\nfrappe.ui.form.on(\"Email Group\", \"refresh\", function(frm) {\n\tif(!frm.is_new()) {\n\t\tfrm.add_custom_button(__(\"View Subscribers\"), function() {\n\t\t\tfrappe.route_options = {\"email_group\": frm.doc.name};\n\t\t\tfrappe.set_route(\"List\", \"Email Group Member\");\n\t\t}, __(\"View\"));\n\n\t\tfrm.add_custom_button(__(\"Import Subscribers\"), function() {\n\t\t\tfrappe.prompt({fieldtype:\"Select\", options: frm.doc.__onload.import_types,\n\t\t\t\tlabel:__(\"Import Email From\"), fieldname:\"doctype\", reqd:1},\n\t\t\t\tfunction(data) {\n\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\tmethod: \"frappe.email.doctype.email_group.email_group.import_from\",\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\"name\": frm.doc.name,\n\t\t\t\t\t\t\t\"doctype\": data.doctype\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\tfrm.set_value(\"total_subscribers\", r.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}, __(\"Import Subscribers\"), __(\"Import\"));\n\t\t}, __(\"Action\"));\n\n\t\tfrm.add_custom_button(__(\"Add Subscribers\"), function() {\n\t\t\tfrappe.prompt({fieldtype:\"Text\",\n\t\t\t\tlabel:__(\"Email Addresses\"), fieldname:\"email_list\", reqd:1},\n\t\t\t\tfunction(data) {\n\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\tmethod: \"frappe.email.doctype.email_group.email_group.add_subscribers\",\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\"name\": frm.doc.name,\n\t\t\t\t\t\t\t\"email_list\": data.email_list\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\tfrm.set_value(\"total_subscribers\", r.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}, __(\"Add Subscribers\"), __(\"Add\"));\n\t\t}, __(\"Action\"));\n\n\t\tfrm.add_custom_button(__(\"New Newsletter\"), function() {\n\t\t\tfrappe.route_options = {\"email_group\": frm.doc.name};\n\t\t\tfrappe.new_doc(\"Newsletter\");\n\t\t}, __(\"Action\"));\n\n\t}\n});\n","__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":1,"beta":0,"read_only_onload":0,"module":"Email","doctype":"DocType","autoname":"field:title","__kanban_boards":[],"issingle":0,"__listview_template":null,"name":"Email Group","idx":0,"hide_toolbar":0,"__workflow_docs":[],"modified":"2017-02-27 19:01:17.203845","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[{"creation":"2015-03-18 06:08:32.729800","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Newsletter Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Email Group","read":1,"import":1,"report":1,"apply_user_permissions":0,"name":"91e5045a33","idx":1,"amend":0,"modified":"2017-06-09 23:47:41.853435","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":1,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}