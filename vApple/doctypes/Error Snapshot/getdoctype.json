{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Snapshot View","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d74f10b92e","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"view","fieldtype":"HTML","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Seen","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":1,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"54dd5bda6d","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"seen","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Friendly Title","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3bef1903e5","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"evalue","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Timestamp","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6e0cfb54af","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"timestamp","fieldtype":"Datetime","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Relapses","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"bd584c5b34","idx":5,"default":"1","in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"relapses","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Exception Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f592bb27d7","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"etype","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Traceback","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"655b0ae71a","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"traceback","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Parent Error Snapshot","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c4354bb85b","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"parent_error_snapshot","fieldtype":"Data","options":"","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Pyver","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c0e884831e","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"pyver","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Exception","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fcacab9402","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"exception","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Locals","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3dba3c9aee","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"locals","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2015-11-28 00:57:39.766888","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Frames","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Error Snapshot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d9ca81172f","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.034398","parenttype":"DocType","fieldname":"frames","fieldtype":"Code","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2015-11-28 00:57:39.766888","__list_js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/error_snapshot/error_snapshot_list.js */\n\nfrappe.listview_settings[\"Error Snapshot\"] = {\n\tadd_fields: [\"parent_error_snapshot\", \"relapses\", \"seen\"],\n\tfilters:[\n\t\t[\"parent_error_snapshot\",\"=\",null],\n\t\t[\"seen\", \"=\", false]\n\t],\n\tget_indicator: function(doc){\n\t\tif (doc.parent_error_snapshot && doc.parent_error_snapshot.length){\n\t\t\treturn [__(\"Relapsed\"), !doc.seen ? \"orange\" : \"blue\", \"parent_error_snapshot,!=,\"];\n\t\t} else {\n\t\t\treturn [__(\"First Level\"), !doc.seen ? \"red\" : \"green\", \"parent_error_snapshot,=,\"];\n\t\t}\n\t}\n}\n","track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":1,"read_only":0,"__templates":{"error_object":"{% if (Object.prototype.toString.call(x) === \"[object Object]\") { %} <table class=\"table\"> {% for (var key in x) { %} <tr> <td><code>{{ key }}</code></td> <td>{{ x[key] }}</td> </tr> {% } %} </table> {% } else { %} {{ x }} {% } %} ","error_snapshot":"<style> a { cursor: pointer; } .codebox { font-family: monospace; font-size: 8pt; } .codebox .line.current { background: rgba(0,0,255, 0.1); } .codebox .lineno { text-align: right; display: inline-block; width: 30px; opacity: .5; } .codebox .code { white-space: pre; } .object-link { font-family: monospace; white-space: pre; } </style> {% function id(){ return id._old_id++; }; id._old_id = 0; %} <h3>{{ __(\"Error Report\") }}</h3> <p class=\"text-muted\">{{ doc.pyver }}</p> <dl> <dt>{{ __(\"Timestamp\") }}: </dt> <dd>{{ doc.timestamp }}</dd> <dt>{{ __(\"Relapsed\") }}</dt> <dd><code>{{ doc.relapses }}</code></dd> </dl> <h3>{{ __(\"Exception\") }}</h3> {{ frappe.render_template(\"error_object\", {x: JSON.parse(doc.exception)}) }} <h3>{{ __(\"Locals\") }}</h3> {{ frappe.render_template(\"error_object\", {x: JSON.parse(doc.locals)} )}} <h3>{{ __(\"Traceback\") }}</h3> {% var frames = JSON.parse(doc.frames); %} {% for (var i in frames) { %} {% var frameid = id(), frame = frames[i] %} <p><i class=\"octicon octicon-file-text\"></i> <code>{{ frame.file }}: {{ frame.lnum }}</code> <div class=\"row\"> <div class=\"codebox\"> <div class=\"col-lg-11\"> {% for (var index in frame.lines) { %} {% var line = frame.lines[index] %} <div class=\"line {{ index == frame.lnum ? \"current\": \"\" }}\"> <span class=\"lineno text-muted\">{{ index }}</span> <span class=\"code\">{{ line }}</span> </div> {% } %} </div> <div class=\"col-lg-1\"> <span class=\"btn btn-xs btn-default\" data-toggle=\"collapse\" data-target=\"#frame-{{ frameid }}-locals\"> <i class=\"fa fa-list-ul\"> {{ __(\"Locals\") }}</i> </span> </div> </div> </div> <div class=\"row\"> <div class=\"col-lg-12 collapse\" id=\"frame-{{ frameid }}-locals\"> <h4>{{ __(\"Locals\") }}</h4> {{ frappe.render_template(\"error_object\", {x: frame.dump }) }} </div> </div> </p> {% } %} "},"document_type":"System","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/error_snapshot/error_snapshot.js */\n\nfrappe.ui.form.on(\"Error Snapshot\", \"load\", function(frm){\n\tfrm.set_read_only(true);\n});\n\nfrappe.ui.form.on(\"Error Snapshot\", \"refresh\", function(frm){\n\tfrm.set_df_property(\"view\", \"options\", frappe.render_template(\"error_snapshot\", {\"doc\": frm.doc}));\n\n\tif (frm.doc.relapses) {\n\t\tfrm.add_custom_button(__('Show Relapses'), function() {\n\t\t\tfrappe.route_options = {\n\t\t\t\tparent_error_snapshot: frm.doc.name\n\t\t\t};\n\t\t\tfrappe.set_route(\"List\", \"Error Snapshot\");\n\t\t});\n\t}\n});\n","__tree_js":null,"docstatus":0,"sort_field":"timestamp","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Core","doctype":"DocType","__dashboard":{},"__kanban_boards":[],"issingle":0,"__listview_template":null,"name":"Error Snapshot","idx":0,"hide_toolbar":0,"__workflow_docs":[],"title_field":"evalue","modified":"2016-12-29 14:40:38.619106","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[{"creation":"2015-11-28 00:57:39.766888","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Administrator","print":1,"docstatus":0,"permlevel":0,"parent":"Error Snapshot","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"e0cd7b646f","idx":1,"amend":0,"modified":"2017-06-09 23:47:38.034398","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}