{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-01-10 16:34:01","search_fields":["module"],"doctype":"DocField","oldfieldname":"dt","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"DocType","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Custom Script","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2168db8138","idx":1,"in_standard_filter":1,"modified":"2017-09-29 01:32:30.609026","parenttype":"DocType","fieldname":"dt","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Select","creation":"2013-01-10 16:34:01","search_fields":null,"doctype":"DocField","oldfieldname":"script_type","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Script Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Custom Script","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0841fc8287","idx":2,"default":"Client","in_standard_filter":1,"modified":"2017-09-29 01:32:30.609026","parenttype":"DocType","fieldname":"script_type","fieldtype":"Select","options":"Client","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Code","creation":"2013-01-10 16:34:01","search_fields":null,"doctype":"DocField","oldfieldname":"script","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Script","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Custom Script","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4252919af2","idx":3,"in_standard_filter":0,"modified":"2017-09-29 01:32:30.609026","parenttype":"DocType","fieldname":"script","fieldtype":"Code","options":"Script","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-10 16:34:01","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Sample","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Custom Script","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4749597069","idx":4,"in_standard_filter":0,"modified":"2017-09-29 01:32:30.609026","parenttype":"DocType","fieldname":"sample","fieldtype":"HTML","options":"<h3>Custom Script Help</h3>\n<p>Custom Scripts are executed only on the client-side (i.e. in Forms). Here are some examples to get you started</p>\n<pre><code>\n\n// fetch local_tax_no on selection of customer\n// cur_frm.add_fetch(link_field, source_fieldname, target_fieldname);\ncur_frm.add_fetch(\"customer\", \"local_tax_no\", \"local_tax_no\");\n\n// additional validation on dates\nfrappe.ui.form.on(\"Task\", \"validate\", function(frm) {\n    if (frm.doc.from_date &lt; get_today()) {\n        msgprint(\"You can not select past date in From Date\");\n        validated = false;\n    }\n});\n\n// make a field read-only after saving\nfrappe.ui.form.on(\"Task\", {\n    refresh: function(frm) {\n        // use the __islocal value of doc, to check if the doc is saved or not\n        frm.set_df_property(\"myfield\", \"read_only\", frm.doc.__islocal ? 0 : 1);\n    }\n});\n\n// additional permission check\nfrappe.ui.form.on(\"Task\", {\n    validate: function(frm) {\n        if(user==\"user1@example.com\" &amp;&amp; frm.doc.purpose!=\"Material Receipt\") {\n            msgprint(\"You are only allowed Material Receipt\");\n            validated = false;\n        }\n    }\n});\n\n// calculate sales incentive\nfrappe.ui.form.on(\"Sales Invoice\", {\n    validate: function(frm) {\n        // calculate incentives for each person on the deal\n        total_incentive = 0\n        $.each(frm.doc.sales_team), function(i, d) {\n\n            // calculate incentive\n            var incentive_percent = 2;\n            if(frm.doc.base_grand_total &gt; 400) incentive_percent = 4;\n\n            // actual incentive\n            d.incentives = flt(frm.doc.base_grand_total) * incentive_percent / 100;\n            total_incentive += flt(d.incentives)\n        });\n\n        frm.doc.total_incentive = total_incentive;\n    }\n})\n\n</code>\n</pre>","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2013-01-10 16:34:01","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"ASC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Document","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/custom/doctype/custom_script/custom_script.js */\n\n// Copyright (c) 2016, Frappe Technologies and contributors\n// For license information, please see license.txt\n\nfrappe.ui.form.on('Custom Script', {\n\trefresh: function(frm) {\n\n\t}\n});\n","__tree_js":null,"docstatus":0,"__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":0,"description":"Adds a custom script (client or server) to a DocType","has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Custom","doctype":"DocType","autoname":"CustomScript.####","__kanban_boards":[],"issingle":0,"icon":"fa fa-glass","__listview_template":null,"name":"Custom Script","idx":1,"hide_toolbar":0,"__workflow_docs":[],"modified":"2017-08-17 07:43:08.093341","is_submittable":0,"__calendar_js":null,"permissions":[{"creation":"2013-01-10 16:34:01","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"System Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Custom Script","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"e8237bdb38","idx":1,"amend":0,"modified":"2017-09-29 01:32:30.609026","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-01-10 16:34:01","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Administrator","print":1,"docstatus":0,"permlevel":0,"parent":"Custom Script","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"333243d5a0","idx":2,"amend":0,"modified":"2017-09-29 01:32:30.609026","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{\"last_view\": \"List\", \"updated_on\": \"Fri Sep 29 2017 18:38:52 GMT+0100\", \"List\": {\"order_by\": \"`tabCustom Script`.`modified` desc\", \"filters\": []}}"}