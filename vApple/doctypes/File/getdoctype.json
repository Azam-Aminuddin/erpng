{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"oldfieldtype":"Data","creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","oldfieldname":"file_name","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":1,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"File Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"accccf674e","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"file_name","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Private","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:!doc.is_folder","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"18dc3bea3a","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"is_private","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Preview","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ce329f3b6b","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"preview","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Preview HTML","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ab0fccfc83","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"preview_html","fieldtype":"HTML","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c3a45e0470","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"section_break_5","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Home Folder","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8685a2b53a","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"is_home_folder","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Attachments Folder","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f454d6e468","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"is_attachments_folder","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"File Size","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5f03de4784","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"file_size","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"67fdb2ef1d","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"column_break_5","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"File URL","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:!doc.is_folder","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0ad617dfd0","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"file_url","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Thumbnail URL","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3187d7087a","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"thumbnail_url","fieldtype":"Small Text","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Folder","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"95b0b374a2","idx":12,"in_standard_filter":1,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"folder","fieldtype":"Link","options":"File","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Folder","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"29b8a56204","idx":13,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"is_folder","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:!doc.is_folder","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0f72b6ff84","idx":14,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"section_break_8","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":["module"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Attached To DocType","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"985936ca90","idx":15,"in_standard_filter":1,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"attached_to_doctype","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2d8d499c84","idx":16,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"column_break_10","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Attached To Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"16b2cad3eb","idx":17,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"attached_to_name","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Content Hash","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"bf5763e9d0","idx":18,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"content_hash","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"lft","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0913dc243b","idx":19,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"lft","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"rgt","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fad53826b3","idx":20,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"rgt","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2012-12-12 11:19:22","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"old_parent","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"File","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ae85004648","idx":21,"in_standard_filter":0,"modified":"2017-06-09 23:47:38.184439","parenttype":"DocType","fieldname":"old_parent","fieldtype":"Data","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2012-12-12 11:19:22","__list_js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/file/file_list.js */\n\nfrappe.provide(\"frappe.ui\");\n\nfrappe.listview_settings['File'] = {\n\thide_name_column: true,\n\tuse_route: true,\n\tadd_fields: [\"is_folder\", \"file_name\", \"file_url\", \"folder\", \"is_private\"],\n\tformatters: {\n\t\tfile_size: function(value) {\n\t\t\t// formatter for file size\n\t\t\tif(value > 1048576) {\n\t\t\t\tvalue = flt(flt(value) / 1048576, 1) + \"M\";\n\t\t\t} else if (value > 1024) {\n\t\t\t\tvalue = flt(flt(value) / 1024, 1) + \"K\";\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t},\n\tprepare_data: function(data) {\n\t\t// set image icons\n\t\tvar icon = \"\";\n\n\t\tif(data.is_folder) {\n\t\t\ticon += '<i class=\"fa fa-folder-close-alt fa-fw\"></i> ';\n\t\t} else if(frappe.utils.is_image_file(data.file_name)) {\n\t\t\ticon += '<i class=\"fa fa-picture fa-fw\"></i> ';\n\t\t} else {\n\t\t\ticon += '<i class=\"fa fa-file-alt fa-fw\"></i> ';\n\t\t}\n\n\t\tdata._title = icon + (data.file_name ? data.file_name : data.file_url);\n\n\t\tif (data.is_private) {\n\t\t\tdata._title += ' <i class=\"fa fa-lock fa-fw text-warning\"></i>';\n\t\t}\n\t},\n\tonload: function(doclist) {\n\t\tdoclist.filter_area = doclist.wrapper.find(\".show_filters\");\n\n\t\tdoclist.breadcrumb = $('<ol class=\"breadcrumb for-file-list\"></ol>')\n\t\t\t.insertBefore(doclist.filter_area);\n\t\tdoclist.list_renderer.settings.setup_menu(doclist);\n\t\tdoclist.list_renderer.settings.setup_dragdrop(doclist);\n\n\t\tdoclist.$page.on(\"click\", \".list-row-checkbox\", function(event) {\n\t\t\tdoclist.list_renderer.settings.add_menu_item_copy(doclist);\n\t\t});\n\t},\n\tlist_view_doc:function(doclist){\n\t\t$(doclist.wrapper).on(\"click\", 'button[list_view_doc=\"'+doclist.doctype+'\"]', function() {\n\t\t\tfrappe.ui.get_upload_dialog({\n\t\t\t\t\"args\": {\n\t\t\t\t\t\"folder\": doclist.current_folder,\n\t\t\t\t\t\"from_form\": 1\n\t\t\t\t},\n\t\t\t\tcallback: function() {\n\t\t\t\t\tdoclist.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tsetup_menu: function(doclist) {\n\t\tdoclist.page.add_menu_item(__(\"New Folder\"), function() {\n\t\t\tvar d = frappe.prompt(__(\"Name\"), function(values) {\n\t\t\t\tif((values.value.indexOf(\"/\") > -1)){\n\t\t\t\t\tfrappe.throw(__(\"Folder name should not include '/' (slash)\"));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar data =  {\n\t\t\t\t\t\"file_name\": values.value,\n\t\t\t\t\t\"folder\": doclist.current_folder\n\t\t\t\t};\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.core.doctype.file.file.create_new_folder\",\n\t\t\t\t\targs: data,\n\t\t\t\t\tcallback: function(r) { }\n\t\t\t\t});\n\t\t\t}, __('Enter folder name'), __(\"Create\"));\n\t\t});\n\n\t\tdoclist.page.add_menu_item(__(\"Edit Folder\"), function() {\n\t\t\tfrappe.set_route(\"Form\", \"File\", doclist.current_folder);\n\t\t});\n\n\t\tdoclist.page.add_menu_item(__(\"Import .zip\"), function() {\n\t\t\t// make upload dialog\n\t\t\tfrappe.ui.get_upload_dialog({\n\t\t\t\targs: {\n\t\t\t\t\tfolder: doclist.current_folder,\n\t\t\t\t\tfrom_form: 1\n\t\t\t\t},\n\t\t\t\tcallback: function(attachment, r) {\n\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\tmethod: \"frappe.core.doctype.file.file.unzip_file\",\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tname: r.message[\"name\"],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\t\t\t//doclist.refresh();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfrappe.msgprint(__(\"Error in uploading files\" + r.exc));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t},\n\tsetup_dragdrop: function(doclist) {\n\t\t$(doclist.$page).on('dragenter dragover', false)\n\t\t\t.on('drop', function (e) {\n\t\t\t\tvar dataTransfer = e.originalEvent.dataTransfer;\n\t\t\t\tif (!(dataTransfer && dataTransfer.files && dataTransfer.files.length > 0)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tfrappe.upload.multifile_upload(dataTransfer.files, {\n\t\t\t\t\t\"folder\": doclist.current_folder,\n\t\t\t\t\t\"from_form\": 1\n\t\t\t\t}, {\n\t\t\t\t\tconfirm_is_private: 1\n\t\t\t\t});\n\t\t\t});\n\t},\n\tadd_menu_item_copy: function(doclist){\n\t\tif (!doclist.copy) {\n\t\t\tvar copy_menu = doclist.page.add_menu_item(__(\"Copy\"), function() {\n\t\t\t\tif(doclist.$page.find(\".list-row-checkbox:checked\").length){\n\t\t\t\t\tdoclist.selected_files = doclist.get_checked_items();\n\t\t\t\t\tdoclist.old_parent = doclist.current_folder;\n\t\t\t\t\tdoclist.list_renderer.settings.add_menu_item_paste(doclist);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfrappe.throw(__(\"Please select file to copy\"));\n\t\t\t\t}\n\t\t\t});\n\t\t\tdoclist.copy = true;\n\t\t}\n\t},\n\tadd_menu_item_paste:function(doclist){\n\t\tvar paste_menu = doclist.page.add_menu_item(__(\"Paste\"), function(){\n\t\t\tfrappe.call({\n\t\t\t\tmethod:\"frappe.core.doctype.file.file.move_file\",\n\t\t\t\targs: {\n\t\t\t\t\t\"file_list\": doclist.selected_files,\n\t\t\t\t\t\"new_parent\": doclist.current_folder,\n\t\t\t\t\t\"old_parent\": doclist.old_parent\n\t\t\t\t},\n\t\t\t\tcallback:function(r){\n\t\t\t\t\tdoclist.paste = false;\n\t\t\t\t\tfrappe.msgprint(__(r.message));\n\t\t\t\t\tdoclist.selected_files = [];\n\t\t\t\t\t$(paste_menu).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tbefore_run: function(doclist) {\n\t\tvar name_filter = doclist.filter_list.get_filter(\"file_name\");\n\t\tif(name_filter) {\n\t\t\tdoclist.filter_area.removeClass(\"hide\");\n\t\t\tdoclist.breadcrumb.addClass(\"hide\");\n\t\t} else {\n\t\t\tdoclist.filter_area.addClass(\"hide\");\n\t\t\tdoclist.breadcrumb.removeClass(\"hide\");\n\t\t}\n\t},\n\trefresh: function(doclist) {\n\t\tvar name_filter = doclist.filter_list.get_filter(\"file_name\");\n\n\t\tvar folder_filter = doclist.filter_list.get_filter(\"folder\");\n\t\tif(folder_filter) {\n\t\t\tfolder_filter.remove(true);\n\t\t}\n\n\t\tif(name_filter) return;\n\n\t\tvar route = frappe.get_route();\n\t\tif(route[2]) {\n\t\t\tdoclist.current_folder = route.slice(2).join(\"/\");\n\t\t\tdoclist.current_folder_name = route.slice(-1)[0];\n\t\t}\n\n\t\tif(!doclist.current_folder || doclist.current_folder==\"List\") {\n\t\t\tdoclist.current_folder = frappe.boot.home_folder;\n\t\t\tdoclist.current_folder_name = __(\"Home\");\n\t\t}\n\n\t\tdoclist.filter_list.add_filter(\"File\", \"folder\", \"=\", doclist.current_folder, true);\n\t\tdoclist.dirty = true;\n\t\tdoclist.fresh = false;\n\n\t\tdoclist.page.set_title(doclist.current_folder_name);\n\t\tfrappe.utils.set_title(doclist.current_folder_name);\n\t},\n\tset_primary_action:function(doclist){\n\t\tdoclist.page.clear_primary_action();\n\t\tdoclist.page.set_primary_action(__(\"New\"), function() {\n\t\t\tfrappe.ui.get_upload_dialog({\n\t\t\t\t\"args\": {\n\t\t\t\t\t\"folder\": doclist.current_folder,\n\t\t\t\t\t\"from_form\": 1\n\t\t\t\t},\n\t\t\t\tcallback: function() {\n\t\t\t\t\tdoclist.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}, \"octicon octicon-plus\");\n\t},\n\tpost_render_item: function(list, row, data) {\n\t\tif(data.is_folder) {\n\t\t\t$(row).find(\".list-id\").attr(\"href\", \"#List/File/\" + data.name);\n\t\t}\n\t},\n\tset_file_route: function(name) {\n\t\tfrappe.set_route([\"List\", \"File\"].concat(decodeURIComponent(name).split(\"/\")));\n\t},\n\tpost_render: function(doclist) {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.core.doctype.file.file.get_breadcrumbs\",\n\t\t\targs: {\n\t\t\t\tfolder: doclist.current_folder\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tdoclist.breadcrumb.empty();\n\t\t\t\tif(r.message && r.message.length) {\n\t\t\t\t\t$.each(r.message, function(i, folder) {\n\t\t\t\t\t\t$('<li><a href=\"#List/File/'+folder.name+'\">'\n\t\t\t\t\t\t\t+ folder.file_name+'</a></li>')\n\t\t\t\t\t\t\t.appendTo(doclist.breadcrumb);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$('<li class=\"active\">'+ doclist.current_folder_name+'</li>')\n\t\t\t\t\t.appendTo(doclist.breadcrumb);\n\t\t\t}\n\t\t});\n\t}\n};\n","track_changes":1,"track_seen":0,"sort_order":"ASC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"__css":null,"hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/file/file.js */\n\nfrappe.ui.form.on(\"File\", \"refresh\", function(frm) {\n\tif(!frm.doc.is_folder) {\n\t\tfrm.add_custom_button(__('Download'), function() {\n\t\t\tvar file_url = frm.doc.file_url;\n\t\t\tif (frm.doc.file_name) {\n\t\t\t\tfile_url = file_url.replace(/#/g, '%23');\n\t\t\t}\n\t\t\twindow.open(file_url);\n\t\t}, \"fa fa-download\");\n\t}\n\n\tvar wrapper = frm.get_field(\"preview_html\").$wrapper;\n\tvar is_viewable = frappe.utils.is_image_file(frm.doc.file_url);\n\n\tfrm.toggle_display(\"preview\", is_viewable);\n\tfrm.toggle_display(\"preview_html\", is_viewable);\n\n\tif(is_viewable){\n\t\twrapper.html('<div class=\"img_preview\">\\\n\t\t\t<img class=\"img-responsive\" src=\"'+frm.doc.file_url+'\"></img>\\\n\t\t\t</div>');\n\t} else {\n\t\twrapper.empty();\n\t}\n\n\tif(frm.doc.file_name && frm.doc.file_name.split('.').splice(-1)[0]==='zip') {\n\t\tfrm.add_custom_button(__('Unzip'), function() {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.core.doctype.file.file.unzip_file\",\n\t\t\t\targs: {\n\t\t\t\t\tname: frm.doc.name,\n\t\t\t\t},\n\t\t\t\tcallback: function() {\n\t\t\t\t\tfrappe.set_route('List', 'File');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n});\n","__tree_js":null,"menu_index":0,"docstatus":0,"__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Core","doctype":"DocType","autoname":"","__kanban_boards":[],"issingle":0,"icon":"fa fa-file","__listview_template":null,"name":"File","idx":1,"hide_toolbar":0,"__workflow_docs":[],"title_field":"file_name","modified":"2017-02-17 16:42:36.092962","is_submittable":0,"__calendar_js":null,"permissions":[{"creation":"2012-12-12 11:19:22","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"System Manager","print":1,"docstatus":0,"permlevel":0,"parent":"File","read":1,"import":1,"report":1,"apply_user_permissions":0,"name":"fa3f6fabc4","idx":1,"amend":0,"modified":"2017-06-09 23:47:38.184439","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2012-12-12 11:19:22","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"All","print":1,"docstatus":0,"permlevel":0,"parent":"File","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"a6c2f33e5f","idx":2,"amend":0,"modified":"2017-06-09 23:47:38.184439","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":1,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}