{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Enabled","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e15cdfea98","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"enabled","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b18764732a","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"section_break_2","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":["module"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Document Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6714e7ac15","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"document_type","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Email Field","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval: doc.document_type","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"9c4205e0c2","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"email_field","fieldtype":"Select","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Email Fieldname","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3b956fa385","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"email_fieldname","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1b302e9ff9","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"column_break_5","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"description":"To add dynamic subject, use jinja tags like\n\n<div><pre><code>{{ doc.name }} Delivered</code></pre></div>","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Subject","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"75a1f5eb48","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"subject","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f583ad0249","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"section_break_5","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"Send Feedback Request only if there is at least one communication is available for the document.","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Check Communication","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c58eabfd67","idx":9,"default":"1","in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"check_communication","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"Optional: The alert will be sent if this expression is true","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Condition","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e93367e9a2","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"condition","fieldtype":"Small Text","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4b5c7bdedd","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"column_break_7","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"37c0624438","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"html_8","fieldtype":"HTML","options":"<p><strong>Condition Examples:</strong></p>\n<pre>doc.status==\"Closed\"\ndoc.due_date==nowdate()\ndoc.total &gt; 40000\n</pre>","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Message","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"cc569ca401","idx":13,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"section_break_9","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Message","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6cdd5c6150","idx":14,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"message","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-01-24 15:46:38.366213","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Example","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Feedback Trigger","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d6dc6d26cc","idx":15,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.266297","parenttype":"DocType","fieldname":"example","fieldtype":"HTML","options":"<h5>Message Example</h5>\n\n<pre>&lt;h3&gt;Issue Resolved&lt;/h3&gt;\n\n&lt;p&gt;Issue {{ doc.name }} Is resolved. Please check and confirm the same.&lt;/p&gt;\n\n&lt;p&gt; Your Feedback is important for us. Please give us your Feedback for {{ doc.name }}&lt;/p&gt;\n\n&lt;h4&gt;Details&lt;/h4&gt;</pre>","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2017-01-24 15:46:38.366213","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/feedback_trigger/feedback_trigger.js */\n\n// Copyright (c) 2016, Frappe Technologies and contributors\n// For license information, please see license.txt\n\nfrappe.ui.form.on('Feedback Trigger', {\n\tonload: function(frm) {\n\t\tfrm.set_query(\"document_type\", function() {\n\t\t\treturn {\n\t\t\t\t\"filters\": {\n\t\t\t\t\t\"istable\": 0\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\n\trefresh: function(frm) {\n\t\tfrm.events.setup_field_options(frm);\n\t},\n\n\tdocument_type: function(frm) {\n\t\tfrm.set_value('email_field', '');\n\t\tfrm.set_value('email_fieldname');\n\n\t\tfrm.events.setup_field_options(frm);\n\t},\n\n\temail_field: function(frm) {\n\t\tfrm.set_value('email_fieldname', frm.fieldname_mapper[frm.doc.email_field]);\n\t},\n\n\tsetup_field_options: function(frm) {\n\t\tfrm.fieldname_mapper = {};\n\t\tfrm.options = [];\n\n\t\tif(!frm.doc.document_type)\n\t\t\treturn\n\n\t\tfrappe.model.with_doctype(frm.doc.document_type, function() {\n\t\t\tvar fields = frappe.get_doc(\"DocType\", frm.doc.document_type).fields;\n\t\t\t$.each(fields, function(idx, field) {\n\t\t\t\tif(!in_list(frappe.model.no_value_type, field.fieldtype) && field.options == \"Email\") {\n\t\t\t\t\tfrm.options.push(field.label);\n\t\t\t\t\tfrm.fieldname_mapper[field.label] = field.fieldname;\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfrm.set_df_property(\"email_field\", \"options\", [\"\"].concat(frm.options));\n\t\t\tfrm.refresh_fields();\n\t\t});\n\t}\n});\n","__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Core","doctype":"DocType","autoname":"field:document_type","__kanban_boards":[],"issingle":0,"__listview_template":null,"name":"Feedback Trigger","idx":0,"hide_toolbar":0,"__workflow_docs":[],"title_field":"document_type","modified":"2017-05-29 16:36:04.178592","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[{"creation":"2017-01-24 15:46:38.366213","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"System Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Feedback Trigger","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"b56adaea18","idx":1,"amend":0,"modified":"2017-06-09 23:47:37.266297","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}