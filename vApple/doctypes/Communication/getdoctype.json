{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":1,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Subject","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5430efe6c0","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"subject","fieldtype":"Small Text","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"collapsible_depends_on":"","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"To and CC","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"90672aaaf4","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"section_break_10","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.communication_type===\"Communication\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"153d1dbf8c","idx":3,"default":"","in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"communication_medium","fieldtype":"Select","options":"\nEmail\nChat\nPhone\nSMS\nVisit\nOther","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":1,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":255,"label":"From","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.communication_medium===\"Email\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2965de1872","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"sender","fieldtype":"Data","options":"Email","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4f673b9476","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"column_break_4","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"To","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"877ee61706","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"recipients","fieldtype":"Code","options":"Email","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"CC","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.communication_medium===\"Email\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"86f8047a73","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"cc","fieldtype":"Code","options":"Email","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Phone No.","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:in_list([\"Phone\", \"SMS\"], doc.communication_medium)","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"574b67933f","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"phone_no","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"Integrations can use this field to set email delivery status","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Delivery Status","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"da0b63687f","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"delivery_status","fieldtype":"Select","options":"\nSent\nBounced\nOpened\nMarked As Spam\nRejected\nDelayed\nSoft-Bounced\nClicked\nRecipient Unsubscribed\nError\nExpired\nSending","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e135d9a3cf","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"section_break_8","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Message","print_hide_if_no_value":0,"width":"400","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c4ba5d57d7","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"content","fieldtype":"Text Editor","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Status","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"7a45805a55","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"status_section","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Text Content","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"66341c47f0","idx":13,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"text_content","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Communication Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d3d997c60b","idx":14,"default":"Communication","in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"communication_type","fieldtype":"Select","options":"Communication\nComment\nChat\nBot\nNotification\nFeedback","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Comment Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fc8bab8fd1","idx":15,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"comment_type","fieldtype":"Select","options":"\nComment\nLike\nInfo\nLabel\nWorkflow\nCreated\nUpdated\nSubmitted\nCancelled\nDeleted\nAssigned\nAssignment Completed\nAttachment\nAttachment Removed\nShared\nUnshared\nBot\nRelinked","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"816022ccc2","idx":16,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"column_break_5","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Status","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.communication_type===\"Communication\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0919594c6a","idx":17,"in_standard_filter":1,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"status","fieldtype":"Select","options":"Open\nReplied\nClosed\nLinked","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Sent or Received","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.communication_type===\"Communication\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1fa1b518ba","idx":18,"in_standard_filter":1,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"sent_or_received","fieldtype":"Select","options":"Sent\nReceived","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"More Information","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2b5daa0b1b","idx":19,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"additional_info","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Date","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"55be8841a5","idx":20,"default":"Now","in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"communication_date","fieldtype":"Datetime","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Sent Read Receipt","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d28679aabf","idx":21,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"read_receipt","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8bf52a5c70","idx":22,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"column_break_14","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"From Full Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d72219c997","idx":23,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"sender_full_name","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Reference","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"037bafbba0","idx":24,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"reference_section","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":["module"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Reference DocType","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"680a8024fb","idx":25,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"reference_doctype","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Reference Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e585bfe3c0","idx":26,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"reference_name","fieldtype":"Dynamic Link","options":"reference_doctype","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Reference Owner","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":1,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"03c784c40f","idx":27,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"reference_owner","fieldtype":"Read Only","options":"reference_name.owner","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Email Account","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"depends_on":"eval:doc.communication_medium===\"Email\"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d092012531","idx":28,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"email_account","fieldtype":"Link","options":"Email Account","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":["subject"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"In Reply To","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e612807fa5","idx":29,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"in_reply_to","fieldtype":"Link","options":"Communication","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":["full_name"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":1,"length":0,"label":"User","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"513f0608f4","idx":30,"default":"__user","in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"user","fieldtype":"Link","options":"User","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b880513f45","idx":31,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"column_break_27","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":["module"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Link DocType","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"eae3a67672","idx":32,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"link_doctype","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Link Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e3f991d917","idx":33,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"link_name","fieldtype":"Dynamic Link","options":"link_doctype","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":["module"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Timeline DocType","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ad36fcd0d0","idx":34,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"timeline_doctype","fieldtype":"Link","options":"DocType","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Timeline Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"12c21d3d58","idx":35,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"timeline_name","fieldtype":"Dynamic Link","options":"timeline_doctype","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Timeline field Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"cdef85e795","idx":36,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"timeline_label","fieldtype":"Data","options":"","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Unread Notification Sent","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1a488245aa","idx":37,"default":"0","in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"unread_notification_sent","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Seen","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"674721f444","idx":38,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"seen","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"User Tags","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ee12f1ce51","idx":39,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"_user_tags","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Email Inbox","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":1,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a883bc3c76","idx":40,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"email_inbox","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":1,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":995,"label":"Message ID","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ec474b4624","idx":41,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"message_id","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":1,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"UID","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f3e4cd19af","idx":42,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"uid","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Email Status","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d607e5a408","idx":43,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"email_status","fieldtype":"Select","options":"Open\nSpam\nTrash","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Has  Attachment","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8b53a33677","idx":44,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"has_attachment","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Feedback","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval: doc.rating > 0","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"aa7d193ae2","idx":45,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"feedback_section","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Rating","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fd72d8c55b","idx":46,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"rating","fieldtype":"Int","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-29 10:47:14","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Feedback Request","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Communication","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e88c35405c","idx":47,"in_standard_filter":0,"modified":"2017-06-09 23:47:37.404967","parenttype":"DocType","fieldname":"feedback_request","fieldtype":"Data","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2013-01-29 10:47:14","search_fields":"subject","track_changes":1,"track_seen":1,"sort_order":"DESC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/communication/communication.js */\n\nfrappe.ui.form.on(\"Communication\", {\n\tonload: function(frm) {\n\t\tif(frm.doc.content) {\n\t\t\tfrm.doc.content = frappe.dom.remove_script_and_style(frm.doc.content);\n\t\t}\n\t\tfrm.set_query(\"reference_doctype\", function() {\n\t\t\treturn {\n\t\t\t\tfilters: {\n\t\t\t\t\t\"issingle\": 0,\n\t\t\t\t\t\"istable\": 0\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\trefresh: function(frm) {\n\t\tif(frm.is_new()) return;\n\n\t\tfrm.convert_to_click && frm.set_convert_button();\n\t\tfrm.subject_field = \"subject\";\n\n\t\tif(frm.doc.reference_doctype && frm.doc.reference_name) {\n\t\t\tfrm.add_custom_button(__(frm.doc.reference_name), function() {\n\t\t\t\tfrappe.set_route(\"Form\", frm.doc.reference_doctype, frm.doc.reference_name);\n\t\t\t});\n\t\t} else {\n\t\t\t// if an unlinked communication, set email field\n\t\t\tif (frm.doc.sent_or_received===\"Received\") {\n\t\t\t\tfrm.email_field = \"sender\";\n\t\t\t} else {\n\t\t\t\tfrm.email_field = \"recipients\";\n\t\t\t}\n\t\t}\n\n\t\tif(frm.doc.communication_type == \"Feedback\") {\n\t\t\tfrm.add_custom_button(__(\"Resend\"), function() {\n\t\t\t\tvar feedback = new frappe.utils.Feedback();\n\t\t\t\tfeedback.resend_feedback_request(frm.doc);\n\t\t\t});\n\t\t}\n\n\t\tif(frm.doc.status===\"Open\") {\n\t\t\tfrm.add_custom_button(__(\"Close\"), function() {\n\t\t\t\tfrm.set_value(\"status\", \"Closed\");\n\t\t\t\tfrm.save();\n\t\t\t});\n\t\t} else if (frm.doc.status !== \"Linked\") {\n\t\t\tfrm.add_custom_button(__(\"Reopen\"), function() {\n\t\t\t\tfrm.set_value(\"status\", \"Open\");\n\t\t\t\tfrm.save();\n\t\t\t});\n\t\t}\n\n\t\tfrm.add_custom_button(__(\"Relink\"), function() {\n\t\t\tfrm.trigger('show_relink_dialog');\n\t\t});\n\n\t\tif(frm.doc.communication_type==\"Communication\" \n\t\t\t&& frm.doc.communication_medium == \"Email\"\n\t\t\t&& frm.doc.sent_or_received == \"Received\") {\n\n\t\t\tfrm.add_custom_button(__(\"Reply\"), function() {\n\t\t\t\tfrm.trigger('reply');\n\t\t\t});\n\n\t\t\tfrm.add_custom_button(__(\"Reply All\"), function() {\n\t\t\t\tfrm.trigger('reply_all');\n\t\t\t}, \"Actions\");\n\n\t\t\tfrm.add_custom_button(__(\"Forward\"), function() {\n\t\t\t\tfrm.trigger('forward_mail');\n\t\t\t}, \"Actions\");\n\n\t\t\tfrm.add_custom_button(__(\"Mark as {0}\", [frm.doc.seen? \"Unread\": \"Read\"]), function() {\n\t\t\t\tfrm.trigger('mark_as_read_unread');\n\t\t\t}, \"Actions\");\n\n\t\t\tfrm.add_custom_button(__(\"Add Contact\"), function() {\n\t\t\t\tfrm.trigger('add_to_contact');\n\t\t\t}, \"Actions\");\n\n\t\t\tif(frm.doc.email_status != \"Spam\")\n\t\t\t\tfrm.add_custom_button(__(\"Mark as Spam\"), function() {\n\t\t\t\t\tfrm.trigger('mark_as_spam');\n\t\t\t\t}, \"Actions\");\n\n\t\t\tif(frm.doc.email_status != \"Trash\") {\n\t\t\t\tfrm.add_custom_button(__(\"Move To Trash\"), function() {\n\t\t\t\t\tfrm.trigger('move_to_trash');\n\t\t\t\t}, \"Actions\");\n\t\t\t}\n\t\t}\n\t},\n\tshow_relink_dialog: function(frm){\n\t\tvar lib = \"frappe.email\";\n\t\tvar d = new frappe.ui.Dialog ({\n\t\t\ttitle: __(\"Relink Communication\"),\n\t\t\tfields: [{\n\t\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\t\"options\": \"DocType\",\n\t\t\t\t\"label\": __(\"Reference Doctype\"),\n\t\t\t\t\"fieldname\": \"reference_doctype\",\n\t\t\t\t\"get_query\": function() {return {\"query\": \"frappe.email.get_communication_doctype\"}}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldtype\": \"Dynamic Link\",\n\t\t\t\t\"options\": \"reference_doctype\",\n\t\t\t\t\"label\": __(\"Reference Name\"),\n\t\t\t\t\"fieldname\": \"reference_name\"\n\t\t\t}]\n\t\t});\n\t\td.set_value(\"reference_doctype\", frm.doc.reference_doctype);\n\t\td.set_value(\"reference_name\", frm.doc.reference_name);\n\t\td.set_primary_action(__(\"Relink\"), function () {\n\t\t\tvar values = d.get_values();\n\t\t\tif (values) {\n\t\t\t\tfrappe.confirm(\n\t\t\t\t\t__('Are you sure you want to relink this communication to {0}?', [values[\"reference_name\"]]),\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\td.hide();\n\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\tmethod: \"frappe.email.relink\",\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\"name\": frm.doc.name,\n\t\t\t\t\t\t\t\t\"reference_doctype\": values[\"reference_doctype\"],\n\t\t\t\t\t\t\t\t\"reference_name\": values[\"reference_name\"]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcallback: function () {\n\t\t\t\t\t\t\t\tfrm.refresh();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tfrappe.show_alert('Document not Relinked')\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\td.show();\n\t},\n\n\tmark_as_read_unread: function(frm) {\n\t\tvar action = frm.doc.seen? \"Unread\": \"Read\";\n\t\tvar flag = \"(\\\\SEEN)\";\n\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.email.inbox.create_email_flag_queue\",\n\t\t\targs: {\n\t\t\t\t'names': [frm.doc.name],\n\t\t\t\t'action': action,\n\t\t\t\t'flag': flag\n\t\t\t},\n\t\t\tfreeze: true\n\t\t});\n\t},\n\n\treply: function(frm) {\n\t\tvar args = frm.events.get_mail_args(frm);\n\t\t$.extend(args, {\n\t\t\tsubject: __(\"Re: {0}\", [frm.doc.subject]),\n\t\t\trecipients: frm.doc.sender\n\t\t})\n\n\t\tnew frappe.views.CommunicationComposer(args);\n\t},\n\n\treply_all: function(frm) {\n\t\tvar args = frm.events.get_mail_args(frm)\n\t\t$.extend(args, {\n\t\t\tsubject: __(\"Re: {0}\", [frm.doc.subject]),\n\t\t\trecipients: frm.doc.sender,\n\t\t\tcc: frm.doc.cc\n\t\t})\n\t\tnew frappe.views.CommunicationComposer(args);\n\t},\n\n\tforward_mail: function(frm) {\n\t\tvar args = frm.events.get_mail_args(frm)\n\t\t$.extend(args, {\t\t\n\t\t\tforward: true,\n\t\t\tsubject: __(\"Fw: {0}\", [frm.doc.subject]),\n\t\t})\n\n\t\tnew frappe.views.CommunicationComposer(args);\n\t},\n\n\tget_mail_args: function(frm) {\n\t\tvar sender_email_id = \"\"\n\t\t$.each(frappe.boot.email_accounts, function(idx, account) {\n\t\t\tif(account.email_account == frm.doc.email_account) {\n\t\t\t\tsender_email_id = account.email_id\n\t\t\t\treturn\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tfrm: frm,\n\t\t\tdoc: frm.doc,\n\t\t\tlast_email: frm.doc,\n\t\t\tsender: sender_email_id,\n\t\t\tattachments: frm.doc.attachments\n\t\t}\n\t},\n\n\tadd_to_contact: function(frm) {\n\t\tvar me = this;\n\t\tvar fullname = frm.doc.sender_full_name || \"\"\n\n\t\tvar names = fullname.split(\" \")\n\t\tvar first_name = names[0]\n\t\tvar last_name = names.length >= 2? names[names.length - 1]: \"\"\n\n\t\tfrappe.route_options = {\n\t\t\t\"email_id\": frm.doc.sender,\n\t\t\t\"first_name\": first_name,\n\t\t\t\"last_name\": last_name,\n\t\t}\n\t\tfrappe.new_doc(\"Contact\")\n\t},\n\n\tmark_as_spam: function(frm) {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.email.inbox.mark_as_spam\",\n\t\t\targs: {\n\t\t\t\tcommunication: frm.doc.name,\n\t\t\t\tsender: frm.doc.sender\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.msgprint(__(\"Email has been marked as spam\"))\n\t\t\t}\n\t\t})\n\t},\n\n\tmove_to_trash: function(frm) {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.email.inbox.mark_as_trash\",\n\t\t\targs: {\n\t\t\t\tcommunication: frm.doc.name\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.msgprint(__(\"Email has been moved to trash\"))\n\t\t\t}\n\t\t})\n\t}\n});\n\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/public/js/communication.js */\n\nfrappe.ui.form.on(\"Communication\", {\n\trefresh: function(frm) {\n\t\tif(frm.doc.reference_doctype !== \"Issue\") {\n\t\t\tfrm.add_custom_button(__(\"Issue\"), function() {\n\t\t\t\tfrappe.confirm(\"Are you sure you want to create Issue from this email\", function(){\n\t\t\t\t\tfrm.trigger('make_issue_from_communication');\n\t\t\t\t})\n\t\t\t}, \"Make\");\n\t\t}\n\n\t\tif(!in_list([\"Lead\", \"Opportunity\"], frm.doc.reference_doctype)) {\n\t\t\tfrm.add_custom_button(__(\"Lead\"), function() {\n\t\t\t\tfrappe.confirm(\"Are you sure you want to create Lead from this email\", function(){\n\t\t\t\t\tfrm.trigger('make_lead_from_communication');\t\n\t\t\t\t})\n\t\t\t}, \"Make\");\n\n\t\t\tfrm.add_custom_button(__(\"Opportunity\"), function() {\n\t\t\t\tfrappe.confirm(\"Are you sure you want to create Opportunity from this email\", function(){\n\t\t\t\t\tfrm.trigger('make_opportunity_from_communication');\n\t\t\t\t})\n\t\t\t}, \"Make\");\n\t\t}\n\n\n\t\tfrm.page.set_inner_btn_group_as_primary(__(\"Make\"));\n\t},\n\n\tmake_lead_from_communication: function(frm) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.email.inbox.make_lead_from_communication\",\n\t\t\targs: {\n\t\t\t\tcommunication: frm.doc.name\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.message) {\n\t\t\t\t\tfrm.reload_doc()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\n\tmake_issue_from_communication: function(frm) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.email.inbox.make_issue_from_communication\",\n\t\t\targs: {\n\t\t\t\tcommunication: frm.doc.name\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.message) {\n\t\t\t\t\tfrm.reload_doc()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\n\tmake_opportunity_from_communication: function(frm) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.email.inbox.make_opportunity_from_communication\",\n\t\t\targs: {\n\t\t\t\tcommunication: frm.doc.name\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.message) {\n\t\t\t\t\tfrm.reload_doc()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n});","__tree_js":null,"docstatus":0,"__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":0,"description":"Keep a track of all communications","has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Core","doctype":"DocType","autoname":"","__kanban_boards":[],"issingle":0,"icon":"fa fa-comment","__listview_template":null,"name":"Communication","idx":1,"hide_toolbar":0,"__workflow_docs":[],"title_field":"subject","modified":"2017-03-29 23:06:16.469149","is_submittable":0,"__calendar_js":null,"__list_js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/communication/communication_list.js */\n\nfrappe.listview_settings['Communication'] = {\n\tadd_fields: [\n\t\t\"sent_or_received\",\"recipients\", \"subject\",\n\t\t\"communication_medium\", \"communication_type\",\n\t\t\"sender\", \"seen\", \"reference_doctype\", \"reference_name\",\n\t\t\"has_attachment\"\n\t],\n\n\tfilters: [[\"status\", \"=\", \"Open\"]],\n\n\tonload: function(list_view) {\n\t\tlet method = \"frappe.email.inbox.create_email_flag_queue\"\n\n\t\tlist_view.page.add_menu_item(__(\"Mark as Read\"), function() {\n\t\t\tlist_view.call_for_selected_items(method, { action: \"Read\" });\n\t\t});\n\t\tlist_view.page.add_menu_item(__(\"Mark as Unread\"), function() {\n\t\t\tlist_view.call_for_selected_items(method, { action: \"Unread\" });\n\t\t});\n\t},\n\n\tset_primary_action: function(list_view) {\n\t\tvar me = this;\n\t\tif (list_view.new_doctype) {\n\t\t\tlist_view.page.set_primary_action(\n\t\t\t\t__(\"New\"),\n\t\t\t\tfunction() { new frappe.views.CommunicationComposer({ doc: {} }) },\n\t\t\t\t\"octicon octicon-plus\"\n\t\t\t);\n\t\t} else {\n\t\t\tlist_view.page.clear_primary_action();\n\t\t}\n\t}\n};\n","permissions":[{"creation":"2013-01-29 10:47:14","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":0,"role":"System Manager","print":0,"docstatus":0,"permlevel":0,"parent":"Communication","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"9b60ad1fd7","idx":1,"amend":0,"modified":"2017-06-09 23:47:37.404967","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-01-29 10:47:14","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":0,"submit":0,"write":0,"role":"System Manager","print":1,"docstatus":0,"permlevel":1,"parent":"Communication","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"8745851a29","idx":2,"amend":0,"modified":"2017-06-09 23:47:37.404967","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-01-29 10:47:14","share":0,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","user_permission_doctypes":"[\"Email Account\"]","create":0,"submit":0,"write":0,"role":"All","print":0,"docstatus":0,"permlevel":0,"parent":"Communication","read":1,"import":0,"report":0,"apply_user_permissions":1,"name":"9fa6d7de45","idx":3,"amend":0,"modified":"2017-06-09 23:47:37.404967","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":1,"delete":1},{"creation":"2013-01-29 10:47:14","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":0,"role":"Super Email User","print":1,"docstatus":0,"permlevel":0,"parent":"Communication","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"63da1b2696","idx":4,"amend":0,"modified":"2017-06-09 23:47:37.404967","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}