{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e2c8f47947","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"column_break0","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Company","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":1,"unique":0,"name":"96ea4f3424","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"company","fieldtype":"Link","options":"Company","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Letter Head","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e48e6932ce","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"letter_head","fieldtype":"Link","options":"Letter Head","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a745188711","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"column_break1","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Select","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"is_active","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Active","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"48a3d0e485","idx":5,"default":"Yes","in_standard_filter":1,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"is_active","fieldtype":"Select","options":"\nYes\nNo","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Payroll Frequency","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:(!doc.salary_slip_based_on_timesheet)","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b89f16ced5","idx":6,"default":"Monthly","in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"payroll_frequency","fieldtype":"Select","options":"\nMonthly\nFortnightly\nBimonthly\nWeekly\nDaily","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is Default","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6a84f6c719","idx":7,"default":"No","in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"is_default","fieldtype":"Select","options":"Yes\nNo","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f940df3863","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"employee_break","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"description":"Select employees for current Salary Structure","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Employees","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"057394b8b4","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"employees","fieldtype":"Table","options":"Salary Structure Employee","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d839d70e36","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"time_sheet_earning_detail","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Salary Slip Based on Timesheet","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"44b2ecbddc","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"salary_slip_based_on_timesheet","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5660c8aed1","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"column_break_17","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"Salary Component for timesheet based payroll.","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Salary Component","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"142ff365ad","idx":13,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"salary_component","fieldtype":"Link","options":"Salary Component","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Hour Rate","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"2","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d190cf19fd","idx":14,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"hour_rate","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Section Break","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"earning_deduction","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"Salary breakup based on Earning and Deduction.","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"2","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6e2ed9adfd","idx":15,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"earning_deduction","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Column Break","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"col_brk2","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Earning","print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"96f405a832","idx":16,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"earning","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Table","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"earning_details","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Earnings","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d5dece52d1","idx":17,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"earnings","fieldtype":"Table","options":"Salary Detail","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Column Break","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"col_brk3","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Deduction","print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"507e6d6e56","idx":18,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"deduction","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Table","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"deduction_details","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Deductions","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"62aafb063f","idx":19,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"deductions","fieldtype":"Table","options":"Salary Detail","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3413ec4697","idx":20,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"net_pay_detail","fieldtype":"Section Break","options":"Simple","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e11f120cb4","idx":21,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"column_break2","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Currency","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"total_earning","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Total Earning","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ed08ffe115","idx":22,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"total_earning","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Currency","creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","oldfieldname":"total_deduction","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Total Deduction","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c8845ab47c","idx":23,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"total_deduction","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Net Pay","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"83ff3c055e","idx":24,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"net_pay","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Account","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6629f620d2","idx":25,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"account","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Mode of Payment","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1296999ca7","idx":26,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"mode_of_payment","fieldtype":"Link","options":"Mode of Payment","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"51936b3c80","idx":27,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"column_break_28","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 18:50:29","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Payment Account","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"394b255275","idx":28,"in_standard_filter":0,"modified":"2017-06-09 23:51:55.973281","parenttype":"DocType","fieldname":"payment_account","fieldtype":"Link","options":"Account","report_hide":0,"parentfield":"fields"}],"timeline_field":"","image_view":0,"allow_import":1,"creation":"2013-03-07 18:50:29","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Document","hide_heading":0,"modified_by":"Administrator","allow_rename":1,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/hr/doctype/salary_structure/salary_structure.js */\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\n// get tax rate\nfrappe.provide(\"erpnext.taxes\");\nfrappe.provide(\"erpnext.taxes.flags\");\n\nfrappe.ui.form.on(cur_frm.doctype, {\n\tsetup: function(frm) {\n\t\t// set conditional display for rate column in taxes\n\t\t$(frm.wrapper).on('grid-row-render', function(e, grid_row) {\n\t\t\tif(in_list(['Sales Taxes and Charges', 'Purchase Taxes and Charges'], grid_row.doc.doctype)) {\n\t\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(grid_row);\n\t\t\t}\n\t\t});\n\t},\n\tonload: function(frm) {\n\t\tif(frm.get_field(\"taxes\")) {\n\t\t\tfrm.set_query(\"account_head\", \"taxes\", function(doc) {\n\t\t\t\tif(frm.cscript.tax_table == \"Sales Taxes and Charges\") {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Expense Account\"];\n\t\t\t\t} else {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Income Account\"];\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tquery: \"erpnext.controllers.queries.tax_account_query\",\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\"account_type\": account_type,\n\t\t\t\t\t\t\"company\": doc.company\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfrm.set_query(\"cost_center\", \"taxes\", function(doc) {\n\t\t\t\treturn {\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t'company': doc.company,\n\t\t\t\t\t\t\"is_group\": 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tvalidate: function(frm) {\n\t\t// neither is absolutely mandatory\n\t\tif(frm.get_docfield(\"taxes\")) {\n\t\t\tfrm.get_docfield(\"taxes\", \"rate\").reqd = 0;\n\t\t\tfrm.get_docfield(\"taxes\", \"tax_amount\").reqd = 0;\n\t\t}\n\n\t},\n\ttaxes_on_form_rendered: function(frm) {\n\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.open_grid_row());\n\t}\n});\n\nfrappe.ui.form.on('Sales Invoice Payment', {\n\tmode_of_payment: function(frm, cdt, cdn) {\n\t\tvar d = locals[cdt][cdn];\n\t\tget_payment_mode_account(frm, d.mode_of_payment, function(account){\n\t\t\tfrappe.model.set_value(cdt, cdn, 'account', account)\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value('cash_bank_account', account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Payment Entry', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tvar payment_account_field = frm.doc.payment_type == \"Receive\" ? \"paid_to\" : \"paid_from\";\n\t\t\tfrm.set_value(payment_account_field, account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Salary Structure', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value(\"payment_account\", account);\n\t\t})\n\t}\n})\n\nvar get_payment_mode_account = function(frm, mode_of_payment, callback) {\n\tif(!frm.doc.company) {\n\t\tfrappe.throw(__(\"Please select the Company first\"));\n\t}\n\n\tif(!mode_of_payment) {\n\t\treturn;\n\t}\n\n\treturn  frappe.call({\n\t\tmethod: \"erpnext.accounts.doctype.sales_invoice.sales_invoice.get_bank_cash_account\",\n\t\targs: {\n\t\t\t\"mode_of_payment\": mode_of_payment,\n\t\t\t\"company\": frm.doc.company\n\t\t},\n\t\tcallback: function(r, rt) {\n\t\t\tif(r.message) {\n\t\t\t\tcallback(r.message.account)\n\t\t\t}\n\t\t}\n\t});\n}\n\n\ncur_frm.cscript.account_head = function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tif(!d.charge_type && d.account_head){\n\t\tfrappe.msgprint(\"Please select Charge Type first\");\n\t\tfrappe.model.set_value(cdt, cdn, \"account_head\", \"\");\n\t} else if(d.account_head && d.charge_type!==\"Actual\") {\n\t\tfrappe.call({\n\t\t\ttype:\"GET\",\n\t\t\tmethod: \"erpnext.controllers.accounts_controller.get_tax_rate\",\n\t\t\targs: {\"account_head\":d.account_head},\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"rate\", r.message.tax_rate || 0);\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"description\", r.message.account_name);\n\t\t\t}\n\t\t})\n\t}\n}\n\ncur_frm.cscript.validate_taxes_and_charges = function(cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tvar msg = \"\";\n\n\tif(d.account_head && !d.description) {\n\t\t// set description from account head\n\t\td.description = d.account_head.split(' - ').slice(0, -1).join(' - ');\n\t}\n\n\tif(!d.charge_type && (d.row_id || d.rate || d.tax_amount)) {\n\t\tmsg = __(\"Please select Charge Type first\");\n\t\td.row_id = \"\";\n\t\td.rate = d.tax_amount = 0.0;\n\t} else if((d.charge_type == 'Actual' || d.charge_type == 'On Net Total') && d.row_id) {\n\t\tmsg = __(\"Can refer row only if the charge type is 'On Previous Row Amount' or 'Previous Row Total'\");\n\t\td.row_id = \"\";\n\t} else if((d.charge_type == 'On Previous Row Amount' || d.charge_type == 'On Previous Row Total') && d.row_id) {\n\t\tif (d.idx == 1) {\n\t\t\tmsg = __(\"Cannot select charge type as 'On Previous Row Amount' or 'On Previous Row Total' for first row\");\n\t\t\td.charge_type = '';\n\t\t} else if (!d.row_id) {\n\t\t\tmsg = __(\"Please specify a valid Row ID for row {0} in table {1}\", [d.idx, __(d.doctype)]);\n\t\t\td.row_id = \"\";\n\t\t} else if(d.row_id && d.row_id >= d.idx) {\n\t\t\tmsg = __(\"Cannot refer row number greater than or equal to current row number for this Charge type\");\n\t\t\td.row_id = \"\";\n\t\t}\n\t}\n\tif(msg) {\n\t\tfrappe.validated = false;\n\t\trefresh_field(\"taxes\");\n\t\tfrappe.throw(msg);\n\t}\n\n}\n\ncur_frm.cscript.validate_inclusive_tax = function(tax) {\n\tvar actual_type_error = function() {\n\t\tvar msg = __(\"Actual type tax cannot be included in Item rate in row {0}\", [tax.idx])\n\t\tfrappe.throw(msg);\n\t};\n\n\tvar on_previous_row_error = function(row_range) {\n\t\tvar msg = __(\"For row {0} in {1}. To include {2} in Item rate, rows {3} must also be included\",\n\t\t\t[tax.idx, __(tax.doctype), tax.charge_type, row_range])\n\t\tfrappe.throw(msg);\n\t};\n\n\tif(cint(tax.included_in_print_rate)) {\n\t\tif(tax.charge_type == \"Actual\") {\n\t\t\t// inclusive tax cannot be of type Actual\n\t\t\tactual_type_error();\n\t\t} else if(tax.charge_type == \"On Previous Row Amount\" &&\n\t\t\t!cint(this.frm.doc[\"taxes\"][tax.row_id - 1].included_in_print_rate)\n\t\t) {\n\t\t\t// referred row should also be an inclusive tax\n\t\t\ton_previous_row_error(tax.row_id);\n\t\t} else if(tax.charge_type == \"On Previous Row Total\") {\n\t\t\tvar taxes_not_included = $.map(this.frm.doc[\"taxes\"].slice(0, tax.row_id),\n\t\t\t\tfunction(t) { return cint(t.included_in_print_rate) ? null : t; });\n\t\t\tif(taxes_not_included.length > 0) {\n\t\t\t\t// all rows above this tax should be inclusive\n\t\t\t\ton_previous_row_error(tax.row_id == 1 ? \"1\" : \"1 - \" + tax.row_id);\n\t\t\t}\n\t\t} else if(tax.category == \"Valuation\") {\n\t\t\tfrappe.throw(__(\"Valuation type charges can not marked as Inclusive\"));\n\t\t}\n\t}\n}\n\nif(!erpnext.taxes.flags[cur_frm.cscript.tax_table]) {\n\terpnext.taxes.flags[cur_frm.cscript.tax_table] = true;\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"row_id\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"rate\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"tax_amount\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"charge_type\", function(frm, cdt, cdn) {\n\t\tfrm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\tvar open_form = frm.open_grid_row();\n\t\tif(open_form) {\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(open_form);\n\t\t} else {\n\t\t\t// apply in current row\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.get_field('taxes').grid.get_row(cdn));\n\t\t}\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"included_in_print_rate\", function(frm, cdt, cdn) {\n\t\tvar tax = frappe.get_doc(cdt, cdn);\n\t\ttry {\n\t\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\t\tcur_frm.cscript.validate_inclusive_tax(tax);\n\t\t} catch(e) {\n\t\t\ttax.included_in_print_rate = 0;\n\t\t\trefresh_field(\"included_in_print_rate\", tax.name, tax.parentfield);\n\t\t\tthrow e;\n\t\t}\n\t});\n}\n\nerpnext.taxes.set_conditional_mandatory_rate_or_amount = function(grid_row) {\n\tif(grid_row) {\n\t\tif(grid_row.doc.charge_type===\"Actual\") {\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_editable(\"rate\", false);\n\t\t\tgrid_row.toggle_reqd(\"rate\", false);\n\t\t} else {\n\t\t\tgrid_row.toggle_editable(\"rate\", true);\n\t\t\tgrid_row.toggle_reqd(\"rate\", true);\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", false);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", false);\n\t\t}\n\t}\n}\n\n\n// For customizing print\ncur_frm.pformat.total = function(doc) { return ''; }\ncur_frm.pformat.discount_amount = function(doc) { return ''; }\ncur_frm.pformat.grand_total = function(doc) { return ''; }\ncur_frm.pformat.rounded_total = function(doc) { return ''; }\ncur_frm.pformat.in_words = function(doc) { return ''; }\n\ncur_frm.pformat.taxes= function(doc){\n\t//function to make row of table\n\tvar make_row = function(title, val, bold, is_negative) {\n\t\tvar bstart = '<b>'; var bend = '</b>';\n\t\treturn '<tr><td style=\"width:50%;\">' + (bold?bstart:'') + title + (bold?bend:'') + '</td>'\n\t\t\t+ '<td style=\"width:50%;text-align:right;\">' + (is_negative ? '- ' : '')\n\t\t+ format_currency(val, doc.currency) + '</td></tr>';\n\t}\n\n\tfunction print_hide(fieldname) {\n\t\tvar doc_field = frappe.meta.get_docfield(doc.doctype, fieldname, doc.name);\n\t\treturn doc_field.print_hide;\n\t}\n\n\tout ='';\n\tif (!doc.print_without_amount) {\n\t\tvar cl = doc.taxes || [];\n\n\t\t// outer table\n\t\tvar out='<div><table class=\"noborder\" style=\"width:100%\"><tr><td style=\"width: 60%\"></td><td>';\n\n\t\t// main table\n\n\t\tout +='<table class=\"noborder\" style=\"width:100%\">';\n\n\t\tif(!print_hide('total')) {\n\t\t\tout += make_row('Total', doc.total, 1);\n\t\t}\n\n\t\t// Discount Amount on net total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Net Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// add rows\n\t\tif(cl.length){\n\t\t\tfor(var i=0;i<cl.length;i++) {\n\t\t\t\tif(cl[i].tax_amount!=0 && !cl[i].included_in_print_rate)\n\t\t\t\t\tout += make_row(cl[i].description, cl[i].tax_amount, 0);\n\t\t\t}\n\t\t}\n\n\t\t// Discount Amount on grand total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Grand Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// grand total\n\t\tif(!print_hide('grand_total'))\n\t\t\tout += make_row('Grand Total', doc.grand_total, 1);\n\n\t\tif(!print_hide('rounded_total'))\n\t\t\tout += make_row('Rounded Total', doc.rounded_total, 1);\n\n\t\tif(doc.in_words && !print_hide('in_words')) {\n\t\t\tout +='</table></td></tr>';\n\t\t\tout += '<tr><td colspan = \"2\">';\n\t\t\tout += '<table><tr><td style=\"width:25%;\"><b>In Words</b></td>';\n\t\t\tout += '<td style=\"width:50%;\">' + doc.in_words + '</td></tr>';\n\t\t}\n\t\tout += '</table></td></tr></table></div>';\n\t}\n\treturn out;\n}\n\n\ncur_frm.add_fetch('employee', 'company', 'company');\ncur_frm.add_fetch('company', 'default_letter_head', 'letter_head');\n\n\ncur_frm.cscript.onload = function(doc, dt, dn){\n\tvar e_tbl = doc.earnings || [];\n\tvar d_tbl = doc.deductions || [];\n\tif (e_tbl.length == 0 && d_tbl.length == 0)\n\t\treturn function(r, rt) { refresh_many(['earnings', 'deductions']);};\n}\n\nfrappe.ui.form.on('Salary Structure', {\n\tonload: function(frm) {\n\t\tfrm.toggle_reqd(['payroll_frequency'], !frm.doc.salary_slip_based_on_timesheet),\n\n\t\tfrm.set_query(\"salary_component\", \"earnings\", function() {\n\t\t\treturn {\n\t\t\t\tfilters: {\n\t\t\t\t\ttype: \"earning\"\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tfrm.set_query(\"salary_component\", \"deductions\", function() {\n\t\t\treturn {\n\t\t\t\tfilters: {\n\t\t\t\t\ttype: \"deduction\"\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tfrm.set_query(\"employee\", \"employees\", function(doc) {\n\t\t\treturn {\n\t\t\t\tquery: \"erpnext.controllers.queries.employee_query\",\n\t\t\t\tfilters: {\n\t\t\t\t\tcompany: doc.company\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\trefresh: function(frm) {\n\t\tfrm.trigger(\"toggle_fields\");\n\t\tfrm.fields_dict['earnings'].grid.set_column_disp(\"default_amount\", false);\n\t\tfrm.fields_dict['deductions'].grid.set_column_disp(\"default_amount\", false);\n\n\t\tfrm.add_custom_button(__(\"Preview Salary Slip\"),\n\t\t\tfunction() { frm.trigger('preview_salary_slip'); }, \"fa fa-sitemap\", \"btn-default\");\n\n\t\tfrm.add_custom_button(__(\"Add Employees\"),function () {\n\t\t\tfrm.trigger('add_employees')\n\t\t})\n\n\t},\n\n\tadd_employees:function (frm) {\n\t\tfrm.$emp_dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Add Employees\"),\n\t\t\tfields: [\n\t\t\t\t{fieldname:'company', fieldtype:'Link', options: 'Company', label: __('Company')},\n\t\t\t\t{fieldname:'branch', fieldtype:'Link', options: 'Branch', label: __('Branch')},\n\t\t\t\t{fieldname:'department', fieldtype:'Link', options: 'Department', label: __('Department')},\n\t\t\t\t{fieldname:'designation', fieldtype:'Link', options: 'Designation', label: __('Designation')},\n\t\t\t\t{fieldname:'base_variable', fieldtype:'Section Break'},\n\t\t\t\t{fieldname:'base', fieldtype:'Currency', label: __('Base')},\n\t\t\t\t{fieldname:'base_col_br', fieldtype:'Column Break'},\n\t\t\t\t{fieldname:'variable', fieldtype:'Currency', label: __('Variable')}\n\t\t\t]\n\t\t});\n\t\tfrm.$emp_dialog.set_primary_action(__(\"Add\"), function() {\n\t\t\tfrm.trigger('get_employees');\n\t\t});\n\t\tfrm.$emp_dialog.show();\n\t},\n\n\tget_employees:function (frm) {\n\t\tvar filters = frm.$emp_dialog.get_values();\n\t\tif ('variable' in filters) {\n\t\t\tdelete filters.variable\n\t\t}\n\t\tif ('base' in filters) {\n\t\t\tdelete filters.base\n\t\t}\n\t\tfrappe.call({\n\t\t\tmethod:'erpnext.hr.doctype.salary_structure.salary_structure.get_employees',\n\t\t\targs:{\n\t\t\t\tfilters: filters\n\t\t\t},\n\t\t\tcallback:function (r) {\n\t\t\t\tvar employees = $.map(frm.doc.employees, function(d) { return d.employee });\n\t\t\t\tfor (var i=0; i< r.message.length; i++) {\n\t\t\t\t\tif (employees.indexOf(r.message[i].name) === -1) {\n\t\t\t\t\t\tvar row = frappe.model.add_child(frm.doc, frm.fields_dict.employees.df.options, frm.fields_dict.employees.df.fieldname);\n\t\t\t\t\t\trow.employee = r.message[i].name;\n\t\t\t\t\t\trow.employee_name = r.message[i].employee_name;\n\t\t\t\t\t\trow.base = frm.$emp_dialog.get_value('base');\n\t\t\t\t\t\trow.variable = frm.$emp_dialog.get_value('variable');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfrm.refresh_field('employees');\n\t\t\t\tfrm.$emp_dialog.hide()\n\t\t\t}\n\t\t})\n\t},\n\n\tsalary_slip_based_on_timesheet: function(frm) {\n\t\tfrm.trigger(\"toggle_fields\")\n\t},\n\n\tpreview_salary_slip: function(frm) {\n\t\tvar d = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Preview Salary Slip\"),\n\t\t\tfields: [\n\t\t\t\t{\t\"fieldname\":\"employee\", \"fieldtype\":\"Select\", \"label\":__(\"Employee\"),\n\t\t\t\t\toptions: $.map(frm.doc.employees, function(d) { return d.employee }), reqd: 1 },\n\t\t\t\t{\tfieldname:\"fetch\", \"label\":__(\"Show Salary Slip\"), \"fieldtype\":\"Button\"}\n\t\t\t]\n\t\t});\n\t\td.get_input(\"fetch\").on(\"click\", function() {\n\t\t\tvar values = d.get_values();\n\t\t\tif(!values) return;\n\t\t\tvar print_format;\n\t\t\tfrm.doc.salary_slip_based_on_timesheet ?\n\t\t\t\tprint_format=\"Salary Slip based on Timesheet\" :\n\t\t\t\tprint_format=\"Salary Slip Standard\";\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.hr.doctype.salary_structure.salary_structure.make_salary_slip\",\n\t\t\t\targs: {\n\t\t\t\t\tsource_name: frm.doc.name,\n\t\t\t\t\temployee: values.employee,\n\t\t\t\t\tas_print: 1,\n\t\t\t\t\tprint_format: print_format\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tvar new_window = window.open();\n\t\t\t\t\tnew_window.document.write(r.message);\n\t\t\t\t\t// frappe.msgprint(r.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\td.show();\n\t},\n\n\ttoggle_fields: function(frm) {\n\t\tfrm.toggle_display(['salary_component', 'hour_rate'], frm.doc.salary_slip_based_on_timesheet);\n\t\tfrm.toggle_reqd(['salary_component', 'hour_rate'], frm.doc.salary_slip_based_on_timesheet);\n\t\tfrm.toggle_reqd(['payroll_frequency'], !frm.doc.salary_slip_based_on_timesheet);\n\t}\n});\n\n\ncur_frm.cscript.amount = function(doc, cdt, cdn){\n\tcalculate_totals(doc, cdt, cdn);\n};\n\nvar calculate_totals = function(doc) {\n\tvar tbl1 = doc.earnings || [];\n\tvar tbl2 = doc.deductions || [];\n\n\tvar total_earn = 0; var total_ded = 0;\n\tfor(var i = 0; i < tbl1.length; i++){\n\t\ttotal_earn += flt(tbl1[i].amount);\n\t}\n\tfor(var j = 0; j < tbl2.length; j++){\n\t\ttotal_ded += flt(tbl2[j].amount);\n\t}\n\tdoc.total_earning = total_earn;\n\tdoc.total_deduction = total_ded;\n\tdoc.net_pay = 0.0\n\tif(doc.salary_slip_based_on_timesheet == 0){\n\t\tdoc.net_pay = flt(total_earn) - flt(total_ded);\n\t}\n\n\trefresh_many(['total_earning', 'total_deduction', 'net_pay']);\n}\n\ncur_frm.cscript.validate = function(doc, cdt, cdn) {\n\tcalculate_totals(doc);\n\tif(doc.employee && doc.is_active == \"Yes\") frappe.model.clear_doc(\"Employee\", doc.employee);\n}\n\n\nfrappe.ui.form.on('Salary Detail', {\n\tamount: function(frm) {\n\t\tcalculate_totals(frm.doc);\n\t},\n\n\tearnings_remove: function(frm) {\n\t\tcalculate_totals(frm.doc);\n\t},\n\n\tdeductions_remove: function(frm) {\n\t\tcalculate_totals(frm.doc);\n\t}\n})\n","__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":1,"beta":0,"read_only_onload":0,"module":"HR","doctype":"DocType","autoname":"Prompt","__kanban_boards":[],"issingle":0,"icon":"fa fa-file-text","__listview_template":null,"name":"Salary Structure","idx":1,"hide_toolbar":0,"__workflow_docs":[],"title_field":"","modified":"2017-02-22 06:09:55.491748","is_submittable":0,"__calendar_js":null,"permissions":[{"creation":"2013-03-07 18:50:29","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"HR User","print":1,"docstatus":0,"permlevel":0,"parent":"Salary Structure","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"d05c68eaec","idx":1,"amend":0,"modified":"2017-06-09 23:51:55.973281","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":0},{"creation":"2013-03-07 18:50:29","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"HR Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Salary Structure","read":1,"import":1,"report":1,"apply_user_permissions":0,"name":"9939589a33","idx":2,"amend":0,"modified":"2017-06-09 23:51:55.973281","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]},{"fields":[{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":["employee_name"],"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":1,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Employee","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"970a6a5202","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"employee","fieldtype":"Link","options":"Employee","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":1,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Employee Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"acf5f79342","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"employee_name","fieldtype":"Read Only","options":"employee.employee_name","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"From Date","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"70b76e79bc","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"from_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"To Date","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e4b81a5001","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"to_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Base","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"387f0d2aa4","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"base","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-07-26 11:53:43.621605","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Variable","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Structure Employee","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2eda6c754f","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:52:00.111642","parenttype":"DocType","fieldname":"variable","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2016-07-26 11:53:43.621605","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"HR","doctype":"DocType","autoname":"employee","__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Salary Structure Employee","idx":0,"hide_toolbar":0,"__workflow_docs":null,"modified":"2017-02-23 17:08:44.518424","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[],"quick_entry":1,"__custom_js":null,"__print_formats":null},{"fields":[{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Component","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d674fdca75","idx":1,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"salary_component","fieldtype":"Link","options":"Salary Component","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Abbr","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":1,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d09b81f1d5","idx":2,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"abbr","fieldtype":"Data","options":"salary_component.salary_component_abbr","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d1c3d3e5d6","idx":3,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"column_break_3","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"If selected, the value specified or calculated in this component will not contribute to the earnings or deductions. However, it's value can be referenced by other components that can be added or deducted. ","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Statistical Component","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0bdefff116","idx":4,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"statistical_component","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8a2c1a2795","idx":5,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"section_break_2","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Condition","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"78e0149436","idx":6,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"condition","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount based on formula","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2c9690b4b5","idx":7,"default":"1","in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"amount_based_on_formula","fieldtype":"Check","options":"","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Formula","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.amount_based_on_formula!==0 && doc.parenttype==='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5435ea963c","idx":8,"default":"","in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"formula","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.amount_based_on_formula!==1 || doc.parenttype==='Salary Slip'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"45d8b3bc4b","idx":9,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Depends on Leave Without Pay","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e72fa3f9e4","idx":10,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"depends_on_lwp","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Do not include in total","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"70319de920","idx":11,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"do_not_include_in_total","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Default Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d967762c20","idx":12,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"default_amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f68db2bacb","idx":13,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"section_break_11","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Condition and Formula Help","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e81b6fb571","idx":14,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"condition_and_formula_help","fieldtype":"HTML","options":"<h3>Condition and Formula Help</h3>\n\n<p>Notes:</p>\n\n<ol>\n<li>Use field <code>base</code> for using base salary of the Employee</li>\n<li>Use Salary Component abbreviations in conditions and formulas. <code>BS = Basic Salary</code></li>\n<li>Use field name for employee details in conditions and formulas. <code>Employment Type = employment_type</code><code>Branch = branch</code></li>\n<li>Use field name from Salary Slip in conditions and formulas. <code>Payment Days = payment_days</code><code>Leave without pay = leave_without_pay</code></li>\n<li>Direct Amount can also be entered based on Condtion. See example 3</li></ol>\n\n<h4>Examples</h4>\n<ol>\n<li>Calculating Basic Salary based on <code>base</code>\n<pre><code>Condition: base &lt; 10000</code></pre>\n<pre><code>Formula: base * .2</code></pre></li>\n<li>Calculating HRA based on Basic Salary<code>BS</code> \n<pre><code>Condition: BS &gt; 2000</code></pre>\n<pre><code>Formula: BS * .1</code></pre></li>\n<li>Calculating TDS based on Employment Type<code>employment_type</code> \n<pre><code>Condition: employment_type==\"Intern\"</code></pre>\n<pre><code>Amount: 1000</code></pre></li>\n</ol>","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2016-06-30 15:32:36.385111","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"DESC","__linked_with":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"HR","doctype":"DocType","__dashboard":null,"__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Salary Detail","idx":0,"hide_toolbar":0,"__workflow_docs":null,"modified":"2017-10-02 13:57:22.769751","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[],"quick_entry":1,"__custom_js":null,"__print_formats":null},{"fields":[{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Component","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d674fdca75","idx":1,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"salary_component","fieldtype":"Link","options":"Salary Component","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Abbr","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":1,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d09b81f1d5","idx":2,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"abbr","fieldtype":"Data","options":"salary_component.salary_component_abbr","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d1c3d3e5d6","idx":3,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"column_break_3","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"If selected, the value specified or calculated in this component will not contribute to the earnings or deductions. However, it's value can be referenced by other components that can be added or deducted. ","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Statistical Component","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0bdefff116","idx":4,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"statistical_component","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8a2c1a2795","idx":5,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"section_break_2","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Condition","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"78e0149436","idx":6,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"condition","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount based on formula","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2c9690b4b5","idx":7,"default":"1","in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"amount_based_on_formula","fieldtype":"Check","options":"","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Formula","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.amount_based_on_formula!==0 && doc.parenttype==='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5435ea963c","idx":8,"default":"","in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"formula","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.amount_based_on_formula!==1 || doc.parenttype==='Salary Slip'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"45d8b3bc4b","idx":9,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Depends on Leave Without Pay","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e72fa3f9e4","idx":10,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"depends_on_lwp","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Do not include in total","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"70319de920","idx":11,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"do_not_include_in_total","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Default Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d967762c20","idx":12,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"default_amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f68db2bacb","idx":13,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"section_break_11","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-06-30 15:32:36.385111","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Condition and Formula Help","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:doc.parenttype=='Salary Structure'","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Salary Detail","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e81b6fb571","idx":14,"in_standard_filter":0,"modified":"2017-10-06 23:02:36.311188","parenttype":"DocType","fieldname":"condition_and_formula_help","fieldtype":"HTML","options":"<h3>Condition and Formula Help</h3>\n\n<p>Notes:</p>\n\n<ol>\n<li>Use field <code>base</code> for using base salary of the Employee</li>\n<li>Use Salary Component abbreviations in conditions and formulas. <code>BS = Basic Salary</code></li>\n<li>Use field name for employee details in conditions and formulas. <code>Employment Type = employment_type</code><code>Branch = branch</code></li>\n<li>Use field name from Salary Slip in conditions and formulas. <code>Payment Days = payment_days</code><code>Leave without pay = leave_without_pay</code></li>\n<li>Direct Amount can also be entered based on Condtion. See example 3</li></ol>\n\n<h4>Examples</h4>\n<ol>\n<li>Calculating Basic Salary based on <code>base</code>\n<pre><code>Condition: base &lt; 10000</code></pre>\n<pre><code>Formula: base * .2</code></pre></li>\n<li>Calculating HRA based on Basic Salary<code>BS</code> \n<pre><code>Condition: BS &gt; 2000</code></pre>\n<pre><code>Formula: BS * .1</code></pre></li>\n<li>Calculating TDS based on Employment Type<code>employment_type</code> \n<pre><code>Condition: employment_type==\"Intern\"</code></pre>\n<pre><code>Amount: 1000</code></pre></li>\n</ol>","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2016-06-30 15:32:36.385111","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"DESC","__linked_with":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"HR","doctype":"DocType","__dashboard":null,"__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Salary Detail","idx":0,"hide_toolbar":0,"__workflow_docs":null,"modified":"2017-10-02 13:57:22.769751","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[],"quick_entry":1,"__custom_js":null,"__print_formats":null}],"user_settings":"{\"updated_on\": \"Sat Jul 15 2017 02:51:56 GMT+0700\", \"List\": {\"order_by\": \"`tabSalary Structure`.`modified` desc\", \"filters\": []}, \"last_view\": \"List\"}"}