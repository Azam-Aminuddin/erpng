{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Enabled","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1b55309c06","idx":1,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"enabled","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Send Notifications To","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"956117a1a1","idx":2,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"send_notifications_to","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Backup Frequency","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"787f15b06a","idx":3,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"backup_frequency","fieldtype":"Select","options":"\nDaily\nWeekly","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"App Access Key","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:!doc.dropbox_setup_via_site_config","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6cf1001c1e","idx":4,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"app_access_key","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"App Secret Key","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:!doc.dropbox_setup_via_site_config","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2738566ab3","idx":5,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"app_secret_key","fieldtype":"Password","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Allow Dropbox Access","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"bdc4ce9a91","idx":6,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"allow_dropbox_access","fieldtype":"Button","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Dropbox Access Key","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2928adc193","idx":7,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"dropbox_access_key","fieldtype":"Password","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Dropbox Access Secret","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e06a1a3285","idx":8,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"dropbox_access_secret","fieldtype":"Password","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Dropbox Access Token","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"af1225a7ae","idx":9,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"dropbox_access_token","fieldtype":"Password","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2016-09-21 10:12:57.399174","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Dropbox Setup via Site Config","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Dropbox Settings","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fe3bf87522","idx":10,"in_standard_filter":0,"modified":"2017-09-29 01:32:31.267375","parenttype":"DocType","fieldname":"dropbox_setup_via_site_config","fieldtype":"Check","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2016-09-21 10:12:57.399174","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":1,"read_only":1,"__templates":null,"document_type":"System","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/frappe/frappe/integrations/doctype/dropbox_settings/dropbox_settings.js */\n\n// Copyright (c) 2016, Frappe Technologies and contributors\n// For license information, please see license.txt\n\nfrappe.ui.form.on('Dropbox Settings', {\n\trefresh: function(frm) {\n\t\tfrm.clear_custom_buttons();\n\t\tfrm.events.take_backup(frm);\n\t},\n\n\tallow_dropbox_access: function(frm) {\n\t\tif (frm.doc.app_access_key && frm.doc.app_secret_key) {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.get_dropbox_authorize_url\",\n\t\t\t\tfreeze: true,\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\twindow.open(r.message.auth_url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse if (frm.doc.dropbox_setup_via_site_config) {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.get_redirect_url\",\n\t\t\t\tfreeze: true,\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\twindow.open(r.message.auth_url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tfrappe.msgprint(__(\"Please enter values for App Access Key and App Secret Key\"))\n\t\t}\n\t},\n\n\ttake_backup: function(frm) {\n\t\tif ((frm.doc.app_access_key && frm.doc.app_secret_key) || frm.doc.dropbox_setup_via_site_config){\n\t\t\tfrm.add_custom_button(__(\"Take Backup Now\"), function(frm){\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.take_backup\",\n\t\t\t\t\tfreeze: true\n\t\t\t\t})\n\t\t\t}).addClass(\"btn-primary\")\n\t\t}\n\t}\n});\n\n","__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Integrations","doctype":"DocType","__dashboard":{},"__kanban_boards":[],"issingle":1,"__listview_template":null,"name":"Dropbox Settings","idx":0,"hide_toolbar":0,"__workflow_docs":[],"modified":"2017-06-20 15:45:33.683827","is_submittable":0,"name_case":"","__calendar_js":null,"permissions":[{"creation":"2016-09-21 10:12:57.399174","share":1,"doctype":"DocPerm","owner":"Administrator","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"System Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Dropbox Settings","read":1,"import":0,"report":0,"apply_user_permissions":0,"name":"c60ec5b234","idx":1,"amend":0,"modified":"2017-09-29 01:32:31.267375","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]}],"user_settings":"{}"}