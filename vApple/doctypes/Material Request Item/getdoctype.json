{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c6889945c5","idx":1,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"type_section","fieldtype":"Section Break","options":"fa fa-pushpin","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"oldfieldtype":"Select","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"naming_series","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Series","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":1,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"82730538eb","idx":2,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"naming_series","fieldtype":"Select","options":"MREQ-","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Title","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":1,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"21b47b2bd3","idx":3,"default":"{material_request_type}","in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"title","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"22ed5c69a8","idx":4,"in_standard_filter":1,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"material_request_type","fieldtype":"Select","options":"Purchase\nMaterial Transfer\nMaterial Issue\nManufacture","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"91f6c5383b","idx":5,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"column_break_2","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Required Date","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":1,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4180ee8f0f","idx":6,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"schedule_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"150px","no_copy":0,"oldfieldtype":"Link","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"company","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"description":"","read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Company","print_hide_if_no_value":0,"width":"150px","allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":1,"unique":0,"name":"420f36aedd","idx":7,"in_standard_filter":1,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"company","fieldtype":"Link","options":"Company","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"150px","no_copy":1,"oldfieldtype":"Data","creation":"2013-03-07 14:48:38","search_fields":["status","transaction_date"],"doctype":"DocField","oldfieldname":"amended_from","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":1,"length":0,"label":"Amended From","print_hide_if_no_value":0,"width":"150px","allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fa5bafb783","idx":8,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"amended_from","fieldtype":"Link","options":"Material Request","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Section Break","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"73b60922b0","idx":9,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"items_section","fieldtype":"Section Break","options":"fa fa-shopping-cart","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Table","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"indent_details","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Items","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"636a7a64da","idx":10,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"items","fieldtype":"Table","options":"Material Request Item","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"oldfieldtype":"Section Break","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"More Information","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e908f62eb9","idx":11,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"more_info","fieldtype":"Section Break","options":"fa fa-file-text","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Requested For","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2d4a4713b7","idx":12,"in_standard_filter":1,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"requested_by","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":1,"oldfieldtype":"Date","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"transaction_date","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Transaction Date","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"85c754a625","idx":13,"default":"Today","in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"transaction_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"50%","no_copy":0,"oldfieldtype":"Column Break","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"aea8f389ed","idx":14,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"column_break2","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":1,"oldfieldtype":"Select","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"status","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Status","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b579750e2a","idx":15,"in_standard_filter":1,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"status","fieldtype":"Select","options":"\nDraft\nSubmitted\nStopped\nCancelled\nPending\nPartially Ordered\nOrdered\nIssued\nTransferred","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"oldfieldtype":"Currency","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"per_ordered","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"","read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"% Ordered","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2c42a0d2a3","idx":16,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"per_ordered","fieldtype":"Percent","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Printing Details","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0a02b16617","idx":17,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"printing_details","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Select","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"letter_head","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Letter Head","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":1,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4492123d80","idx":18,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"letter_head","fieldtype":"Link","options":"Letter Head","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-03-07 14:48:38","search_fields":["print_heading"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Print Heading","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":1,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4c3fec6351","idx":19,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"select_print_heading","fieldtype":"Link","options":"Print Heading","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"oldfieldtype":"Section Break","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"collapsible_depends_on":"terms","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Terms and Conditions","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6cc6ba0ebf","idx":20,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"terms_section_break","fieldtype":"Section Break","options":"fa fa-legal","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"tc_name","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Terms","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f2dec65d20","idx":21,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"tc_name","fieldtype":"Link","options":"Terms and Conditions","report_hide":1,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Text Editor","creation":"2013-03-07 14:48:38","search_fields":null,"doctype":"DocField","oldfieldname":"terms","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Terms and Conditions Content","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8bcf14cefb","idx":22,"in_standard_filter":0,"modified":"2017-10-06 23:02:32.900426","parenttype":"DocType","fieldname":"terms","fieldtype":"Text Editor","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2013-03-07 14:48:38","search_fields":"status,transaction_date","track_changes":0,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":{"fieldname":"material_request","transactions":[{"items":["Request for Quotation","Supplier Quotation","Purchase Order"],"label":"Related"},{"items":["Production Order"],"label":"Manufacturing"}]},"owner":"Administrator","editable_grid":0,"__form_grid_templates":{"items":"{% var visible_columns = row.get_visible_columns([\"item_code\", \"warehouse\",\n\t\"item_name\", \"amount\", \"stock_uom\", \"uom\", \"qty\", \"schedule_date\"]); %}\n\n{% if(!doc) { %}\n\t<div class=\"row\">\n\t\t<div class=\"col-sm-4\">{%= __(\"Item\") %}</div>\n\t\t<div class=\"col-sm-3\">{%= __(\"Required On\") %}</div>\n\t\t<div class=\"col-sm-3\">{%= __(\"Warehouse\") %}</div>\n\t\t<div class=\"col-sm-2 text-right\">{%= __(\"Qty\") %}</div>\n\t</div>\n{% } else { %}\n\t<div class=\"row\">\n\t\t<div class=\"col-sm-4\">\n            <span class=\"indicator {%= (doc.qty<=doc.ordered_qty) ? \"green\" : \"orange\" %}\">{%= doc.item_code %}</strong>\n\t\t\t{% if(doc.item_name != doc.item_code) { %}\n\t\t\t\t<br>{%= doc.item_name %}{% } %}\n            <!-- {% if(doc.item_name != doc.description) { %}\n                <p>{%= doc.description %}</p>{% } %} -->\n\t\t\t{% $.each(visible_columns || [], function(i, df) { %}\n\t{% \tvar val = doc.get_formatted(df.fieldname);\n\tif((df.fieldname !== \"description\" && df.fieldname !== \"item_name\") && val) { %}\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-xs-4 ellipsis\">\n\t\t\t\t<strong title=\"{%= __(df.label) %}\">{%= __(df.label) %}:</strong>\n\t\t\t</div>\n\t\t\t<div class=\"col-xs-8\">\n\t\t\t\t{%= doc.get_formatted(df.fieldname) %}\n\t\t\t</div>\n\t\t</div>\n\t{% } else if (df.fieldname===\"description\") { %}\n\t\t<p>{{ doc.description }}</p>\n\t{% } %}\n{% }); %}\n\n\t\t</div>\n\n\n\t\t<div class=\"col-sm-3\">\n\t\t\t{% if(doc.schedule_date) { %}\n                <span title=\"{%= __(\"Reqd By Date\") %}\" class=\"{%=\n\t\t\t\t(frappe.datetime.get_diff(doc.schedule_date, frappe.datetime.get_today()) < 0\n\t\t\t\t\t&& doc.ordered_qty < doc.qty)\n\t\t\t\t\t? \"text-danger\" : \"text-muted\" %}\">\n\t\t\t\t\t{%= doc.get_formatted(\"schedule_date\") %}</span>\n\t\t\t{% } %}\n        </div>\n\n        <!-- warehouse -->\n\t\t<div class=\"col-sm-3\">\n\t\t\t{% if(doc.warehouse) { %}\n\t\t\t\t<span class=\"label label-default\" title=\"{%= __(\"For Warehouse\") %}\"\n                    style=\"margin-right: 10px;\">\n\t\t\t\t\t{%= doc.warehouse %}\n\t\t\t\t</span>\n\t\t\t{% } %}\n        </div>\n\n\t\t<!-- qty -->\n\t\t<div class=\"col-sm-2 text-right\">\n\t\t\t{%= doc.get_formatted(\"qty\") %}\n\t\t\t<span class=\"small\">{%= doc.uom || doc.stock_uom %}</span>\n\t\t</div>\n\t</div>\n{% } %}\n"},"in_create":0,"read_only":0,"__templates":null,"document_type":"Document","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/stock/doctype/material_request/material_request.js */\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\nfrappe.provide(\"erpnext.buying\");\n\ncur_frm.cscript.tax_table = \"Purchase Taxes and Charges\";\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\ncur_frm.cscript.tax_table = \"Purchase Taxes and Charges\";\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\n// get tax rate\nfrappe.provide(\"erpnext.taxes\");\nfrappe.provide(\"erpnext.taxes.flags\");\n\nfrappe.ui.form.on(cur_frm.doctype, {\n\tsetup: function(frm) {\n\t\t// set conditional display for rate column in taxes\n\t\t$(frm.wrapper).on('grid-row-render', function(e, grid_row) {\n\t\t\tif(in_list(['Sales Taxes and Charges', 'Purchase Taxes and Charges'], grid_row.doc.doctype)) {\n\t\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(grid_row);\n\t\t\t}\n\t\t});\n\t},\n\tonload: function(frm) {\n\t\tif(frm.get_field(\"taxes\")) {\n\t\t\tfrm.set_query(\"account_head\", \"taxes\", function(doc) {\n\t\t\t\tif(frm.cscript.tax_table == \"Sales Taxes and Charges\") {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Expense Account\"];\n\t\t\t\t} else {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Income Account\"];\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tquery: \"erpnext.controllers.queries.tax_account_query\",\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\"account_type\": account_type,\n\t\t\t\t\t\t\"company\": doc.company\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfrm.set_query(\"cost_center\", \"taxes\", function(doc) {\n\t\t\t\treturn {\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t'company': doc.company,\n\t\t\t\t\t\t\"is_group\": 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tvalidate: function(frm) {\n\t\t// neither is absolutely mandatory\n\t\tif(frm.get_docfield(\"taxes\")) {\n\t\t\tfrm.get_docfield(\"taxes\", \"rate\").reqd = 0;\n\t\t\tfrm.get_docfield(\"taxes\", \"tax_amount\").reqd = 0;\n\t\t}\n\n\t},\n\ttaxes_on_form_rendered: function(frm) {\n\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.open_grid_row());\n\t}\n});\n\nfrappe.ui.form.on('Sales Invoice Payment', {\n\tmode_of_payment: function(frm, cdt, cdn) {\n\t\tvar d = locals[cdt][cdn];\n\t\tget_payment_mode_account(frm, d.mode_of_payment, function(account){\n\t\t\tfrappe.model.set_value(cdt, cdn, 'account', account)\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value('cash_bank_account', account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Payment Entry', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tvar payment_account_field = frm.doc.payment_type == \"Receive\" ? \"paid_to\" : \"paid_from\";\n\t\t\tfrm.set_value(payment_account_field, account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Salary Structure', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value(\"payment_account\", account);\n\t\t})\n\t}\n})\n\nvar get_payment_mode_account = function(frm, mode_of_payment, callback) {\n\tif(!frm.doc.company) {\n\t\tfrappe.throw(__(\"Please select the Company first\"));\n\t}\n\n\tif(!mode_of_payment) {\n\t\treturn;\n\t}\n\n\treturn  frappe.call({\n\t\tmethod: \"erpnext.accounts.doctype.sales_invoice.sales_invoice.get_bank_cash_account\",\n\t\targs: {\n\t\t\t\"mode_of_payment\": mode_of_payment,\n\t\t\t\"company\": frm.doc.company\n\t\t},\n\t\tcallback: function(r, rt) {\n\t\t\tif(r.message) {\n\t\t\t\tcallback(r.message.account)\n\t\t\t}\n\t\t}\n\t});\n}\n\n\ncur_frm.cscript.account_head = function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tif(!d.charge_type && d.account_head){\n\t\tfrappe.msgprint(\"Please select Charge Type first\");\n\t\tfrappe.model.set_value(cdt, cdn, \"account_head\", \"\");\n\t} else if(d.account_head && d.charge_type!==\"Actual\") {\n\t\tfrappe.call({\n\t\t\ttype:\"GET\",\n\t\t\tmethod: \"erpnext.controllers.accounts_controller.get_tax_rate\",\n\t\t\targs: {\"account_head\":d.account_head},\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"rate\", r.message.tax_rate || 0);\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"description\", r.message.account_name);\n\t\t\t}\n\t\t})\n\t}\n}\n\ncur_frm.cscript.validate_taxes_and_charges = function(cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tvar msg = \"\";\n\n\tif(d.account_head && !d.description) {\n\t\t// set description from account head\n\t\td.description = d.account_head.split(' - ').slice(0, -1).join(' - ');\n\t}\n\n\tif(!d.charge_type && (d.row_id || d.rate || d.tax_amount)) {\n\t\tmsg = __(\"Please select Charge Type first\");\n\t\td.row_id = \"\";\n\t\td.rate = d.tax_amount = 0.0;\n\t} else if((d.charge_type == 'Actual' || d.charge_type == 'On Net Total') && d.row_id) {\n\t\tmsg = __(\"Can refer row only if the charge type is 'On Previous Row Amount' or 'Previous Row Total'\");\n\t\td.row_id = \"\";\n\t} else if((d.charge_type == 'On Previous Row Amount' || d.charge_type == 'On Previous Row Total') && d.row_id) {\n\t\tif (d.idx == 1) {\n\t\t\tmsg = __(\"Cannot select charge type as 'On Previous Row Amount' or 'On Previous Row Total' for first row\");\n\t\t\td.charge_type = '';\n\t\t} else if (!d.row_id) {\n\t\t\tmsg = __(\"Please specify a valid Row ID for row {0} in table {1}\", [d.idx, __(d.doctype)]);\n\t\t\td.row_id = \"\";\n\t\t} else if(d.row_id && d.row_id >= d.idx) {\n\t\t\tmsg = __(\"Cannot refer row number greater than or equal to current row number for this Charge type\");\n\t\t\td.row_id = \"\";\n\t\t}\n\t}\n\tif(msg) {\n\t\tfrappe.validated = false;\n\t\trefresh_field(\"taxes\");\n\t\tfrappe.throw(msg);\n\t}\n\n}\n\ncur_frm.cscript.validate_inclusive_tax = function(tax) {\n\tvar actual_type_error = function() {\n\t\tvar msg = __(\"Actual type tax cannot be included in Item rate in row {0}\", [tax.idx])\n\t\tfrappe.throw(msg);\n\t};\n\n\tvar on_previous_row_error = function(row_range) {\n\t\tvar msg = __(\"For row {0} in {1}. To include {2} in Item rate, rows {3} must also be included\",\n\t\t\t[tax.idx, __(tax.doctype), tax.charge_type, row_range])\n\t\tfrappe.throw(msg);\n\t};\n\n\tif(cint(tax.included_in_print_rate)) {\n\t\tif(tax.charge_type == \"Actual\") {\n\t\t\t// inclusive tax cannot be of type Actual\n\t\t\tactual_type_error();\n\t\t} else if(tax.charge_type == \"On Previous Row Amount\" &&\n\t\t\t!cint(this.frm.doc[\"taxes\"][tax.row_id - 1].included_in_print_rate)\n\t\t) {\n\t\t\t// referred row should also be an inclusive tax\n\t\t\ton_previous_row_error(tax.row_id);\n\t\t} else if(tax.charge_type == \"On Previous Row Total\") {\n\t\t\tvar taxes_not_included = $.map(this.frm.doc[\"taxes\"].slice(0, tax.row_id),\n\t\t\t\tfunction(t) { return cint(t.included_in_print_rate) ? null : t; });\n\t\t\tif(taxes_not_included.length > 0) {\n\t\t\t\t// all rows above this tax should be inclusive\n\t\t\t\ton_previous_row_error(tax.row_id == 1 ? \"1\" : \"1 - \" + tax.row_id);\n\t\t\t}\n\t\t} else if(tax.category == \"Valuation\") {\n\t\t\tfrappe.throw(__(\"Valuation type charges can not marked as Inclusive\"));\n\t\t}\n\t}\n}\n\nif(!erpnext.taxes.flags[cur_frm.cscript.tax_table]) {\n\terpnext.taxes.flags[cur_frm.cscript.tax_table] = true;\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"row_id\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"rate\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"tax_amount\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"charge_type\", function(frm, cdt, cdn) {\n\t\tfrm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\tvar open_form = frm.open_grid_row();\n\t\tif(open_form) {\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(open_form);\n\t\t} else {\n\t\t\t// apply in current row\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.get_field('taxes').grid.get_row(cdn));\n\t\t}\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"included_in_print_rate\", function(frm, cdt, cdn) {\n\t\tvar tax = frappe.get_doc(cdt, cdn);\n\t\ttry {\n\t\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\t\tcur_frm.cscript.validate_inclusive_tax(tax);\n\t\t} catch(e) {\n\t\t\ttax.included_in_print_rate = 0;\n\t\t\trefresh_field(\"included_in_print_rate\", tax.name, tax.parentfield);\n\t\t\tthrow e;\n\t\t}\n\t});\n}\n\nerpnext.taxes.set_conditional_mandatory_rate_or_amount = function(grid_row) {\n\tif(grid_row) {\n\t\tif(grid_row.doc.charge_type===\"Actual\") {\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_editable(\"rate\", false);\n\t\t\tgrid_row.toggle_reqd(\"rate\", false);\n\t\t} else {\n\t\t\tgrid_row.toggle_editable(\"rate\", true);\n\t\t\tgrid_row.toggle_reqd(\"rate\", true);\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", false);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", false);\n\t\t}\n\t}\n}\n\n\n// For customizing print\ncur_frm.pformat.total = function(doc) { return ''; }\ncur_frm.pformat.discount_amount = function(doc) { return ''; }\ncur_frm.pformat.grand_total = function(doc) { return ''; }\ncur_frm.pformat.rounded_total = function(doc) { return ''; }\ncur_frm.pformat.in_words = function(doc) { return ''; }\n\ncur_frm.pformat.taxes= function(doc){\n\t//function to make row of table\n\tvar make_row = function(title, val, bold, is_negative) {\n\t\tvar bstart = '<b>'; var bend = '</b>';\n\t\treturn '<tr><td style=\"width:50%;\">' + (bold?bstart:'') + title + (bold?bend:'') + '</td>'\n\t\t\t+ '<td style=\"width:50%;text-align:right;\">' + (is_negative ? '- ' : '')\n\t\t+ format_currency(val, doc.currency) + '</td></tr>';\n\t}\n\n\tfunction print_hide(fieldname) {\n\t\tvar doc_field = frappe.meta.get_docfield(doc.doctype, fieldname, doc.name);\n\t\treturn doc_field.print_hide;\n\t}\n\n\tout ='';\n\tif (!doc.print_without_amount) {\n\t\tvar cl = doc.taxes || [];\n\n\t\t// outer table\n\t\tvar out='<div><table class=\"noborder\" style=\"width:100%\"><tr><td style=\"width: 60%\"></td><td>';\n\n\t\t// main table\n\n\t\tout +='<table class=\"noborder\" style=\"width:100%\">';\n\n\t\tif(!print_hide('total')) {\n\t\t\tout += make_row('Total', doc.total, 1);\n\t\t}\n\n\t\t// Discount Amount on net total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Net Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// add rows\n\t\tif(cl.length){\n\t\t\tfor(var i=0;i<cl.length;i++) {\n\t\t\t\tif(cl[i].tax_amount!=0 && !cl[i].included_in_print_rate)\n\t\t\t\t\tout += make_row(cl[i].description, cl[i].tax_amount, 0);\n\t\t\t}\n\t\t}\n\n\t\t// Discount Amount on grand total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Grand Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// grand total\n\t\tif(!print_hide('grand_total'))\n\t\t\tout += make_row('Grand Total', doc.grand_total, 1);\n\n\t\tif(!print_hide('rounded_total'))\n\t\t\tout += make_row('Rounded Total', doc.rounded_total, 1);\n\n\t\tif(doc.in_words && !print_hide('in_words')) {\n\t\t\tout +='</table></td></tr>';\n\t\t\tout += '<tr><td colspan = \"2\">';\n\t\t\tout += '<table><tr><td style=\"width:25%;\"><b>In Words</b></td>';\n\t\t\tout += '<td style=\"width:50%;\">' + doc.in_words + '</td></tr>';\n\t\t}\n\t\tout += '</table></td></tr></table></div>';\n\t}\n\treturn out;\n}\n\n\nfrappe.ui.form.on(\"Purchase Taxes and Charges\", \"add_deduct_tax\", function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\n\tif(!d.category && d.add_deduct_tax) {\n\t\tfrappe.msgprint(__(\"Please select Category first\"));\n\t\td.add_deduct_tax = '';\n\t}\n\telse if(d.category != 'Total' && d.add_deduct_tax == 'Deduct') {\n\t\tfrappe.msgprint(__(\"Cannot deduct when category is for 'Valuation' or 'Valuation and Total'\"));\n\t\td.add_deduct_tax = '';\n\t}\n\trefresh_field('add_deduct_tax', d.name, 'taxes');\n});\n\nfrappe.ui.form.on(\"Purchase Taxes and Charges\", \"category\", function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\n\tif (d.category != 'Total' && d.add_deduct_tax == 'Deduct') {\n\t\tfrappe.msgprint(__(\"Cannot deduct when category is for 'Valuation' or 'Vaulation and Total'\"));\n\t\td.add_deduct_tax = '';\n\t}\n\trefresh_field('add_deduct_tax', d.name, 'taxes');\n});\n\n\ncur_frm.email_field = \"contact_email\";\n\nerpnext.buying.BuyingController = erpnext.TransactionController.extend({\n\tsetup: function() {\n\t\tthis._super();\n\t},\n\n\tonload: function() {\n\t\tthis.setup_queries();\n\t\tthis._super();\n\n\t\t/* eslint-disable */\n\t\t// no idea where me is coming from\n\t\tif(this.frm.get_field('shipping_address')) {\n\t\t\tthis.frm.set_query(\"shipping_address\", function() {\n\t\t\t\tif(me.frm.doc.customer) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tquery: 'frappe.contacts.doctype.address.address.address_query',\n\t\t\t\t\t\tfilters: { link_doctype: 'Customer', link_name: me.frm.doc.customer }\n\t\t\t\t\t};\n\t\t\t\t} else\n\t\t\t\t\treturn erpnext.queries.company_address_query(me.frm.doc)\n\t\t\t});\n\t\t}\n\t\t/* eslint-enable */\n\t},\n\n\tsetup_queries: function() {\n\t\tvar me = this;\n\n\t\tif(this.frm.fields_dict.buying_price_list) {\n\t\t\tthis.frm.set_query(\"buying_price_list\", function() {\n\t\t\t\treturn{\n\t\t\t\t\tfilters: { 'buying': 1 }\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tme.frm.set_query('supplier', erpnext.queries.supplier);\n\t\tme.frm.set_query('contact_person', erpnext.queries.contact_query);\n\t\tme.frm.set_query('supplier_address', erpnext.queries.address_query);\n\n\t\tif(this.frm.fields_dict.supplier) {\n\t\t\tthis.frm.set_query(\"supplier\", function() {\n\t\t\t\treturn{\tquery: \"erpnext.controllers.queries.supplier_query\" }});\n\t\t}\n\n\t\tthis.frm.set_query(\"item_code\", \"items\", function() {\n\t\t\tif(me.frm.doc.is_subcontracted == \"Yes\") {\n\t\t\t\treturn{\n\t\t\t\t\tquery: \"erpnext.controllers.queries.item_query\",\n\t\t\t\t\tfilters:{ 'is_sub_contracted_item': 1 }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn{\n\t\t\t\t\tquery: \"erpnext.controllers.queries.item_query\",\n\t\t\t\t\tfilters: {'is_purchase_item': 1}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\trefresh: function(doc) {\n\t\tfrappe.dynamic_link = {doc: this.frm.doc, fieldname: 'supplier', doctype: 'Supplier'};\n\n\t\tthis.frm.toggle_display(\"supplier_name\",\n\t\t\t(this.frm.doc.supplier_name && this.frm.doc.supplier_name!==this.frm.doc.supplier));\n\n\t\tif(this.frm.doc.docstatus==0 &&\n\t\t\t(this.frm.doctype===\"Purchase Order\" || this.frm.doctype===\"Material Request\")) {\n\t\t\tthis.set_from_product_bundle();\n\t\t}\n\n\t\tthis._super();\n\t},\n\n\tsupplier: function() {\n\t\tvar me = this;\n\t\terpnext.utils.get_party_details(this.frm, null, null, function(){me.apply_pricing_rule()});\n\t},\n\n\tsupplier_address: function() {\n\t\terpnext.utils.get_address_display(this.frm);\n\t},\n\n\tbuying_price_list: function() {\n\t\tthis.apply_price_list();\n\t},\n\n\tprice_list_rate: function(doc, cdt, cdn) {\n\t\tvar item = frappe.get_doc(cdt, cdn);\n\t\tfrappe.model.round_floats_in(item, [\"price_list_rate\", \"discount_percentage\"]);\n\n\t\titem.rate = flt(item.price_list_rate * (1 - item.discount_percentage / 100.0),\n\t\t\tprecision(\"rate\", item));\n\n\t\tthis.calculate_taxes_and_totals();\n\t},\n\n\tdiscount_percentage: function(doc, cdt, cdn) {\n\t\tthis.price_list_rate(doc, cdt, cdn);\n\t},\n\n\tqty: function(doc, cdt, cdn) {\n\t\tvar item = frappe.get_doc(cdt, cdn);\n\t\tif ((doc.doctype == \"Purchase Receipt\") || (doc.doctype == \"Purchase Invoice\" && (doc.update_stock || doc.is_return))) {\n\t\t\tfrappe.model.round_floats_in(item, [\"qty\", \"received_qty\"]);\n\n\t\t\tif(!doc.is_return && this.validate_negative_quantity(cdt, cdn, item, [\"qty\", \"received_qty\"])){ return }\n\n\t\t\tif(!item.rejected_qty && item.qty) {\n\t\t\t\titem.received_qty = item.qty;\n\t\t\t}\n\n\t\t\tfrappe.model.round_floats_in(item, [\"qty\", \"received_qty\"]);\n\t\t\titem.rejected_qty = flt(item.received_qty - item.qty, precision(\"rejected_qty\", item));\n\t\t}\n\n\t\tthis._super(doc, cdt, cdn);\n\t},\n\n\treceived_qty: function(doc, cdt, cdn) {\n\t\tthis.calculate_accepted_qty(doc, cdt, cdn)\n\t},\n\n\trejected_qty: function(doc, cdt, cdn) {\n\t\tthis.calculate_accepted_qty(doc, cdt, cdn)\n\t},\n\n\tcalculate_accepted_qty: function(doc, cdt, cdn){\n\t\tvar item = frappe.get_doc(cdt, cdn);\n\t\tfrappe.model.round_floats_in(item, [\"received_qty\", \"rejected_qty\"]);\n\n\t\tif(!doc.is_return && this.validate_negative_quantity(cdt, cdn, item, [\"received_qty\", \"rejected_qty\"])){ return }\n\n\t\titem.qty = flt(item.received_qty - item.rejected_qty, precision(\"qty\", item));\n\t\tthis.qty(doc, cdt, cdn);\n\t},\n\n\tvalidate_negative_quantity: function(cdt, cdn, item, fieldnames){\n\t\tif(!item || !fieldnames) { return }\n\n\t\tvar is_negative_qty = false;\n\t\tfor(var i = 0; i<fieldnames.length; i++) {\n\t\t\tif(item[fieldnames[i]] < 0){\n\t\t\t\tfrappe.msgprint(__(\"Row #{0}: {1} can not be negative for item {2}\",\n\t\t\t\t\t[item.idx,__(frappe.meta.get_label(cdt, fieldnames[i], cdn)), item.item_code]));\n\t\t\t\tis_negative_qty = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn is_negative_qty\n\t},\n\n\twarehouse: function(doc, cdt, cdn) {\n\t\tvar item = frappe.get_doc(cdt, cdn);\n\t\tif(item.item_code && item.warehouse) {\n\t\t\treturn this.frm.call({\n\t\t\t\tmethod: \"erpnext.stock.get_item_details.get_bin_details\",\n\t\t\t\tchild: item,\n\t\t\t\targs: {\n\t\t\t\t\titem_code: item.item_code,\n\t\t\t\t\twarehouse: item.warehouse\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\tproject: function(doc, cdt, cdn) {\n\t\tvar item = frappe.get_doc(cdt, cdn);\n\t\tif(item.project) {\n\t\t\t$.each(this.frm.doc[\"items\"] || [],\n\t\t\t\tfunction(i, other_item) {\n\t\t\t\t\tif(!other_item.project) {\n\t\t\t\t\t\tother_item.project = item.project;\n\t\t\t\t\t\trefresh_field(\"project\", other_item.name, other_item.parentfield);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t},\n\n\tcategory: function(doc, cdt, cdn) {\n\t\t// should be the category field of tax table\n\t\tif(cdt != doc.doctype) {\n\t\t\tthis.calculate_taxes_and_totals();\n\t\t}\n\t},\n\tadd_deduct_tax: function(doc, cdt, cdn) {\n\t\tthis.calculate_taxes_and_totals();\n\t},\n\n\tset_from_product_bundle: function() {\n\t\tvar me = this;\n\t\tthis.frm.add_custom_button(__(\"Product Bundle\"), function() {\n\t\t\terpnext.buying.get_items_from_product_bundle(me.frm);\n\t\t}, __(\"Get items from\"));\n\t},\n\n\tshipping_address: function(){\n\t\tvar me = this;\n\t\terpnext.utils.get_address_display(this.frm, \"shipping_address\",\n\t\t\t\"shipping_address_display\", true);\n\t},\n\n\ttc_name: function() {\n\t\tthis.get_terms();\n\t},\n\tlink_to_mrs: function() {\n\t\tvar my_items = [];\n\t\tfor (var i in cur_frm.doc.items) {\n\t\t\tif(!cur_frm.doc.items[i].material_request){\n\t\t\t\tmy_items.push(cur_frm.doc.items[i].item_code);\n\t\t\t}\n\t\t}\n\t\tfrappe.call({\n\t\t\tmethod: \"erpnext.buying.utils.get_linked_material_requests\",\n\t\t\targs:{\n\t\t\t\titems: my_items\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.exc) return;\n\n\t\t\t\tvar i = 0;\n\t\t\t\tvar item_length = cur_frm.doc.items.length;\n\t\t\t\twhile (i < item_length) {\n\t\t\t\t\tvar qty = cur_frm.doc.items[i].qty;\n\t\t\t\t\t(r.message[0] || []).forEach(function(d) {\n\t\t\t\t\t\tif (d.qty > 0 && qty > 0 && cur_frm.doc.items[i].item_code == d.item_code && !cur_frm.doc.items[i].material_request_item)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcur_frm.doc.items[i].material_request = d.mr_name;\n\t\t\t\t\t\t\tcur_frm.doc.items[i].material_request_item = d.mr_item;\n\t\t\t\t\t\t\tvar my_qty = Math.min(qty, d.qty);\n\t\t\t\t\t\t\tqty = qty - my_qty;\n\t\t\t\t\t\t\td.qty = d.qty  - my_qty;\n\t\t\t\t\t\t\tcur_frm.doc.items[i].stock_qty = my_qty*cur_frm.doc.items[i].conversion_factor;\n\t\t\t\t\t\t\tcur_frm.doc.items[i].qty = my_qty;\n\n\t\t\t\t\t\t\tfrappe.msgprint(\"Assigning \" + d.mr_name + \" to \" + d.item_code + \" (row \" + cur_frm.doc.items[i].idx + \")\");\n\t\t\t\t\t\t\tif (qty > 0) {\n\t\t\t\t\t\t\t\tfrappe.msgprint(\"Splitting \" + qty + \" units of \" + d.item_code);\n\t\t\t\t\t\t\t\tvar newrow = frappe.model.add_child(cur_frm.doc, cur_frm.doc.items[i].doctype, \"items\");\n\t\t\t\t\t\t\t\titem_length++;\n\n\t\t\t\t\t\t\t\tfor (var key in cur_frm.doc.items[i]) {\n\t\t\t\t\t\t\t\t\tnewrow[key] = cur_frm.doc.items[i][key];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tnewrow.idx = item_length;\n\t\t\t\t\t\t\t\tnewrow[\"stock_qty\"] = newrow.conversion_factor*qty;\n\t\t\t\t\t\t\t\tnewrow[\"qty\"] = qty;\n\t\t\t\t\t\t\t\tnewrow[\"material_request\"] = \"\";\n\t\t\t\t\t\t\t\tnewrow[\"material_request_item\"] = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\trefresh_field(\"items\");\n\t\t\t}\n\t\t});\n\t}\n});\n\ncur_frm.add_fetch('project', 'cost_center', 'cost_center');\n\nerpnext.buying.get_default_bom = function(frm) {\n\t$.each(frm.doc[\"items\"] || [], function(i, d) {\n\t\tif (d.item_code && d.bom === \"\") {\n\t\t\treturn frappe.call({\n\t\t\t\ttype: \"GET\",\n\t\t\t\tmethod: \"erpnext.stock.get_item_details.get_default_bom\",\n\t\t\t\targs: {\n\t\t\t\t\t\"item_code\": d.item_code,\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(r) {\n\t\t\t\t\t\tfrappe.model.set_value(d.doctype, d.name, \"bom\", r.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t});\n}\n\nerpnext.buying.get_items_from_product_bundle = function(frm) {\n\tvar dialog = new frappe.ui.Dialog({\n\t\ttitle: __(\"Get Items from Product Bundle\"),\n\t\tfields: [\n\t\t\t{\n\t\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\t\"label\": __(\"Product Bundle\"),\n\t\t\t\t\"fieldname\": \"product_bundle\",\n\t\t\t\t\"options\":\"Product Bundle\",\n\t\t\t\t\"reqd\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldtype\": \"Currency\",\n\t\t\t\t\"label\": __(\"Quantity\"),\n\t\t\t\t\"fieldname\": \"quantity\",\n\t\t\t\t\"reqd\": 1,\n\t\t\t\t\"default\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"fieldtype\": \"Button\",\n\t\t\t\t\"label\": __(\"Get Items\"),\n\t\t\t\t\"fieldname\": \"get_items\",\n\t\t\t\t\"cssClass\": \"btn-primary\"\n\t\t\t}\n\t\t]\n\t});\n\n\tdialog.fields_dict.get_items.$input.click(function() {\n\t\tvar args = dialog.get_values();\n\t\tif(!args) return;\n\t\tdialog.hide();\n\t\treturn frappe.call({\n\t\t\ttype: \"GET\",\n\t\t\tmethod: \"erpnext.stock.doctype.packed_item.packed_item.get_items_from_product_bundle\",\n\t\t\targs: {\n\t\t\t\targs: {\n\t\t\t\t\titem_code: args.product_bundle,\n\t\t\t\t\tquantity: args.quantity,\n\t\t\t\t\tparenttype: frm.doc.doctype,\n\t\t\t\t\tparent: frm.doc.name,\n\t\t\t\t\tsupplier: frm.doc.supplier,\n\t\t\t\t\tcurrency: frm.doc.currency,\n\t\t\t\t\tconversion_rate: frm.doc.conversion_rate,\n\t\t\t\t\tprice_list: frm.doc.buying_price_list,\n\t\t\t\t\tprice_list_currency: frm.doc.price_list_currency,\n\t\t\t\t\tplc_conversion_rate: frm.doc.plc_conversion_rate,\n\t\t\t\t\tcompany: frm.doc.company,\n\t\t\t\t\tis_subcontracted: frm.doc.is_subcontracted,\n\t\t\t\t\ttransaction_date: frm.doc.transaction_date || frm.doc.posting_date,\n\t\t\t\t\tignore_pricing_rule: frm.doc.ignore_pricing_rule\n\t\t\t\t}\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tcallback: function(r) {\n\t\t\t\tconst first_row_is_empty = function(child_table){\n\t\t\t\t\tif($.isArray(child_table) && child_table.length > 0) {\n\t\t\t\t\t\treturn !child_table[0].item_code;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\tconst remove_empty_first_row = function(frm){\n\t\t\t\tif (first_row_is_empty(frm.doc.items)){\n\t\t\t\t\tfrm.doc.items = frm.doc.items.splice(1);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif(!r.exc && r.message) {\n\t\t\t\t\tremove_empty_first_row(frm);\n\t\t\t\t\tfor ( var i=0; i< r.message.length; i++ ) {\n\t\t\t\t\t\tvar d = frm.add_child(\"items\");\n\t\t\t\t\t\tvar item = r.message[i];\n\t\t\t\t\t\tfor ( var key in  item) {\n\t\t\t\t\t\t\tif ( !is_null(item[key]) ) {\n\t\t\t\t\t\t\t\td[key] = item[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(frappe.meta.get_docfield(d.doctype, \"price_list_rate\", d.name)) {\n\t\t\t\t\t\t\tfrm.script_manager.trigger(\"price_list_rate\", d.doctype, d.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfrm.refresh_field(\"items\");\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t});\n\tdialog.show();\n}\n\n;\n\nfrappe.ui.form.on('Material Request', {\n\tsetup: function(frm) {\n\t\tfrm.custom_make_buttons = {\n\t\t\t'Stock Entry': 'Issue Material',\n\t\t\t'Purchase Order': 'Purchase Order',\n\t\t\t'Request for Quotation': 'Request for Quotation',\n\t\t\t'Supplier Quotation': 'Supplier Quotation',\n\t\t\t'Production Order': 'Production Order'\n\t\t}\n\t},\n\tonload: function(frm) {\n\t\t// add item, if previous view was item\n\t\terpnext.utils.add_item(frm);\n\n\t\t//set schedule_date\n\t\tset_schedule_date(frm);\n\n\t\t// formatter for material request item\n\t\tfrm.set_indicator_formatter('item_code',\n\t\t\tfunction(doc) { return (doc.qty<=doc.ordered_qty) ? \"green\" : \"orange\" }),\n\n\t\tfrm.fields_dict[\"items\"].grid.get_field(\"warehouse\").get_query = function(doc, cdt, cdn){\n\t\t\treturn{\n\t\t\t\tfilters: {'company': doc.company}\n\t\t\t}\n\t\t}\n\t}\n});\n\nfrappe.ui.form.on(\"Material Request Item\", {\n\tqty: function (frm, doctype, name) {\n\t\tvar d = locals[doctype][name];\n\t\tif (flt(d.qty) < flt(d.min_order_qty)) {\n\t\t\tfrappe.msgprint(__(\"Warning: Material Requested Qty is less than Minimum Order Qty\"));\n\t\t}\n\t},\n\n\titem_code: function(frm, doctype, name) {\n\t\tset_schedule_date(frm);\n\t},\n\n\tschedule_date: function(frm, cdt, cdn) {\n\t\tvar row = locals[cdt][cdn];\n\t\tif (row.schedule_date) {\n\t\t\tif(!frm.doc.schedule_date) {\n\t\t\t\terpnext.utils.copy_value_in_all_row(frm.doc, cdt, cdn, \"items\", \"schedule_date\");\n\t\t\t} else {\n\t\t\t\tset_schedule_date(frm);\n\t\t\t}\n\t\t}\n\t}\n});\n\nerpnext.buying.MaterialRequestController = erpnext.buying.BuyingController.extend({\n\tonload: function(doc) {\n\t\tthis._super();\n\t\tthis.frm.set_query(\"item_code\", \"items\", function() {\n\t\t\treturn {\n\t\t\t\tquery: \"erpnext.controllers.queries.item_query\"\n\t\t\t}\n\t\t});\n\t},\n\n\trefresh: function(doc) {\n\t\tvar me = this;\n\t\tthis._super();\n\n\t\tif(doc.docstatus==0) {\n\t\t\tcur_frm.add_custom_button(__(\"Get Items from BOM\"),\n\t\t\t\tcur_frm.cscript.get_items_from_bom, \"fa fa-sitemap\", \"btn-default\");\n\t\t}\n\n\t\tif(doc.docstatus == 1 && doc.status != 'Stopped') {\n\t\t\tif(flt(doc.per_ordered, 2) < 100) {\n\t\t\t\t// make\n\t\t\t\tif(doc.material_request_type === \"Material Transfer\")\n\t\t\t\t\tcur_frm.add_custom_button(__(\"Transfer Material\"),\n\t\t\t\t\tthis.make_stock_entry, __(\"Make\"));\n\n\t\t\t\tif(doc.material_request_type === \"Material Issue\")\n\t\t\t\t\tcur_frm.add_custom_button(__(\"Issue Material\"),\n\t\t\t\t\tthis.make_stock_entry, __(\"Make\"));\n\n\t\t\t\tif(doc.material_request_type === \"Purchase\")\n\t\t\t\t\tcur_frm.add_custom_button(__('Purchase Order'),\n\t\t\t\t\t\tthis.make_purchase_order, __(\"Make\"));\n\n\t\t\t\tif(doc.material_request_type === \"Purchase\")\n\t\t\t\t\tcur_frm.add_custom_button(__(\"Request for Quotation\"),\n\t\t\t\t\t\tthis.make_request_for_quotation, __(\"Make\"));\n\n\t\t\t\tif(doc.material_request_type === \"Purchase\")\n\t\t\t\t\tcur_frm.add_custom_button(__(\"Supplier Quotation\"),\n\t\t\t\t\tthis.make_supplier_quotation, __(\"Make\"));\n\n\t\t\t\tif(doc.material_request_type === \"Manufacture\")\n\t\t\t\t\tcur_frm.add_custom_button(__(\"Production Order\"),\n\t\t\t\t\tfunction() { me.raise_production_orders() }, __(\"Make\"));\n\n\t\t\t\tcur_frm.page.set_inner_btn_group_as_primary(__(\"Make\"));\n\n\t\t\t\t// stop\n\t\t\t\tcur_frm.add_custom_button(__('Stop'),\n\t\t\t\t\tcur_frm.cscript['Stop Material Request']);\n\n\t\t\t}\n\t\t}\n\n\t\tif (this.frm.doc.docstatus===0) {\n\t\t\tthis.frm.add_custom_button(__('Sales Order'),\n\t\t\t\tfunction() {\n\t\t\t\t\terpnext.utils.map_current_doc({\n\t\t\t\t\t\tmethod: \"erpnext.selling.doctype.sales_order.sales_order.make_material_request\",\n\t\t\t\t\t\tsource_doctype: \"Sales Order\",\n\t\t\t\t\t\ttarget: me.frm,\n\t\t\t\t\t\tsetters: {\n\t\t\t\t\t\t\tcompany: me.frm.doc.company\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget_query_filters: {\n\t\t\t\t\t\t\tdocstatus: 1,\n\t\t\t\t\t\t\tstatus: [\"!=\", \"Closed\"],\n\t\t\t\t\t\t\tper_delivered: [\"<\", 99.99],\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}, __(\"Get items from\"));\n\t\t}\n\n\t\tif(doc.docstatus == 1 && doc.status == 'Stopped')\n\t\t\tcur_frm.add_custom_button(__('Re-open'),\n\t\t\t\tcur_frm.cscript['Unstop Material Request']);\n\n\t},\n\n\tget_items_from_bom: function() {\n\t\tvar d = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Get Items from BOM\"),\n\t\t\tfields: [\n\t\t\t\t{\"fieldname\":\"bom\", \"fieldtype\":\"Link\", \"label\":__(\"BOM\"),\n\t\t\t\t\toptions:\"BOM\", reqd: 1, get_query: function(){\n\t\t\t\t\t\treturn {filters: { docstatus:1 }}\n\t\t\t\t\t}},\n\t\t\t\t{\"fieldname\":\"warehouse\", \"fieldtype\":\"Link\", \"label\":__(\"Warehouse\"),\n\t\t\t\t\toptions:\"Warehouse\", reqd: 1},\n\t\t\t\t{\"fieldname\":\"fetch_exploded\", \"fieldtype\":\"Check\",\n\t\t\t\t\t\"label\":__(\"Fetch exploded BOM (including sub-assemblies)\"), \"default\":1},\n\t\t\t\t{fieldname:\"fetch\", \"label\":__(\"Get Items from BOM\"), \"fieldtype\":\"Button\"}\n\t\t\t]\n\t\t});\n\t\td.get_input(\"fetch\").on(\"click\", function() {\n\t\t\tvar values = d.get_values();\n\t\t\tif(!values) return;\n\t\t\tvalues[\"company\"] = cur_frm.doc.company;\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom.bom.get_bom_items\",\n\t\t\t\targs: values,\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!r.message) {\n\t\t\t\t\t\tfrappe.throw(__(\"BOM does not contain any stock item\"))\n\t\t\t\t\t} else {\n\t\t\t\t\t\terpnext.utils.remove_empty_first_row(cur_frm, \"items\");\n\t\t\t\t\t\t$.each(r.message, function(i, item) {\n\t\t\t\t\t\t\tvar d = frappe.model.add_child(cur_frm.doc, \"Material Request Item\", \"items\");\n\t\t\t\t\t\t\td.item_code = item.item_code;\n\t\t\t\t\t\t\td.item_name = item.item_name;\n\t\t\t\t\t\t\td.description = item.description;\n\t\t\t\t\t\t\td.warehouse = values.warehouse;\n\t\t\t\t\t\t\td.uom = item.stock_uom;\n\t\t\t\t\t\t\td.qty = item.qty;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\td.hide();\n\t\t\t\t\trefresh_field(\"items\");\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\td.show();\n\t},\n\n\ttc_name: function() {\n\t\tthis.get_terms();\n\t},\n\n\tvalidate_company_and_party: function(party_field) {\n\t\treturn true;\n\t},\n\n\tcalculate_taxes_and_totals: function() {\n\t\treturn;\n\t},\n\n\tmake_purchase_order: function() {\n\t\tfrappe.model.open_mapped_doc({\n\t\t\tmethod: \"erpnext.stock.doctype.material_request.material_request.make_purchase_order\",\n\t\t\tfrm: cur_frm,\n\t\t\trun_link_triggers: true\n\t\t});\n\t},\n\n\tmake_request_for_quotation: function(){\n\t\tfrappe.model.open_mapped_doc({\n\t\t\tmethod: \"erpnext.stock.doctype.material_request.material_request.make_request_for_quotation\",\n\t\t\tfrm: cur_frm,\n\t\t\trun_link_triggers: true\n\t\t});\n\t},\n\n\tmake_supplier_quotation: function() {\n\t\tfrappe.model.open_mapped_doc({\n\t\t\tmethod: \"erpnext.stock.doctype.material_request.material_request.make_supplier_quotation\",\n\t\t\tfrm: cur_frm\n\t\t});\n\t},\n\n\tmake_stock_entry: function() {\n\t\tfrappe.model.open_mapped_doc({\n\t\t\tmethod: \"erpnext.stock.doctype.material_request.material_request.make_stock_entry\",\n\t\t\tfrm: cur_frm\n\t\t});\n\t},\n\n\traise_production_orders: function() {\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\tmethod:\"erpnext.stock.doctype.material_request.material_request.raise_production_orders\",\n\t\t\targs: {\n\t\t\t\t\"material_request\": me.frm.doc.name\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.message.length) {\n\t\t\t\t\tme.frm.reload_doc();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tvalidate: function() {\n\t\tset_schedule_date(this.frm);\n\t},\n\n\titems_add: function(doc, cdt, cdn) {\n\t\tvar row = frappe.get_doc(cdt, cdn);\n\t\tif(doc.schedule_date) {\n\t\t\trow.schedule_date = doc.schedule_date;\n\t\t\trefresh_field(\"schedule_date\", cdn, \"items\");\n\t\t} else {\n\t\t\tthis.frm.script_manager.copy_from_first_row(\"items\", row, [\"schedule_date\"]);\n\t\t}\n\t},\n\n\titems_on_form_rendered: function() {\n\t\tset_schedule_date(this.frm);\n\t},\n\n\tschedule_date: function() {\n\t\tset_schedule_date(this.frm);\n\t}\n});\n\n// for backward compatibility: combine new and previous states\n$.extend(cur_frm.cscript, new erpnext.buying.MaterialRequestController({frm: cur_frm}));\n\ncur_frm.cscript['Stop Material Request'] = function() {\n\tvar doc = cur_frm.doc;\n\t$c('runserverobj', args={'method':'update_status', 'arg': 'Stopped', 'docs': doc}, function(r,rt) {\n\t\tcur_frm.refresh();\n\t});\n};\n\ncur_frm.cscript['Unstop Material Request'] = function(){\n\tvar doc = cur_frm.doc;\n\t$c('runserverobj', args={'method':'update_status', 'arg': 'Submitted','docs': doc}, function(r,rt) {\n\t\tcur_frm.refresh();\n\t});\n};\n\nfunction set_schedule_date(frm) {\n\tif(frm.doc.schedule_date){\n\t\terpnext.utils.copy_value_in_all_row(frm.doc, frm.doc.doctype, frm.doc.name, \"items\", \"schedule_date\");\n\t}\n}","__tree_js":null,"menu_index":0,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":1,"beta":0,"read_only_onload":1,"module":"Stock","doctype":"DocType","autoname":"naming_series:","__kanban_boards":[],"issingle":0,"icon":"fa fa-ticket","__listview_template":null,"name":"Material Request","idx":70,"hide_toolbar":0,"__workflow_docs":[],"title_field":"title","modified":"2017-10-05 18:24:17.148782","is_submittable":1,"__calendar_js":null,"__list_js":"\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/stock/doctype/material_request/material_request_list.js */\n\nfrappe.listview_settings['Material Request'] = {\n\tadd_fields: [\"material_request_type\", \"status\", \"per_ordered\"],\n\tget_indicator: function(doc) {\n\t\tif(doc.status==\"Stopped\") {\n\t\t\treturn [__(\"Stopped\"), \"red\", \"status,=,Stopped\"];\n\t\t} else if(doc.docstatus==1 && flt(doc.per_ordered, 2) == 0) {\n\t\t\treturn [__(\"Pending\"), \"orange\", \"per_ordered,=,0\"];\n\t\t}  else if(doc.docstatus==1 && flt(doc.per_ordered, 2) < 100) {\n\t\t\treturn [__(\"Partially ordered\"), \"yellow\", \"per_ordered,<,100\"];\n\t\t} else if(doc.docstatus==1 && flt(doc.per_ordered, 2) == 100) {\n\t\t\tif (doc.material_request_type == \"Purchase\") {\n\t\t\t\treturn [__(\"Ordered\"), \"green\", \"per_ordered,=,100\"];\n\t\t\t} else if (doc.material_request_type == \"Material Transfer\") {\n\t\t\t\treturn [__(\"Transfered\"), \"green\", \"per_ordered,=,100\"];\n\t\t\t} else if (doc.material_request_type == \"Material Issue\") {\n\t\t\t\treturn [__(\"Issued\"), \"green\", \"per_ordered,=,100\"];\n\t\t\t}\n\t\t}\n\t}\n};\n","permissions":[{"creation":"2013-03-07 14:48:38","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":1,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":1,"write":1,"role":"Purchase Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Material Request","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"2791db5f57","idx":1,"amend":1,"modified":"2017-10-06 23:02:32.900426","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-03-07 14:48:38","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":1,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":1,"write":1,"role":"Stock Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Material Request","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"758c35d527","idx":2,"amend":1,"modified":"2017-10-06 23:02:32.900426","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-03-07 14:48:38","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":1,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":1,"write":1,"role":"Stock User","print":1,"docstatus":0,"permlevel":0,"parent":"Material Request","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"2756b72625","idx":3,"amend":1,"modified":"2017-10-06 23:02:32.900426","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-03-07 14:48:38","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":1,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":1,"write":1,"role":"Purchase User","print":1,"docstatus":0,"permlevel":0,"parent":"Material Request","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"15a88d1c64","idx":4,"amend":1,"modified":"2017-10-06 23:02:32.900426","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":1,"__custom_js":"","__print_formats":[]},{"fields":[{"collapsible":0,"print_width":"100px","no_copy":0,"oldfieldtype":"Link","creation":"2013-02-22 01:28:02","search_fields":["item_name","description","item_group","customer_code"],"doctype":"DocField","oldfieldname":"item_code","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":1,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Item Code","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":3,"bold":1,"parent":"Material Request Item","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d66b13c2ad","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"item_code","fieldtype":"Link","options":"Item","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"9ebff1113f","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"col_break1","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":0,"oldfieldtype":"Data","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"item_name","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":1,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Item Name","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"bb95e44990","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"item_name","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":1,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Description","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f2f4b1dc43","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"section_break_4","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"250px","no_copy":0,"oldfieldtype":"Text","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"description","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Description","print_hide_if_no_value":0,"width":"250px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2dd47b4757","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"description","fieldtype":"Text Editor","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"71e5cbe344","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"column_break_6","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Image","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"06b74bed14","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"image","fieldtype":"Attach Image","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Quantity and Warehouse","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"2aa61c5cb8","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"quantity_and_warehouse","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"80px","no_copy":0,"oldfieldtype":"Currency","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"qty","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Quantity","print_hide_if_no_value":0,"width":"80px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d0b1455c8d","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"qty","fieldtype":"Float","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"70px","no_copy":0,"oldfieldtype":"Link","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"uom","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Stock UOM","print_hide_if_no_value":0,"width":"70px","allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c44055a094","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"uom","fieldtype":"Link","options":"UOM","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":0,"oldfieldtype":"Link","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"warehouse","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"For Warehouse","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":3,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1a78e0d1d2","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"warehouse","fieldtype":"Link","options":"Warehouse","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d8b1dc5aef","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"col_break2","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":0,"oldfieldtype":"Date","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"schedule_date","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Required Date","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":1,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a6ce963fb4","idx":13,"default":"","in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"schedule_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"More Information","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"f76b3e77bd","idx":14,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"more_info","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-02-22 01:28:02","search_fields":["parent_item_group"],"doctype":"DocField","oldfieldname":"item_group","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"","read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Item Group","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"8fe65b6aa3","idx":15,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"item_group","fieldtype":"Link","options":"Item Group","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"100px","no_copy":0,"oldfieldtype":"Link","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"brand","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Brand","print_hide_if_no_value":0,"width":"100px","allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1573314ae2","idx":16,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"brand","fieldtype":"Link","options":"Brand","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"oldfieldtype":"Date","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"lead_time_date","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Lead Time Date","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"c136849eeb","idx":17,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"lead_time_date","fieldtype":"Date","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":["status","transaction_date","customer","customer_name","territory","order_type","company"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Sales Order","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Document","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"84174a805b","idx":18,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"sales_order","fieldtype":"Link","options":"Sales Order","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":["customer","status","priority","is_active"],"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Project","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"808408f21d","idx":19,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"project","fieldtype":"Link","options":"Project","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"94a294c735","idx":20,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"col_break3","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"70px","no_copy":1,"oldfieldtype":"Currency","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"min_order_qty","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Min Order Qty","print_hide_if_no_value":0,"width":"70px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fca779213b","idx":21,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"min_order_qty","fieldtype":"Float","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"70px","no_copy":1,"oldfieldtype":"Currency","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"projected_qty","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Projected Qty","print_hide_if_no_value":0,"width":"70px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":1,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"491519b2dc","idx":22,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"projected_qty","fieldtype":"Float","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Actual Qty","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"fad1b3339f","idx":23,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"actual_qty","fieldtype":"Float","report_hide":1,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"oldfieldtype":"Currency","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"ordered_qty","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Completed Qty","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a8b5d8fbf8","idx":24,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"ordered_qty","fieldtype":"Float","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":1,"oldfieldtype":"Check","creation":"2013-02-22 01:28:02","search_fields":null,"doctype":"DocField","oldfieldname":"page_break","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Page Break","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Material Request Item","search_index":0,"allow_on_submit":1,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b070784299","idx":25,"in_standard_filter":0,"modified":"2017-06-09 23:52:03.196217","parenttype":"DocType","fieldname":"page_break","fieldtype":"Check","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2013-02-22 01:28:02","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Stock","doctype":"DocType","autoname":"hash","__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Material Request Item","idx":1,"hide_toolbar":0,"__workflow_docs":null,"modified":"2017-02-20 13:31:50.143583","is_submittable":0,"__calendar_js":null,"permissions":[],"quick_entry":0,"__custom_js":null,"__print_formats":null}],"user_settings":"{\"last_view\": \"List\", \"List\": {\"order_by\": \"`tabMaterial Request`.`modified` desc\", \"filters\": [[\"Material Request\", \"docstatus\", \"!=\", \"2\"]]}, \"updated_on\": \"Sun Jul 16 2017 00:47:10 GMT+0700\"}","parent_dt":"Material Request"}