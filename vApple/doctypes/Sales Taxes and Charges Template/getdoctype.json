{"docs":[{"fields":[{"collapsible":0,"no_copy":1,"oldfieldtype":"Data","creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","oldfieldname":"title","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Title","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":1,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"bd30c601b7","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"title","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Default","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"533a7ce3c1","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"is_default","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Disabled","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"58a84a3b01","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"disabled","fieldtype":"Check","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"3035da7472","idx":4,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"column_break_3","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","oldfieldname":"company","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Company","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":1,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":1,"unique":0,"name":"0675f96950","idx":5,"in_standard_filter":1,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"company","fieldtype":"Link","options":"Company","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"60088189d2","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"section_break_5","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Table","creation":"2013-01-10 16:34:09","search_fields":null,"doctype":"DocField","oldfieldname":"other_charges","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"* Will be calculated in the transaction.","read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Sales Taxes and Charges","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges Template","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"729be2163b","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:51:38.856240","parenttype":"DocType","fieldname":"taxes","fieldtype":"Table","options":"Sales Taxes and Charges","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2013-01-10 16:34:09","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"ASC","__linked_with":null,"__dashboard":{},"owner":"Administrator","editable_grid":0,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":0,"modified_by":"Administrator","allow_rename":1,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/accounts/doctype/sales_taxes_and_charges_template/sales_taxes_and_charges_template.js */\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\ncur_frm.cscript.tax_table = \"Sales Taxes and Charges\";\n\n// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\n// get tax rate\nfrappe.provide(\"erpnext.taxes\");\nfrappe.provide(\"erpnext.taxes.flags\");\n\nfrappe.ui.form.on(cur_frm.doctype, {\n\tsetup: function(frm) {\n\t\t// set conditional display for rate column in taxes\n\t\t$(frm.wrapper).on('grid-row-render', function(e, grid_row) {\n\t\t\tif(in_list(['Sales Taxes and Charges', 'Purchase Taxes and Charges'], grid_row.doc.doctype)) {\n\t\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(grid_row);\n\t\t\t}\n\t\t});\n\t},\n\tonload: function(frm) {\n\t\tif(frm.get_field(\"taxes\")) {\n\t\t\tfrm.set_query(\"account_head\", \"taxes\", function(doc) {\n\t\t\t\tif(frm.cscript.tax_table == \"Sales Taxes and Charges\") {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Expense Account\"];\n\t\t\t\t} else {\n\t\t\t\t\tvar account_type = [\"Tax\", \"Chargeable\", \"Income Account\"];\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tquery: \"erpnext.controllers.queries.tax_account_query\",\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\"account_type\": account_type,\n\t\t\t\t\t\t\"company\": doc.company\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfrm.set_query(\"cost_center\", \"taxes\", function(doc) {\n\t\t\t\treturn {\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t'company': doc.company,\n\t\t\t\t\t\t\"is_group\": 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tvalidate: function(frm) {\n\t\t// neither is absolutely mandatory\n\t\tif(frm.get_docfield(\"taxes\")) {\n\t\t\tfrm.get_docfield(\"taxes\", \"rate\").reqd = 0;\n\t\t\tfrm.get_docfield(\"taxes\", \"tax_amount\").reqd = 0;\n\t\t}\n\n\t},\n\ttaxes_on_form_rendered: function(frm) {\n\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.open_grid_row());\n\t}\n});\n\nfrappe.ui.form.on('Sales Invoice Payment', {\n\tmode_of_payment: function(frm, cdt, cdn) {\n\t\tvar d = locals[cdt][cdn];\n\t\tget_payment_mode_account(frm, d.mode_of_payment, function(account){\n\t\t\tfrappe.model.set_value(cdt, cdn, 'account', account)\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Purchase Invoice', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value('cash_bank_account', account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Payment Entry', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tvar payment_account_field = frm.doc.payment_type == \"Receive\" ? \"paid_to\" : \"paid_from\";\n\t\t\tfrm.set_value(payment_account_field, account);\n\t\t})\n\t}\n})\n\nfrappe.ui.form.on('Salary Structure', {\n\tmode_of_payment: function(frm) {\n\t\tget_payment_mode_account(frm, frm.doc.mode_of_payment, function(account){\n\t\t\tfrm.set_value(\"payment_account\", account);\n\t\t})\n\t}\n})\n\nvar get_payment_mode_account = function(frm, mode_of_payment, callback) {\n\tif(!frm.doc.company) {\n\t\tfrappe.throw(__(\"Please select the Company first\"));\n\t}\n\n\tif(!mode_of_payment) {\n\t\treturn;\n\t}\n\n\treturn  frappe.call({\n\t\tmethod: \"erpnext.accounts.doctype.sales_invoice.sales_invoice.get_bank_cash_account\",\n\t\targs: {\n\t\t\t\"mode_of_payment\": mode_of_payment,\n\t\t\t\"company\": frm.doc.company\n\t\t},\n\t\tcallback: function(r, rt) {\n\t\t\tif(r.message) {\n\t\t\t\tcallback(r.message.account)\n\t\t\t}\n\t\t}\n\t});\n}\n\n\ncur_frm.cscript.account_head = function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tif(!d.charge_type && d.account_head){\n\t\tfrappe.msgprint(\"Please select Charge Type first\");\n\t\tfrappe.model.set_value(cdt, cdn, \"account_head\", \"\");\n\t} else if(d.account_head && d.charge_type!==\"Actual\") {\n\t\tfrappe.call({\n\t\t\ttype:\"GET\",\n\t\t\tmethod: \"erpnext.controllers.accounts_controller.get_tax_rate\",\n\t\t\targs: {\"account_head\":d.account_head},\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"rate\", r.message.tax_rate || 0);\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"description\", r.message.account_name);\n\t\t\t}\n\t\t})\n\t}\n}\n\ncur_frm.cscript.validate_taxes_and_charges = function(cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\tvar msg = \"\";\n\n\tif(d.account_head && !d.description) {\n\t\t// set description from account head\n\t\td.description = d.account_head.split(' - ').slice(0, -1).join(' - ');\n\t}\n\n\tif(!d.charge_type && (d.row_id || d.rate || d.tax_amount)) {\n\t\tmsg = __(\"Please select Charge Type first\");\n\t\td.row_id = \"\";\n\t\td.rate = d.tax_amount = 0.0;\n\t} else if((d.charge_type == 'Actual' || d.charge_type == 'On Net Total') && d.row_id) {\n\t\tmsg = __(\"Can refer row only if the charge type is 'On Previous Row Amount' or 'Previous Row Total'\");\n\t\td.row_id = \"\";\n\t} else if((d.charge_type == 'On Previous Row Amount' || d.charge_type == 'On Previous Row Total') && d.row_id) {\n\t\tif (d.idx == 1) {\n\t\t\tmsg = __(\"Cannot select charge type as 'On Previous Row Amount' or 'On Previous Row Total' for first row\");\n\t\t\td.charge_type = '';\n\t\t} else if (!d.row_id) {\n\t\t\tmsg = __(\"Please specify a valid Row ID for row {0} in table {1}\", [d.idx, __(d.doctype)]);\n\t\t\td.row_id = \"\";\n\t\t} else if(d.row_id && d.row_id >= d.idx) {\n\t\t\tmsg = __(\"Cannot refer row number greater than or equal to current row number for this Charge type\");\n\t\t\td.row_id = \"\";\n\t\t}\n\t}\n\tif(msg) {\n\t\tfrappe.validated = false;\n\t\trefresh_field(\"taxes\");\n\t\tfrappe.throw(msg);\n\t}\n\n}\n\ncur_frm.cscript.validate_inclusive_tax = function(tax) {\n\tvar actual_type_error = function() {\n\t\tvar msg = __(\"Actual type tax cannot be included in Item rate in row {0}\", [tax.idx])\n\t\tfrappe.throw(msg);\n\t};\n\n\tvar on_previous_row_error = function(row_range) {\n\t\tvar msg = __(\"For row {0} in {1}. To include {2} in Item rate, rows {3} must also be included\",\n\t\t\t[tax.idx, __(tax.doctype), tax.charge_type, row_range])\n\t\tfrappe.throw(msg);\n\t};\n\n\tif(cint(tax.included_in_print_rate)) {\n\t\tif(tax.charge_type == \"Actual\") {\n\t\t\t// inclusive tax cannot be of type Actual\n\t\t\tactual_type_error();\n\t\t} else if(tax.charge_type == \"On Previous Row Amount\" &&\n\t\t\t!cint(this.frm.doc[\"taxes\"][tax.row_id - 1].included_in_print_rate)\n\t\t) {\n\t\t\t// referred row should also be an inclusive tax\n\t\t\ton_previous_row_error(tax.row_id);\n\t\t} else if(tax.charge_type == \"On Previous Row Total\") {\n\t\t\tvar taxes_not_included = $.map(this.frm.doc[\"taxes\"].slice(0, tax.row_id),\n\t\t\t\tfunction(t) { return cint(t.included_in_print_rate) ? null : t; });\n\t\t\tif(taxes_not_included.length > 0) {\n\t\t\t\t// all rows above this tax should be inclusive\n\t\t\t\ton_previous_row_error(tax.row_id == 1 ? \"1\" : \"1 - \" + tax.row_id);\n\t\t\t}\n\t\t} else if(tax.category == \"Valuation\") {\n\t\t\tfrappe.throw(__(\"Valuation type charges can not marked as Inclusive\"));\n\t\t}\n\t}\n}\n\nif(!erpnext.taxes.flags[cur_frm.cscript.tax_table]) {\n\terpnext.taxes.flags[cur_frm.cscript.tax_table] = true;\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"row_id\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"rate\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"tax_amount\", function(frm, cdt, cdn) {\n\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"charge_type\", function(frm, cdt, cdn) {\n\t\tfrm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\tvar open_form = frm.open_grid_row();\n\t\tif(open_form) {\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(open_form);\n\t\t} else {\n\t\t\t// apply in current row\n\t\t\terpnext.taxes.set_conditional_mandatory_rate_or_amount(frm.get_field('taxes').grid.get_row(cdn));\n\t\t}\n\t});\n\n\tfrappe.ui.form.on(cur_frm.cscript.tax_table, \"included_in_print_rate\", function(frm, cdt, cdn) {\n\t\tvar tax = frappe.get_doc(cdt, cdn);\n\t\ttry {\n\t\t\tcur_frm.cscript.validate_taxes_and_charges(cdt, cdn);\n\t\t\tcur_frm.cscript.validate_inclusive_tax(tax);\n\t\t} catch(e) {\n\t\t\ttax.included_in_print_rate = 0;\n\t\t\trefresh_field(\"included_in_print_rate\", tax.name, tax.parentfield);\n\t\t\tthrow e;\n\t\t}\n\t});\n}\n\nerpnext.taxes.set_conditional_mandatory_rate_or_amount = function(grid_row) {\n\tif(grid_row) {\n\t\tif(grid_row.doc.charge_type===\"Actual\") {\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", true);\n\t\t\tgrid_row.toggle_editable(\"rate\", false);\n\t\t\tgrid_row.toggle_reqd(\"rate\", false);\n\t\t} else {\n\t\t\tgrid_row.toggle_editable(\"rate\", true);\n\t\t\tgrid_row.toggle_reqd(\"rate\", true);\n\t\t\tgrid_row.toggle_editable(\"tax_amount\", false);\n\t\t\tgrid_row.toggle_reqd(\"tax_amount\", false);\n\t\t}\n\t}\n}\n\n\n// For customizing print\ncur_frm.pformat.total = function(doc) { return ''; }\ncur_frm.pformat.discount_amount = function(doc) { return ''; }\ncur_frm.pformat.grand_total = function(doc) { return ''; }\ncur_frm.pformat.rounded_total = function(doc) { return ''; }\ncur_frm.pformat.in_words = function(doc) { return ''; }\n\ncur_frm.pformat.taxes= function(doc){\n\t//function to make row of table\n\tvar make_row = function(title, val, bold, is_negative) {\n\t\tvar bstart = '<b>'; var bend = '</b>';\n\t\treturn '<tr><td style=\"width:50%;\">' + (bold?bstart:'') + title + (bold?bend:'') + '</td>'\n\t\t\t+ '<td style=\"width:50%;text-align:right;\">' + (is_negative ? '- ' : '')\n\t\t+ format_currency(val, doc.currency) + '</td></tr>';\n\t}\n\n\tfunction print_hide(fieldname) {\n\t\tvar doc_field = frappe.meta.get_docfield(doc.doctype, fieldname, doc.name);\n\t\treturn doc_field.print_hide;\n\t}\n\n\tout ='';\n\tif (!doc.print_without_amount) {\n\t\tvar cl = doc.taxes || [];\n\n\t\t// outer table\n\t\tvar out='<div><table class=\"noborder\" style=\"width:100%\"><tr><td style=\"width: 60%\"></td><td>';\n\n\t\t// main table\n\n\t\tout +='<table class=\"noborder\" style=\"width:100%\">';\n\n\t\tif(!print_hide('total')) {\n\t\t\tout += make_row('Total', doc.total, 1);\n\t\t}\n\n\t\t// Discount Amount on net total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Net Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// add rows\n\t\tif(cl.length){\n\t\t\tfor(var i=0;i<cl.length;i++) {\n\t\t\t\tif(cl[i].tax_amount!=0 && !cl[i].included_in_print_rate)\n\t\t\t\t\tout += make_row(cl[i].description, cl[i].tax_amount, 0);\n\t\t\t}\n\t\t}\n\n\t\t// Discount Amount on grand total\n\t\tif(!print_hide('discount_amount') && doc.apply_discount_on == \"Grand Total\" && doc.discount_amount)\n\t\t\tout += make_row('Discount Amount', doc.discount_amount, 0, 1);\n\n\t\t// grand total\n\t\tif(!print_hide('grand_total'))\n\t\t\tout += make_row('Grand Total', doc.grand_total, 1);\n\n\t\tif(!print_hide('rounded_total'))\n\t\t\tout += make_row('Rounded Total', doc.rounded_total, 1);\n\n\t\tif(doc.in_words && !print_hide('in_words')) {\n\t\t\tout +='</table></td></tr>';\n\t\t\tout += '<tr><td colspan = \"2\">';\n\t\t\tout += '<table><tr><td style=\"width:25%;\"><b>In Words</b></td>';\n\t\t\tout += '<td style=\"width:50%;\">' + doc.in_words + '</td></tr>';\n\t\t}\n\t\tout += '</table></td></tr></table></div>';\n\t}\n\treturn out;\n}\n\n\n","__tree_js":null,"docstatus":0,"__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":0,"description":"Standard tax template that can be applied to all Sales Transactions. This template can contain list of tax heads and also other expense / income heads like \"Shipping\", \"Insurance\", \"Handling\" etc.\n\n#### Note\n\nThe tax rate you define here will be the standard tax rate for all **Items**. If there are **Items** that have different rates, they must be added in the **Item Tax** table in the **Item** master.\n\n#### Description of Columns\n\n1. Calculation Type: \n    - This can be on **Net Total** (that is the sum of basic amount).\n    - **On Previous Row Total / Amount** (for cumulative taxes or charges). If you select this option, the tax will be applied as a percentage of the previous row (in the tax table) amount or total.\n    - **Actual** (as mentioned).\n2. Account Head: The Account ledger under which this tax will be booked\n3. Cost Center: If the tax / charge is an income (like shipping) or expense it needs to be booked against a Cost Center.\n4. Description: Description of the tax (that will be printed in invoices / quotes).\n5. Rate: Tax rate.\n6. Amount: Tax amount.\n7. Total: Cumulative total to this point.\n8. Enter Row: If based on \"Previous Row Total\" you can select the row number which will be taken as a base for this calculation (default is the previous row).\n9. Is this Tax included in Basic Rate?: If you check this, it means that this tax will not be shown below the item table, but will be included in the Basic Rate in your main item table. This is useful where you want give a flat price (inclusive of all taxes) price to customers.","has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Accounts","doctype":"DocType","autoname":"field:title","__kanban_boards":[],"issingle":0,"icon":"fa fa-money","__listview_template":null,"name":"Sales Taxes and Charges Template","idx":1,"hide_toolbar":0,"__workflow_docs":[],"modified":"2016-11-07 05:18:41.743257","is_submittable":0,"__calendar_js":null,"permissions":[{"creation":"2013-01-10 16:34:09","share":0,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":0,"submit":0,"write":0,"role":"Sales User","print":1,"docstatus":0,"permlevel":0,"parent":"Sales Taxes and Charges Template","read":1,"import":0,"report":1,"apply_user_permissions":1,"name":"71de4720e7","idx":1,"amend":0,"modified":"2017-06-09 23:51:38.856240","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":0},{"creation":"2013-01-10 16:34:09","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Accounts Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Sales Taxes and Charges Template","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"ec6c2ed4da","idx":2,"amend":0,"modified":"2017-06-09 23:51:38.856240","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1},{"creation":"2013-01-10 16:34:09","share":1,"doctype":"DocPerm","owner":"Administrator","export":0,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Sales Master Manager","print":1,"docstatus":0,"permlevel":0,"parent":"Sales Taxes and Charges Template","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"faa40843c4","idx":3,"amend":0,"modified":"2017-06-09 23:51:38.856240","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]},{"fields":[{"collapsible":0,"no_copy":0,"oldfieldtype":"Select","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"charge_type","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Type","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"4b7ce1b42f","idx":1,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"charge_type","fieldtype":"Select","options":"\nActual\nOn Net Total\nOn Previous Row Amount\nOn Previous Row Total","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Data","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"row_id","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Reference Row #","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:[\"On Previous Row Amount\", \"On Previous Row Total\"].indexOf(doc.charge_type)!==-1","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b31a6d6528","idx":2,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"row_id","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"account_head","owner":"Administrator","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Account Head","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Sales Taxes and Charges","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b865b9ff5e","idx":3,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"account_head","fieldtype":"Link","options":"Account","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Link","creation":"2013-04-24 11:39:32","search_fields":["parent_cost_center","is_group"],"doctype":"DocField","oldfieldname":"cost_center_other_charges","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Cost Center","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":"Setup","set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a6967a1846","idx":4,"default":":Company","in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"cost_center","fieldtype":"Link","options":"Cost Center","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"width":"50%","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1de81e8c80","idx":5,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"col_break_1","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"300px","no_copy":0,"oldfieldtype":"Small Text","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"description","owner":"Administrator","in_list_view":0,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Description","print_hide_if_no_value":0,"width":"300px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"ecd678aa7a","idx":6,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"description","fieldtype":"Text Editor","report_hide":0,"parentfield":"fields"},{"collapsible":0,"print_width":"150px","no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"description":"If checked, the tax amount will be considered as already included in the Print Rate / Print Amount","read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Is this Tax included in Basic Rate?","print_hide_if_no_value":0,"width":"150px","allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b8a26f069b","idx":7,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"included_in_print_rate","fieldtype":"Check","report_hide":1,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"7e534d9dd7","idx":8,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"section_break_8","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Currency","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"rate","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Rate","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"92f4786edd","idx":9,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"rate","fieldtype":"Float","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"60e646adee","idx":10,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"section_break_9","fieldtype":"Section Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"720397bd85","idx":11,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"tax_amount","fieldtype":"Currency","options":"currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":1,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Total","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":2,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"5548c6a51e","idx":12,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"total","fieldtype":"Currency","options":"currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Tax Amount After Discount Amount","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"dc35bda833","idx":13,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"tax_amount_after_discount_amount","fieldtype":"Currency","options":"currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"17c755dc8c","idx":14,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"column_break_13","fieldtype":"Column Break","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Currency","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"tax_amount","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Amount (Company Currency)","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"b34c585cb7","idx":15,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"base_tax_amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Currency","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"total","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Total (Company Currency)","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"21d8dd745f","idx":16,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"base_total","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Tax Amount After Discount Amount (Company Currency)","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"depends_on":"eval:parent.discount_amount","docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"1db6279064","idx":17,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"base_tax_amount_after_discount_amount","fieldtype":"Currency","options":"Company:company:default_currency","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Small Text","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"item_wise_tax_detail","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":1,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Item Wise Tax Detail","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":0,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"605c2f1042","idx":18,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"item_wise_tax_detail","fieldtype":"Code","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"oldfieldtype":"Data","creation":"2013-04-24 11:39:32","search_fields":null,"doctype":"DocField","oldfieldname":"parenttype","owner":"Administrator","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":1,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Parenttype","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":1,"in_filter":1,"permlevel":0,"columns":0,"bold":0,"parent":"Sales Taxes and Charges","search_index":1,"allow_on_submit":0,"is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"6818f05a2c","idx":19,"in_standard_filter":0,"modified":"2017-06-09 23:51:39.615669","parenttype":"DocType","fieldname":"parenttype","fieldtype":"Data","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2013-04-24 11:39:32","__list_js":null,"track_changes":0,"track_seen":0,"sort_order":"ASC","__linked_with":null,"__dashboard":null,"owner":"Administrator","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"Setup","hide_heading":1,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"__messages":null,"allow_copy":0,"allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":0,"read_only_onload":0,"module":"Accounts","doctype":"DocType","autoname":"INVTD.######","__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Sales Taxes and Charges","idx":1,"hide_toolbar":0,"__workflow_docs":null,"modified":"2016-08-26 03:08:03.235381","is_submittable":0,"__calendar_js":null,"permissions":[],"quick_entry":0,"__custom_js":null,"__print_formats":null}],"user_settings":"{}"}