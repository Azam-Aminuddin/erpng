{"docs":[{"fields":[{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:28:03.926787","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Schedule Name","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"9859bcb2a4","idx":1,"in_standard_filter":0,"modified":"2017-09-29 01:32:50.567882","parenttype":"DocType","fieldname":"schedule_name","fieldtype":"Data","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:28:03.926787","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Time Slots","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"a56e6f774b","idx":2,"in_standard_filter":0,"modified":"2017-09-29 01:32:50.567882","parenttype":"DocType","fieldname":"time_slots","fieldtype":"Table","options":"Physician Schedule Time Slot","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:28:03.926787","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":0,"reqd":0,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Disabled","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"d2c4c499f7","idx":3,"in_standard_filter":0,"modified":"2017-09-29 01:32:50.567882","parenttype":"DocType","fieldname":"disabled","fieldtype":"Check","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":1,"creation":"2017-05-03 17:28:03.926787","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"__dashboard":{},"owner":"rmehta@gmail.com","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"","hide_heading":0,"modified_by":"Administrator","allow_rename":1,"__kanban_column_fields":[],"custom":0,"max_attachments":0,"__js":"\n\n/* Adding /home/frappe/frappe-bench/apps/erpnext/erpnext/healthcare/doctype/physician_schedule/physician_schedule.js */\n\n// Copyright (c) 2017, Frappe Technologies Pvt. Ltd. and contributors\n// For license information, please see license.txt\n\nfrappe.ui.form.on('Physician Schedule', {\n\trefresh: function(frm) {\n\t\tfrm.add_custom_button(__('Add Time Slots'), () => {\n\t\t\tvar d = new frappe.ui.Dialog({\n\t\t\t\tfields: [\n\t\t\t\t\t{fieldname: 'day', label: __('Day'), fieldtype:'Select',\n\t\t\t\t\t\toptions:[\n\t\t\t\t\t\t\t{value:'Sunday', label:__('Sunday')},\n\t\t\t\t\t\t\t{value:'Monday', label:__('Monday')},\n\t\t\t\t\t\t\t{value:'Tuesday', label:__('Tuesday')},\n\t\t\t\t\t\t\t{value:'Wednesday', label:__('Wednesday')},\n\t\t\t\t\t\t\t{value:'Thursday', label:__('Thursday')},\n\t\t\t\t\t\t\t{value:'Friday', label:__('Friday')},\n\t\t\t\t\t\t\t{value:'Saturday', label:__('Saturday')},\n\t\t\t\t\t\t], reqd: 1, 'default': 'Monday'},\n\t\t\t\t\t{fieldname: 'from_time', label:__('From'), fieldtype:'Time',\n\t\t\t\t\t\t'default': '09:00:00', reqd: 1},\n\t\t\t\t\t{fieldname: 'to_time', label:__('To'), fieldtype:'Time',\n\t\t\t\t\t\t'default': '12:00:00', reqd: 1},\n\t\t\t\t\t{fieldname: 'duration', label:__('Appointment Duration (mins)'),\n\t\t\t\t\t\tfieldtype:'Int', 'default': 15, reqd: 1},\n\t\t\t\t],\n\t\t\t\tprimary_action_label: __('Add Timeslots'),\n\t\t\t\tprimary_action: () => {\n\t\t\t\t\tvar values = d.get_values();\n\t\t\t\t\tif(values) {\n\t\t\t\t\t\tlet cur_time = moment(values.from_time, 'HH:mm:ss');\n\t\t\t\t\t\tlet end_time = moment(values.to_time, 'HH:mm:ss');\n\n\n\t\t\t\t\t\twhile(cur_time < end_time) {\n\t\t\t\t\t\t\tlet to_time = cur_time.clone().add(values.duration, 'minutes');\n\t\t\t\t\t\t\tif(to_time < end_time) {\n\n\t\t\t\t\t\t\t\t// add a new timeslot\n\t\t\t\t\t\t\t\tfrm.add_child('time_slots', {\n\t\t\t\t\t\t\t\t\tfrom_time: cur_time.format('HH:mm:ss'),\n\t\t\t\t\t\t\t\t\tto_time: to_time.format('HH:mm:ss'),\n\t\t\t\t\t\t\t\t\tday: values.day\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcur_time = to_time;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfrm.refresh_field('time_slots');\n\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\tmessage:__('Time slots added'),\n\t\t\t\t\t\t\tindicator:'green'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t\td.show();\n\t\t});\n\t}\n});\n","__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":0,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":1,"beta":1,"read_only_onload":0,"module":"Healthcare","doctype":"DocType","autoname":"field:schedule_name","__kanban_boards":[],"issingle":0,"__listview_template":null,"name":"Physician Schedule","idx":0,"hide_toolbar":0,"__workflow_docs":[],"modified":"2017-08-31 13:42:26.713507","is_submittable":0,"name_case":"","__calendar_js":null,"restrict_to_domain":"Healthcare","permissions":[{"creation":"2017-05-03 17:28:03.926787","share":1,"doctype":"DocPerm","owner":"rmehta@gmail.com","export":1,"cancel":0,"set_user_permissions":0,"modified_by":"Administrator","create":1,"submit":0,"write":1,"role":"Healthcare Administrator","print":1,"docstatus":0,"permlevel":0,"parent":"Physician Schedule","read":1,"import":0,"report":1,"apply_user_permissions":0,"name":"9f2d5869dd","idx":1,"amend":0,"modified":"2017-09-29 01:32:50.567882","email":1,"parenttype":"DocType","parentfield":"permissions","if_owner":0,"delete":1}],"quick_entry":0,"__custom_js":"","__print_formats":[]},{"fields":[{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:27:07.466088","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"Day","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule Time Slot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"0bce842014","idx":1,"in_standard_filter":0,"modified":"2017-09-29 01:32:52.403959","parenttype":"DocType","fieldname":"day","fieldtype":"Select","options":"Sunday\nMonday\nTuesday\nWednesday\nThursday\nFriday\nSaturday","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:27:07.466088","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"From Time","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule Time Slot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"be19c9bca3","idx":2,"in_standard_filter":0,"modified":"2017-09-29 01:32:52.403959","parenttype":"DocType","fieldname":"from_time","fieldtype":"Time","report_hide":0,"parentfield":"fields"},{"collapsible":0,"no_copy":0,"creation":"2017-05-03 17:27:07.466088","search_fields":null,"doctype":"DocField","owner":"rmehta@gmail.com","in_list_view":1,"reqd":1,"ignore_xss_filter":0,"in_global_search":0,"read_only":0,"print_hide":0,"modified_by":"Administrator","ignore_user_permissions":0,"length":0,"label":"To Time","print_hide_if_no_value":0,"allow_bulk_edit":0,"linked_document_type":null,"set_only_once":0,"docstatus":0,"hidden":0,"in_filter":0,"permlevel":0,"columns":0,"bold":0,"parent":"Physician Schedule Time Slot","search_index":0,"allow_on_submit":0,"precision":"","is_custom_field":null,"remember_last_selected_value":0,"unique":0,"name":"e7db64fc7b","idx":3,"in_standard_filter":0,"modified":"2017-09-29 01:32:52.403959","parenttype":"DocType","fieldname":"to_time","fieldtype":"Time","report_hide":0,"parentfield":"fields"}],"image_view":0,"allow_import":0,"creation":"2017-05-03 17:27:07.466088","__list_js":null,"track_changes":1,"track_seen":0,"sort_order":"DESC","__linked_with":null,"owner":"rmehta@gmail.com","editable_grid":1,"__form_grid_templates":null,"in_create":0,"read_only":0,"__templates":null,"document_type":"","hide_heading":0,"modified_by":"Administrator","allow_rename":0,"__kanban_column_fields":null,"custom":0,"max_attachments":0,"__js":null,"__tree_js":null,"docstatus":0,"sort_field":"modified","__messages":null,"allow_copy":0,"engine":"InnoDB","allow_guest_to_view":0,"istable":1,"has_web_view":0,"__map_js":null,"__css":null,"show_name_in_global_search":0,"beta":1,"read_only_onload":0,"module":"Healthcare","doctype":"DocType","__dashboard":null,"__kanban_boards":null,"issingle":0,"__listview_template":null,"name":"Physician Schedule Time Slot","idx":0,"hide_toolbar":0,"__workflow_docs":null,"modified":"2017-07-12 14:28:01.985998","is_submittable":0,"name_case":"","__calendar_js":null,"restrict_to_domain":"Healthcare","permissions":[],"quick_entry":1,"__custom_js":null,"__print_formats":null}],"user_settings":"{}","parent_dt":"Physician Schedule"}