{"message":{"html_format":"<div style=\"margin-bottom: 7px;\">\n\t{%= frappe.boot.letter_heads[frappe.defaults.get_default(\"letter_head\")] %}\n</div>\n<h2 class=\"text-center\">{%= __(\"Bank Reconciliation Statement\") %}</h2>\n<h4 class=\"text-center\">{%= filters.account && (filters.account + \", \"+filters.report_date)  || \"\" %} {%= filters.company %}</h4>\n<hr>\n<table class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th style=\"width: 15%\">{%= __(\"Posting Date\") %}</th>\n\t\t\t<th style=\"width: 15%\">{%= __(\"Payment Entry\") %}</th>\n\t\t\t<th style=\"width: 40%\">{%= __(\"Reference\") %}</th>\n\t\t\t<th style=\"width: 15%; text-align: right;\">{%= __(\"Debit\") %}</th>\n\t\t\t<th style=\"width: 15%; text-align: right;\">{%= __(\"Credit\") %}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{% for(var i=0, l=data.length; i<l; i++) { %}\n\t\t\t{% if (data[i][\"posting_date\"]) { %}\n\t\t\t<tr>\n\t\t\t\t<td>{%= dateutil.str_to_user(data[i][\"posting_date\"]) %}</td>\n\t\t\t\t<td>{%= data[i][\"payment_entry\"] %}</td>\n\t\t\t\t<td>{%= __(\"Against\") %}: {%= data[i][\"against_account\"] %}\n\t\t\t\t\t{% if (data[i][\"reference_no\"]) { %}\n\t\t\t\t\t\t<br>{%= __(\"Reference\") %}: {%= data[i][\"reference_no\"] %}\n\t\t\t\t\t\t{% if (data[i][\"ref_date\"]) { %}\n\t\t\t\t\t\t\t<br>{%= __(\"Reference Date\") %}: {%= dateutil.str_to_user(data[i][\"ref_date\"]) %}\n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t{% } %}\n\t\t\t\t\t{% if (data[i][\"clearance_date\"]) { %}\n\t\t\t\t\t\t<br>{%= __(\"Clearance Date\") %}: {%= dateutil.str_to_user(data[i][\"clearance_date\"]) %}\n\t\t\t\t\t{% } %}\n\t\t\t\t</td>\n\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][\"debit\"]) %}</td>\n\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][\"credit\"]) %}</td>\n\t\t\t</tr>\n\t\t\t{% } else { %}\n\t\t\t<tr>\n\t\t\t\t<td></td>\n\t\t\t\t<td></td>\n\t\t\t\t<td>{%= data[i][\"payment_entry\"] %}</td>\n\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][\"debit\"]) %}</td>\n\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][\"credit\"]) %}</td>\n\t\t\t</tr>\n\t\t\t{% } %}\n\t\t{% } %}\n\t</tbody>\n</table>\n<p class=\"text-right text-muted\">Printed On {%= dateutil.str_to_user(dateutil.get_datetime_as_string()) %}</p>\n","script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\nfrappe.query_reports[\"Bank Reconciliation Statement\"] = {\n\t\"filters\": [\n\t\t{\n\t\t\t\"fieldname\":\"account\",\n\t\t\t\"label\": __(\"Bank Account\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Account\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\")? \n\t\t\t\tlocals[\":Company\"][frappe.defaults.get_user_default(\"Company\")][\"default_bank_account\"]: \"\",\n\t\t\t\"reqd\": 1,\n\t\t\t\"get_query\": function() {\n\t\t\t\treturn {\n\t\t\t\t\t\"query\": \"erpnext.controllers.queries.get_account_list\",\n\t\t\t\t\t\"filters\": [\n\t\t\t\t\t\t['Account', 'account_type', 'in', 'Bank, Cash'],\n\t\t\t\t\t\t['Account', 'is_group', '=', 0],\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"report_date\",\n\t\t\t\"label\": __(\"Date\"),\n\t\t\t\"fieldtype\": \"Date\",\n\t\t\t\"default\": frappe.datetime.get_today(),\n\t\t\t\"reqd\": 1\n\t\t},\n\t]\n}\n"}}