{"message":{"html_format":"<h2 class=\"text-center\">{%= __(report.report_name) %}</h2>\n<h4 class=\"text-center\">{%= filters.customer || filters.supplier %} </h4>\n<h5 class=\"text-center\">\n\t{%= __(filters.ageing_based_on) %}\n\t{%= __(\"Until\") %}\n\t{%= dateutil.str_to_user(filters.report_date) %}\n</h5>\n<hr>\n<table class=\"table table-bordered\">\n\t<thead>\n\t\t<tr>\n\t\t\t{% if(report.report_name === \"Accounts Receivable\" || report.report_name === \"Accounts Payable\") { %}\n\t\t\t\t<th style=\"width: 14%\">{%= __(\"Date\") %}</th>\n\t\t\t\t<th style=\"width: 16%\">{%= __(\"Ref\") %}</th>\n\t\t\t\t<th style=\"width: 30%\">{%= (filters.customer || filters.supplier) ? __(\"Remarks\"): __(\"Party\") %}</th>\n\t\t\t\t<th style=\"width: 10%\">{%= __(\"Invoiced Amount\") %}</th>\n\t\t\t\t<th style=\"width: 10%\">{%= __(\"Paid Amount\") %}</th>\n\t\t\t\t<th style=\"width: 10%\">{%= report.report_name === \"Accounts Receivable\" ? __('Credit Note') : __('Debit Note') %}</th>\n\t\t\t\t<th style=\"width: 10%\">{%= __(\"Outstanding Amount\") %}</th>\n\t\t\t{% } else { %}\n\t\t\t\t<th style=\"width: 40%\">{%= (filters.customer || filters.supplier) ? __(\"Remarks\"): __(\"Party\") %}</th>\n\t\t\t\t<th style=\"width: 15%\">{%= __(\"Total Invoiced Amount\") %}</th>\n\t\t\t\t<th style=\"width: 15%\">{%= __(\"Total Paid Amount\") %}</th>\n\t\t\t\t<th style=\"width: 15%\">{%= report.report_name === \"Accounts Receivable Summary\" ? __('Credit Note Amount') : __('Debit Note Amount') %}</th>\n\t\t\t\t<th style=\"width: 15%\">{%= __(\"Total Outstanding Amount\") %}</th>\n\t\t\t{% } %}\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{% for(var i=0, l=data.length; i<l; i++) { %}\n\t\t\t<tr>\n\t\t\t{% if(report.report_name === \"Accounts Receivable\" || report.report_name === \"Accounts Payable\") { %}\n\t\t\t\t{% if(data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]) { %}\n\t\t\t\t\t<td>{%= dateutil.str_to_user(data[i][__(\"Posting Date\")]) %}</td>\n\t\t\t\t\t<td>{%= data[i][__(\"Voucher Type\")] %}\n\t\t\t\t\t\t<br>{%= data[i][__(\"Voucher No\")] %}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{% if(!(filters.customer || filters.supplier)) { %}\n\t\t\t\t\t\t\t{%= data[i][__(\"Customer Name\")] || data[i][__(\"Customer\")] || data[i][__(\"Supplier Name\")] || data[i][__(\"Supplier\")] %}<br>{%= __(\"Remarks\") %}: \n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t{%= data[i][__(\"Remarks\")] %}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Invoiced Amount\"], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Paid Amount\"], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= report.report_name === \"Accounts Receivable\" ? format_currency(data[i][\"Credit Note\"], data[i][\"currency\"]) : format_currency(data[i][\"Debit Note\"], data[i][\"currency\"])  %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Outstanding Amount\"], data[i][\"currency\"]) %}</td>\n\t\t\t\t{% } else { %}\n\t\t\t\t\t<td></td>\n\t\t\t\t\t<td></td>\n\t\t\t\t\t<td><b>{%= __(\"Total\") %}</b></td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Invoiced Amount\"], data[i][\"currency\"] ) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Paid Amount\"], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">{%= report.report_name === \"Accounts Receivable\" ? format_currency(data[i][\"Credit Note\"], data[i][\"currency\"])  : format_currency(data[i][\"Debit Note\"], data[i][\"currency\"])  %} </td>\n\t\t\t\t\t<td style=\"text-align: right\">\n\t\t\t\t\t\t{%= format_currency(data[i][\"Outstanding Amount\"], data[i][\"currency\"]) %}</td>\n\t\t\t\t{% } %}\n\t\t\t{% } else { %}\n\t\t\t\t{% if(data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]|| \"&nbsp;\") { %}\n\t\t\t\t\t{% if((data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]) != __(\"'Total'\")) { %}\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{% if(!(filters.customer || filters.supplier)) { %}\n\t\t\t\t\t\t\t\t{%= data[i][__(\"Customer\")] || data[i][__(\"Supplier\")] %}\n\t\t\t\t\t\t\t\t<br>{%= __(\"Remarks\") %}: \n\t\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t\t{%= data[i][__(\"Remarks\")] %}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{% } else { %}\n\t\t\t\t\t\t<td><b>{%= __(\"Total\") %}</b></td>\n\t\t\t\t\t{% } %}\n\t\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][__(\"Total Invoiced Amt\")], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][__(\"Total Paid Amt\")], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">{%= report.report_name === \"Accounts Receivable Summary\" ? format_currency(data[i][__(\"Credit Note Amt\")], data[i][\"currency\"]) : format_currency(data[i][__(\"Debit Note Amt\")], data[i][\"currency\"]) %}</td>\n\t\t\t\t\t<td style=\"text-align: right\">{%= format_currency(data[i][__(\"Total Outstanding Amt\")], data[i][\"currency\"]) %}</td>\n\t\t\t\t{% } %}\n\t\t\t{% } %}\n\t\t\t</tr>\n\t\t{% } %}\n\t</tbody>\n</table>\n<p class=\"text-right text-muted\">{{ __(\"Printed On\") }}{%= dateutil.str_to_user(dateutil.get_datetime_as_string()) %}</p>\n","script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\nfrappe.query_reports[\"Accounts Receivable Summary\"] = {\n\t\"filters\": [\n\t\t{\n\t\t\t\"fieldname\":\"company\",\n\t\t\t\"label\": __(\"Company\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Company\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\")\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"customer\",\n\t\t\t\"label\": __(\"Customer\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Customer\"\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"customer_group\",\n\t\t\t\"label\": __(\"Customer Group\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Customer Group\"\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"credit_days_based_on\",\n\t\t\t\"label\": __(\"Credit Days Based On\"),\n\t\t\t\"fieldtype\": \"Select\",\n\t\t\t\"options\": \"\\nFixed Days\\nLast Day of the Next Month\"\n\t\t},\n\t\t{\n\t\t\t\"fieldtype\": \"Break\",\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"report_date\",\n\t\t\t\"label\": __(\"Date\"),\n\t\t\t\"fieldtype\": \"Date\",\n\t\t\t\"default\": frappe.datetime.get_today()\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"ageing_based_on\",\n\t\t\t\"label\": __(\"Ageing Based On\"),\n\t\t\t\"fieldtype\": \"Select\",\n\t\t\t\"options\": 'Posting Date\\nDue Date',\n\t\t\t\"default\": \"Posting Date\"\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"range1\",\n\t\t\t\"label\": __(\"Ageing Range 1\"),\n\t\t\t\"fieldtype\": \"Int\",\n\t\t\t\"default\": \"30\",\n\t\t\t\"reqd\": 1\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"range2\",\n\t\t\t\"label\": __(\"Ageing Range 2\"),\n\t\t\t\"fieldtype\": \"Int\",\n\t\t\t\"default\": \"60\",\n\t\t\t\"reqd\": 1\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"range3\",\n\t\t\t\"label\": __(\"Ageing Range 3\"),\n\t\t\t\"fieldtype\": \"Int\",\n\t\t\t\"default\": \"90\",\n\t\t\t\"reqd\": 1\n\t\t}\n\t],\n\n\tonload: function(report) {\n\t\treport.page.add_inner_button(__(\"Accounts Receivable\"), function() {\n\t\t\tvar filters = report.get_values();\n\t\t\tfrappe.set_route('query-report', 'Accounts Receivable', { company: filters.company });\n\t\t});\n\t}\n}\n"}}