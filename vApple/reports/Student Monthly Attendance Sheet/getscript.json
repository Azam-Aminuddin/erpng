{"message":{"html_format":null,"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\n\nfrappe.query_reports[\"Student Monthly Attendance Sheet\"] = {\n\t\"filters\": [{\n\t\t\"fieldname\": \"month\",\n\t\t\"label\": __(\"Month\"),\n\t\t\"fieldtype\": \"Select\",\n\t\t\"options\": \"Jan\\nFeb\\nMar\\nApr\\nMay\\nJun\\nJul\\nAug\\nSep\\nOct\\nNov\\nDec\",\n\t\t\"default\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\",\n\t\t\t\"Dec\"\n\t\t][frappe.datetime.str_to_obj(frappe.datetime.get_today()).getMonth()],\n\t},\n\t{\n\t\t\"fieldname\": \"year\",\n\t\t\"label\": __(\"Year\"),\n\t\t\"fieldtype\": \"Select\",\n\t\t\"reqd\": 1\n\t},\n\t{\n\t\t\"fieldname\": \"student_group\",\n\t\t\"label\": __(\"Student Group\"),\n\t\t\"fieldtype\": \"Link\",\n\t\t\"options\": \"Student Group\",\n\t\t\"reqd\": 1\n\t}\n\t],\n\n\t\"onload\": function() {\n\t\treturn frappe.call({\n\t\t\tmethod: \"erpnext.schools.report.student_monthly_attendance_sheet.student_monthly_attendance_sheet.get_attendance_years\",\n\t\t\tcallback: function(r) {\n\t\t\t\tvar year_filter = frappe.query_report_filters_by_name.year;\n\t\t\t\tyear_filter.df.options = r.message;\n\t\t\t\tyear_filter.df.default = r.message.split(\"\\n\")[0];\n\t\t\t\tyear_filter.refresh();\n\t\t\t\tyear_filter.set_input(year_filter.df.default);\n\t\t\t}\n\t\t});\n\t}\n}"}}