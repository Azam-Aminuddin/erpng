{"message":{"html_format":null,"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\nfrappe.query_reports[\"Payment Period Based On Invoice Date\"] = {\n\t\"filters\": [\n\t\t{\n\t\t\tfieldname:\"company\",\n\t\t\tlabel: __(\"Company\"),\n\t\t\tfieldtype: \"Link\",\n\t\t\toptions: \"Company\",\n\t\t\treqd: 1,\n\t\t\tdefault: frappe.defaults.get_user_default(\"Company\")\n\t\t},\n\t\t{\n\t\t\tfieldname: \"from_date\",\n\t\t\tlabel: __(\"From Date\"),\n\t\t\tfieldtype: \"Date\",\n\t\t\tdefault: frappe.defaults.get_user_default(\"year_start_date\"),\n\t\t},\n\t\t{\n\t\t\tfieldname:\"to_date\",\n\t\t\tlabel: __(\"To Date\"),\n\t\t\tfieldtype: \"Date\",\n\t\t\tdefault: frappe.datetime.get_today()\n\t\t},\n\t\t{\n\t\t\tfieldname:\"payment_type\",\n\t\t\tlabel: __(\"Payment Type\"),\n\t\t\tfieldtype: \"Select\",\n\t\t\toptions: \"Incoming\\nOutgoing\",\n\t\t\tdefault: \"Incoming\"\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"party_type\",\n\t\t\t\"label\": __(\"Party Type\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"DocType\",\n\t\t\t\"get_query\": function() {\n\t\t\t\treturn {\n\t\t\t\t\tfilters: {\"name\": [\"in\", [\"Customer\", \"Supplier\"]]}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"party\",\n\t\t\t\"label\": __(\"Party\"),\n\t\t\t\"fieldtype\": \"Dynamic Link\",\n\t\t\t\"get_options\": function() {\n\t\t\t\tvar party_type = frappe.query_report_filters_by_name.party_type.get_value();\n\t\t\t\tvar party = frappe.query_report_filters_by_name.party.get_value();\n\t\t\t\tif(party && !party_type) {\n\t\t\t\t\tfrappe.throw(__(\"Please select Party Type first\"));\n\t\t\t\t}\n\t\t\t\treturn party_type;\n\t\t\t}\n\t\t},\n\t]\n}\n"}}