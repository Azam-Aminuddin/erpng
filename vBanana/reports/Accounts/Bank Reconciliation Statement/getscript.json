{"message":{"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nfrappe.query_reports[\"Bank Reconciliation Statement\"] \u003d {\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"fieldname\":\"account\",\r\n\t\t\t\"label\": __(\"Bank Account\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Account\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\")? \r\n\t\t\t\tlocals[\":Company\"][frappe.defaults.get_user_default(\"Company\")][\"default_bank_account\"]: \"\",\r\n\t\t\t\"reqd\": 1,\r\n\t\t\t\"get_query\": function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\"query\": \"erpnext.controllers.queries.get_account_list\",\r\n\t\t\t\t\t\"filters\": [\r\n\t\t\t\t\t\t[\u0027Account\u0027, \u0027account_type\u0027, \u0027in\u0027, \u0027Bank, Cash\u0027],\r\n\t\t\t\t\t\t[\u0027Account\u0027, \u0027is_group\u0027, \u0027\u003d\u0027, 0],\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"report_date\",\r\n\t\t\t\"label\": __(\"Date\"),\r\n\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\"default\": frappe.datetime.get_today(),\r\n\t\t\t\"reqd\": 1\r\n\t\t},\r\n\t]\r\n}\r\n","html_format":"\u003cdiv style\u003d\"margin-bottom: 7px;\"\u003e\r\n\t{%\u003d frappe.boot.letter_heads[frappe.defaults.get_default(\"letter_head\")] %}\r\n\u003c/div\u003e\r\n\u003ch2 class\u003d\"text-center\"\u003e{%\u003d __(\"Bank Reconciliation Statement\") %}\u003c/h2\u003e\r\n\u003ch4 class\u003d\"text-center\"\u003e{%\u003d filters.account \u0026\u0026 (filters.account + \", \"+filters.report_date)  || \"\" %} {%\u003d filters.company %}\u003c/h4\u003e\r\n\u003chr\u003e\r\n\u003ctable class\u003d\"table table-bordered\"\u003e\r\n\t\u003cthead\u003e\r\n\t\t\u003ctr\u003e\r\n\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d __(\"Posting Date\") %}\u003c/th\u003e\r\n\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d __(\"Payment Entry\") %}\u003c/th\u003e\r\n\t\t\t\u003cth style\u003d\"width: 40%\"\u003e{%\u003d __(\"Reference\") %}\u003c/th\u003e\r\n\t\t\t\u003cth style\u003d\"width: 15%; text-align: right;\"\u003e{%\u003d __(\"Debit\") %}\u003c/th\u003e\r\n\t\t\t\u003cth style\u003d\"width: 15%; text-align: right;\"\u003e{%\u003d __(\"Credit\") %}\u003c/th\u003e\r\n\t\t\u003c/tr\u003e\r\n\t\u003c/thead\u003e\r\n\t\u003ctbody\u003e\r\n\t\t{% for(var i\u003d0, l\u003ddata.length; i\u003cl; i++) { %}\r\n\t\t\t{% if (data[i][\"posting_date\"]) { %}\r\n\t\t\t\u003ctr\u003e\r\n\t\t\t\t\u003ctd\u003e{%\u003d dateutil.str_to_user(data[i][\"posting_date\"]) %}\u003c/td\u003e\r\n\t\t\t\t\u003ctd\u003e{%\u003d data[i][\"payment_entry\"] %}\u003c/td\u003e\r\n\t\t\t\t\u003ctd\u003e{%\u003d __(\"Against\") %}: {%\u003d data[i][\"against_account\"] %}\r\n\t\t\t\t\t{% if (data[i][\"reference_no\"]) { %}\r\n\t\t\t\t\t\t\u003cbr\u003e{%\u003d __(\"Reference\") %}: {%\u003d data[i][\"reference_no\"] %}\r\n\t\t\t\t\t\t{% if (data[i][\"ref_date\"]) { %}\r\n\t\t\t\t\t\t\t\u003cbr\u003e{%\u003d __(\"Reference Date\") %}: {%\u003d dateutil.str_to_user(data[i][\"ref_date\"]) %}\r\n\t\t\t\t\t\t{% } %}\r\n\t\t\t\t\t{% } %}\r\n\t\t\t\t\t{% if (data[i][\"clearance_date\"]) { %}\r\n\t\t\t\t\t\t\u003cbr\u003e{%\u003d __(\"Clearance Date\") %}: {%\u003d dateutil.str_to_user(data[i][\"clearance_date\"]) %}\r\n\t\t\t\t\t{% } %}\r\n\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][\"debit\"]) %}\u003c/td\u003e\r\n\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][\"credit\"]) %}\u003c/td\u003e\r\n\t\t\t\u003c/tr\u003e\r\n\t\t\t{% } else { %}\r\n\t\t\t\u003ctr\u003e\r\n\t\t\t\t\u003ctd\u003e\u003c/td\u003e\r\n\t\t\t\t\u003ctd\u003e\u003c/td\u003e\r\n\t\t\t\t\u003ctd\u003e{%\u003d data[i][\"payment_entry\"] %}\u003c/td\u003e\r\n\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][\"debit\"]) %}\u003c/td\u003e\r\n\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][\"credit\"]) %}\u003c/td\u003e\r\n\t\t\t\u003c/tr\u003e\r\n\t\t\t{% } %}\r\n\t\t{% } %}\r\n\t\u003c/tbody\u003e\r\n\u003c/table\u003e\r\n\u003cp class\u003d\"text-right text-muted\"\u003ePrinted On {%\u003d dateutil.str_to_user(dateutil.get_datetime_as_string()) %}\u003c/p\u003e\r\n"}}