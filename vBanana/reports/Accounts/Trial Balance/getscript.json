{"message":{"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nfrappe.require(\"assets/erpnext/js/financial_statements.js\", function() {\r\n\tfrappe.query_reports[\"Trial Balance\"] \u003d {\r\n\t\t\"filters\": [\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"company\",\r\n\t\t\t\t\"label\": __(\"Company\"),\r\n\t\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\t\"options\": \"Company\",\r\n\t\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\"),\r\n\t\t\t\t\"reqd\": 1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"fiscal_year\",\r\n\t\t\t\t\"label\": __(\"Fiscal Year\"),\r\n\t\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\t\"options\": \"Fiscal Year\",\r\n\t\t\t\t\"default\": frappe.defaults.get_user_default(\"fiscal_year\"),\r\n\t\t\t\t\"reqd\": 1,\r\n\t\t\t\t\"on_change\": function(query_report) {\r\n\t\t\t\t\tvar fiscal_year \u003d query_report.get_values().fiscal_year;\r\n\t\t\t\t\tif (!fiscal_year) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfrappe.model.with_doc(\"Fiscal Year\", fiscal_year, function(r) {\r\n\t\t\t\t\t\tvar fy \u003d frappe.model.get_doc(\"Fiscal Year\", fiscal_year);\r\n\t\t\t\t\t\tfrappe.query_report_filters_by_name.from_date.set_input(fy.year_start_date);\r\n\t\t\t\t\t\tfrappe.query_report_filters_by_name.to_date.set_input(fy.year_end_date);\r\n\t\t\t\t\t\tquery_report.trigger_refresh();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"from_date\",\r\n\t\t\t\t\"label\": __(\"From Date\"),\r\n\t\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\t\"default\": frappe.defaults.get_user_default(\"year_start_date\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"to_date\",\r\n\t\t\t\t\"label\": __(\"To Date\"),\r\n\t\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\t\"default\": frappe.defaults.get_user_default(\"year_end_date\"),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"with_period_closing_entry\",\r\n\t\t\t\t\"label\": __(\"Period Closing Entry\"),\r\n\t\t\t\t\"fieldtype\": \"Check\",\r\n\t\t\t\t\"default\": 1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"show_zero_values\",\r\n\t\t\t\t\"label\": __(\"Show zero values\"),\r\n\t\t\t\t\"fieldtype\": \"Check\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldname\": \"show_unclosed_fy_pl_balances\",\r\n\t\t\t\t\"label\": __(\"Show unclosed fiscal year\u0027s P\u0026L balances\"),\r\n\t\t\t\t\"fieldtype\": \"Check\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"formatter\": erpnext.financial_statements.formatter,\r\n\t\t\"tree\": true,\r\n\t\t\"name_field\": \"account\",\r\n\t\t\"parent_field\": \"parent_account\",\r\n\t\t\"initial_depth\": 3\r\n\t}\r\n});\r\n\r\n","html_format":"{% include \"accounts/report/financial_statements.html\" %}\r\n"}}