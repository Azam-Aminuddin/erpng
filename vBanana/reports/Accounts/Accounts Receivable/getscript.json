{"message":{"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nfrappe.query_reports[\"Accounts Receivable\"] \u003d {\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"fieldname\":\"company\",\r\n\t\t\t\"label\": __(\"Company\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Company\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\")\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"customer\",\r\n\t\t\t\"label\": __(\"Customer\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Customer\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"customer_group\",\r\n\t\t\t\"label\": __(\"Customer Group\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Customer Group\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"credit_days_based_on\",\r\n\t\t\t\"label\": __(\"Credit Days Based On\"),\r\n\t\t\t\"fieldtype\": \"Select\",\r\n\t\t\t\"options\": \"\\nFixed Days\\nLast Day of the Next Month\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldtype\": \"Break\",\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"report_date\",\r\n\t\t\t\"label\": __(\"As on Date\"),\r\n\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\"default\": frappe.datetime.get_today()\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"ageing_based_on\",\r\n\t\t\t\"label\": __(\"Ageing Based On\"),\r\n\t\t\t\"fieldtype\": \"Select\",\r\n\t\t\t\"options\": \u0027Posting Date\\nDue Date\u0027,\r\n\t\t\t\"default\": \"Posting Date\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"range1\",\r\n\t\t\t\"label\": __(\"Ageing Range 1\"),\r\n\t\t\t\"fieldtype\": \"Int\",\r\n\t\t\t\"default\": \"30\",\r\n\t\t\t\"reqd\": 1\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"range2\",\r\n\t\t\t\"label\": __(\"Ageing Range 2\"),\r\n\t\t\t\"fieldtype\": \"Int\",\r\n\t\t\t\"default\": \"60\",\r\n\t\t\t\"reqd\": 1\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"range3\",\r\n\t\t\t\"label\": __(\"Ageing Range 3\"),\r\n\t\t\t\"fieldtype\": \"Int\",\r\n\t\t\t\"default\": \"90\",\r\n\t\t\t\"reqd\": 1\r\n\t\t}\r\n\t],\r\n\r\n\tonload: function(report) {\r\n\t\treport.page.add_inner_button(__(\"Accounts Receivable Summary\"), function() {\r\n\t\t\tvar filters \u003d report.get_values();\r\n\t\t\tfrappe.set_route(\u0027query-report\u0027, \u0027Accounts Receivable Summary\u0027, {company: filters.company});\r\n\t\t});\r\n\t}\r\n}\r\n","html_format":"\u003ch2 class\u003d\"text-center\"\u003e{%\u003d __(report.report_name) %}\u003c/h2\u003e\r\n\u003ch4 class\u003d\"text-center\"\u003e{%\u003d filters.customer || filters.supplier %} \u003c/h4\u003e\r\n\u003ch5 class\u003d\"text-center\"\u003e\r\n\t{%\u003d __(filters.ageing_based_on) %}\r\n\t{%\u003d __(\"Until\") %}\r\n\t{%\u003d dateutil.str_to_user(filters.report_date) %}\r\n\u003c/h5\u003e\r\n\u003chr\u003e\r\n\u003ctable class\u003d\"table table-bordered\"\u003e\r\n\t\u003cthead\u003e\r\n\t\t\u003ctr\u003e\r\n\t\t\t{% if(report.report_name \u003d\u003d\u003d \"Accounts Receivable\" || report.report_name \u003d\u003d\u003d \"Accounts Payable\") { %}\r\n\t\t\t\t\u003cth style\u003d\"width: 14%\"\u003e{%\u003d __(\"Date\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 16%\"\u003e{%\u003d __(\"Ref\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 30%\"\u003e{%\u003d (filters.customer || filters.supplier) ? __(\"Remarks\"): __(\"Party\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 10%\"\u003e{%\u003d __(\"Invoiced Amount\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 10%\"\u003e{%\u003d __(\"Paid Amount\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 10%\"\u003e{%\u003d report.report_name \u003d\u003d\u003d \"Accounts Receivable\" ? __(\u0027Credit Note\u0027) : __(\u0027Debit Note\u0027) %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 10%\"\u003e{%\u003d __(\"Outstanding Amount\") %}\u003c/th\u003e\r\n\t\t\t{% } else { %}\r\n\t\t\t\t\u003cth style\u003d\"width: 40%\"\u003e{%\u003d (filters.customer || filters.supplier) ? __(\"Remarks\"): __(\"Party\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d __(\"Total Invoiced Amount\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d __(\"Total Paid Amount\") %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d report.report_name \u003d\u003d\u003d \"Accounts Receivable Summary\" ? __(\u0027Credit Note Amount\u0027) : __(\u0027Debit Note Amount\u0027) %}\u003c/th\u003e\r\n\t\t\t\t\u003cth style\u003d\"width: 15%\"\u003e{%\u003d __(\"Total Outstanding Amount\") %}\u003c/th\u003e\r\n\t\t\t{% } %}\r\n\t\t\u003c/tr\u003e\r\n\t\u003c/thead\u003e\r\n\t\u003ctbody\u003e\r\n\t\t{% for(var i\u003d0, l\u003ddata.length; i\u003cl; i++) { %}\r\n\t\t\t\u003ctr\u003e\r\n\t\t\t{% if(report.report_name \u003d\u003d\u003d \"Accounts Receivable\" || report.report_name \u003d\u003d\u003d \"Accounts Payable\") { %}\r\n\t\t\t\t{% if(data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]) { %}\r\n\t\t\t\t\t\u003ctd\u003e{%\u003d dateutil.str_to_user(data[i][__(\"Posting Date\")]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd\u003e{%\u003d data[i][__(\"Voucher Type\")] %}\r\n\t\t\t\t\t\t\u003cbr\u003e{%\u003d data[i][__(\"Voucher No\")] %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd\u003e\r\n\t\t\t\t\t\t{% if(!(filters.customer || filters.supplier)) { %}\r\n\t\t\t\t\t\t\t{%\u003d data[i][__(\"Customer Name\")] || data[i][__(\"Customer\")] || data[i][__(\"Supplier Name\")] || data[i][__(\"Supplier\")] %}\u003cbr\u003e{%\u003d __(\"Remarks\") %}: \r\n\t\t\t\t\t\t{% } %}\r\n\t\t\t\t\t\t{%\u003d data[i][__(\"Remarks\")] %}\r\n\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Invoiced Amount\"], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Paid Amount\"], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d report.report_name \u003d\u003d\u003d \"Accounts Receivable\" ? format_currency(data[i][\"Credit Note\"], data[i][\"currency\"]) : format_currency(data[i][\"Debit Note\"], data[i][\"currency\"])  %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Outstanding Amount\"], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t{% } else { %}\r\n\t\t\t\t\t\u003ctd\u003e\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd\u003e\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd\u003e\u003cb\u003e{%\u003d __(\"Total\") %}\u003c/b\u003e\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Invoiced Amount\"], data[i][\"currency\"] ) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Paid Amount\"], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d report.report_name \u003d\u003d\u003d \"Accounts Receivable\" ? format_currency(data[i][\"Credit Note\"], data[i][\"currency\"])  : format_currency(data[i][\"Debit Note\"], data[i][\"currency\"])  %} \u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e\r\n\t\t\t\t\t\t{%\u003d format_currency(data[i][\"Outstanding Amount\"], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t{% } %}\r\n\t\t\t{% } else { %}\r\n\t\t\t\t{% if(data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]|| \"\u0026nbsp;\") { %}\r\n\t\t\t\t\t{% if((data[i][__(\"Customer\")] || data[i][__(\"Supplier\")]) !\u003d __(\"\u0027Total\u0027\")) { %}\r\n\t\t\t\t\t\t\u003ctd\u003e\r\n\t\t\t\t\t\t\t{% if(!(filters.customer || filters.supplier)) { %}\r\n\t\t\t\t\t\t\t\t{%\u003d data[i][__(\"Customer\")] || data[i][__(\"Supplier\")] %}\r\n\t\t\t\t\t\t\t\t\u003cbr\u003e{%\u003d __(\"Remarks\") %}: \r\n\t\t\t\t\t\t\t{% } %}\r\n\t\t\t\t\t\t\t{%\u003d data[i][__(\"Remarks\")] %}\r\n\t\t\t\t\t\t\u003c/td\u003e\r\n\t\t\t\t\t{% } else { %}\r\n\t\t\t\t\t\t\u003ctd\u003e\u003cb\u003e{%\u003d __(\"Total\") %}\u003c/b\u003e\u003c/td\u003e\r\n\t\t\t\t\t{% } %}\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][__(\"Total Invoiced Amt\")], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][__(\"Total Paid Amt\")], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d report.report_name \u003d\u003d\u003d \"Accounts Receivable Summary\" ? format_currency(data[i][__(\"Credit Note Amt\")], data[i][\"currency\"]) : format_currency(data[i][__(\"Debit Note Amt\")], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t\t\u003ctd style\u003d\"text-align: right\"\u003e{%\u003d format_currency(data[i][__(\"Total Outstanding Amt\")], data[i][\"currency\"]) %}\u003c/td\u003e\r\n\t\t\t\t{% } %}\r\n\t\t\t{% } %}\r\n\t\t\t\u003c/tr\u003e\r\n\t\t{% } %}\r\n\t\u003c/tbody\u003e\r\n\u003c/table\u003e\r\n\u003cp class\u003d\"text-right text-muted\"\u003e{{ __(\"Printed On\") }}{%\u003d dateutil.str_to_user(dateutil.get_datetime_as_string()) %}\u003c/p\u003e"}}