{"message":{"script":"// Copyright (c) 2013, Frappe Technologies Pvt. Ltd. and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.query_reports[\"Trial Balance for Party\"] \u003d {\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"fieldname\": \"company\",\r\n\t\t\t\"label\": __(\"Company\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Company\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\"),\r\n\t\t\t\"reqd\": 1\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\": \"fiscal_year\",\r\n\t\t\t\"label\": __(\"Fiscal Year\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"Fiscal Year\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"fiscal_year\"),\r\n\t\t\t\"reqd\": 1,\r\n\t\t\t\"on_change\": function(query_report) {\r\n\t\t\t\tvar fiscal_year \u003d query_report.get_values().fiscal_year;\r\n\t\t\t\tif (!fiscal_year) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tfrappe.model.with_doc(\"Fiscal Year\", fiscal_year, function(r) {\r\n\t\t\t\t\tvar fy \u003d frappe.model.get_doc(\"Fiscal Year\", fiscal_year);\r\n\t\t\t\t\tfrappe.query_report_filters_by_name.from_date.set_input(fy.year_start_date);\r\n\t\t\t\t\tfrappe.query_report_filters_by_name.to_date.set_input(fy.year_end_date);\r\n\t\t\t\t\tquery_report.trigger_refresh();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\": \"from_date\",\r\n\t\t\t\"label\": __(\"From Date\"),\r\n\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"year_start_date\"),\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\": \"to_date\",\r\n\t\t\t\"label\": __(\"To Date\"),\r\n\t\t\t\"fieldtype\": \"Date\",\r\n\t\t\t\"default\": frappe.defaults.get_user_default(\"year_end_date\"),\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"party_type\",\r\n\t\t\t\"label\": __(\"Party Type\"),\r\n\t\t\t\"fieldtype\": \"Select\",\r\n\t\t\t\"options\": [\"Customer\", \"Supplier\"],\r\n\t\t\t\"default\": \"Customer\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"party\",\r\n\t\t\t\"label\": __(\"Party\"),\r\n\t\t\t\"fieldtype\": \"Dynamic Link\",\r\n\t\t\t\"get_options\": function() {\r\n\t\t\t\tvar party_type \u003d frappe.query_report_filters_by_name.party_type.get_value();\r\n\t\t\t\tvar party \u003d frappe.query_report_filters_by_name.party.get_value();\r\n\t\t\t\tif(party \u0026\u0026 !party_type) {\r\n\t\t\t\t\tfrappe.throw(__(\"Please select Party Type first\"));\r\n\t\t\t\t}\r\n\t\t\t\treturn party_type;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\": \"show_zero_values\",\r\n\t\t\t\"label\": __(\"Show zero values\"),\r\n\t\t\t\"fieldtype\": \"Check\"\r\n\t\t}\r\n\t]\r\n}\r\n","html_format":null}}