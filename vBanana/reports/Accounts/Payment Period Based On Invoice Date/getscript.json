{"message":{"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nfrappe.query_reports[\"Payment Period Based On Invoice Date\"] \u003d {\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\tfieldname:\"company\",\r\n\t\t\tlabel: __(\"Company\"),\r\n\t\t\tfieldtype: \"Link\",\r\n\t\t\toptions: \"Company\",\r\n\t\t\treqd: 1,\r\n\t\t\tdefault: frappe.defaults.get_user_default(\"Company\")\r\n\t\t},\r\n\t\t{\r\n\t\t\tfieldname: \"from_date\",\r\n\t\t\tlabel: __(\"From Date\"),\r\n\t\t\tfieldtype: \"Date\",\r\n\t\t\tdefault: frappe.defaults.get_user_default(\"year_start_date\"),\r\n\t\t},\r\n\t\t{\r\n\t\t\tfieldname:\"to_date\",\r\n\t\t\tlabel: __(\"To Date\"),\r\n\t\t\tfieldtype: \"Date\",\r\n\t\t\tdefault: frappe.datetime.get_today()\r\n\t\t},\r\n\t\t{\r\n\t\t\tfieldname:\"payment_type\",\r\n\t\t\tlabel: __(\"Payment Type\"),\r\n\t\t\tfieldtype: \"Select\",\r\n\t\t\toptions: \"Incoming\\nOutgoing\",\r\n\t\t\tdefault: \"Incoming\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"party_type\",\r\n\t\t\t\"label\": __(\"Party Type\"),\r\n\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\"options\": \"DocType\",\r\n\t\t\t\"get_query\": function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tfilters: {\"name\": [\"in\", [\"Customer\", \"Supplier\"]]}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"fieldname\":\"party\",\r\n\t\t\t\"label\": __(\"Party\"),\r\n\t\t\t\"fieldtype\": \"Dynamic Link\",\r\n\t\t\t\"get_options\": function() {\r\n\t\t\t\tvar party_type \u003d frappe.query_report_filters_by_name.party_type.get_value();\r\n\t\t\t\tvar party \u003d frappe.query_report_filters_by_name.party.get_value();\r\n\t\t\t\tif(party \u0026\u0026 !party_type) {\r\n\t\t\t\t\tfrappe.throw(__(\"Please select Party Type first\"));\r\n\t\t\t\t}\r\n\t\t\t\treturn party_type;\r\n\t\t\t}\r\n\t\t},\r\n\t]\r\n}\r\n","html_format":null}}