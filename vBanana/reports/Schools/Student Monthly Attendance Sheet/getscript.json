{"message":{"script":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\n\r\nfrappe.query_reports[\"Student Monthly Attendance Sheet\"] \u003d {\r\n\t\"filters\": [{\r\n\t\t\"fieldname\": \"month\",\r\n\t\t\"label\": __(\"Month\"),\r\n\t\t\"fieldtype\": \"Select\",\r\n\t\t\"options\": \"Jan\\nFeb\\nMar\\nApr\\nMay\\nJun\\nJul\\nAug\\nSep\\nOct\\nNov\\nDec\",\r\n\t\t\"default\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\",\r\n\t\t\t\"Dec\"\r\n\t\t][frappe.datetime.str_to_obj(frappe.datetime.get_today()).getMonth()],\r\n\t},\r\n\t{\r\n\t\t\"fieldname\": \"year\",\r\n\t\t\"label\": __(\"Year\"),\r\n\t\t\"fieldtype\": \"Select\",\r\n\t\t\"reqd\": 1\r\n\t},\r\n\t{\r\n\t\t\"fieldname\": \"student_group\",\r\n\t\t\"label\": __(\"Student Group\"),\r\n\t\t\"fieldtype\": \"Link\",\r\n\t\t\"options\": \"Student Group\",\r\n\t\t\"reqd\": 1\r\n\t}\r\n\t],\r\n\r\n\t\"onload\": function() {\r\n\t\treturn frappe.call({\r\n\t\t\tmethod: \"erpnext.schools.report.student_monthly_attendance_sheet.student_monthly_attendance_sheet.get_attendance_years\",\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tvar year_filter \u003d frappe.query_report_filters_by_name.year;\r\n\t\t\t\tyear_filter.df.options \u003d r.message;\r\n\t\t\t\tyear_filter.df.default \u003d r.message.split(\"\\n\")[0];\r\n\t\t\t\tyear_filter.refresh();\r\n\t\t\t\tyear_filter.set_input(year_filter.df.default);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","html_format":null}}