{"docs":[{"allow_copy":0.0,"allow_guest_to_view":0.0,"allow_import":0.0,"allow_rename":0.0,"beta":0.0,"creation":"2017-06-26 10:57:19.976624","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"","editable_grid":1.0,"engine":"InnoDB","fields":[{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"module_path","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Module Path","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"4e6coc8520","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Test Runner","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"app","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"App","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"j07641r6o","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Test Runner","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"output","fieldtype":"HTML","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Output","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"3gffhbo54o","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"fields","parent":"Test Runner","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"has_web_view":0.0,"hide_heading":0.0,"hide_toolbar":0.0,"idx":0.0,"image_view":0.0,"in_create":0.0,"is_submittable":0.0,"issingle":1.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-07-19 03:22:33.221169","modified_by":"Administrator","module":"Core","name":"Test Runner","name_case":"","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":0.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":0.0,"role":"Administrator","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"65o0tgd0fa","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Test Runner","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"quick_entry":1.0,"read_only":0.0,"read_only_onload":0.0,"show_name_in_global_search":0.0,"sort_field":"modified","sort_order":"DESC","track_changes":1.0,"track_seen":0.0,"__js":"// Copyright (c) 2017, Frappe Technologies and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.ui.form.on(\u0027Test Runner\u0027, {\r\n\trefresh: (frm) \u003d\u003e {\r\n\t\tfrm.disable_save();\r\n\t\tfrm.page.set_primary_action(__(\"Run Tests\"), () \u003d\u003e {\r\n\t\t\treturn new Promise(resolve \u003d\u003e {\r\n\t\t\t\tlet wrapper \u003d $(frm.fields_dict.output.wrapper).empty();\r\n\t\t\t\t$(\"\u003cp\u003eLoading...\u003c/p\u003e\").appendTo(wrapper);\r\n\r\n\t\t\t\t// all tests\r\n\t\t\t\tfrappe.call({\r\n\t\t\t\t\tmethod: \u0027frappe.core.doctype.test_runner.test_runner.get_test_js\u0027,\r\n\t\t\t\t\targs: { test_path: frm.doc.module_path }\r\n\t\t\t\t}).always((data) \u003d\u003e {\r\n\t\t\t\t\t$(\"\u003cdiv id\u003d\u0027qunit\u0027\u003e\u003c/div\u003e\").appendTo(wrapper.empty());\r\n\t\t\t\t\tfrm.events.run_tests(frm, data.message);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t},\r\n\trun_tests: function(frm, files) {\r\n\t\tfrappe.flags.in_test \u003d true;\r\n\t\tlet require_list \u003d [\r\n\t\t\t\"assets/frappe/js/lib/jquery/qunit.js\",\r\n\t\t\t\"assets/frappe/js/lib/jquery/qunit.css\"\r\n\t\t].concat();\r\n\r\n\t\tfrappe.require(require_list, () \u003d\u003e {\r\n\t\t\tfiles.forEach((f) \u003d\u003e {\r\n\t\t\t\tfrappe.dom.eval(f.script);\r\n\t\t\t});\r\n\r\n\t\t\tQUnit.config.notrycatch \u003d true;\r\n\r\n\t\t\twindow.onerror \u003d function(msg, url, lineNo, columnNo, error) {\r\n\t\t\t\tconsole.log(error.stack); // eslint-disable-line\r\n\t\t\t\t$(\u0027\u003cdiv id\u003d\"frappe-qunit-done\"\u003e\u003c/div\u003e\u0027).appendTo($(\u0027body\u0027));\r\n\t\t\t};\r\n\r\n\t\t\tQUnit.testDone(function(details) {\r\n\t\t\t\t// var result \u003d {\r\n\t\t\t\t// \t\"Module name\": details.module,\r\n\t\t\t\t// \t\"Test name\": details.name,\r\n\t\t\t\t// \t\"Assertions\": {\r\n\t\t\t\t// \t\t\"Total\": details.total,\r\n\t\t\t\t// \t\t\"Passed\": details.passed,\r\n\t\t\t\t// \t\t\"Failed\": details.failed\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \t\"Skipped\": details.skipped,\r\n\t\t\t\t// \t\"Todo\": details.todo,\r\n\t\t\t\t// \t\"Runtime\": details.runtime\r\n\t\t\t\t// };\r\n\r\n\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t// console.log(JSON.stringify(result, null, 2));\r\n\r\n\t\t\t\tdetails.assertions.map(a \u003d\u003e {\r\n\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\tconsole.log(`${a.result ? \u0027✔\u0027 : \u0027✗\u0027}  ${a.message}`);\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t\tQUnit.load();\r\n\r\n\t\t\tQUnit.done(({ total, failed, passed, runtime }) \u003d\u003e {\r\n\t\t\t\t// flag for selenium that test is done\r\n\r\n\t\t\t\tconsole.log( `Total: ${total}, Failed: ${failed}, Passed: ${passed}, Runtime: ${runtime}` );  // eslint-disable-line\r\n\r\n\t\t\t\tif(failed) {\r\n\t\t\t\t\tconsole.log(\u0027Tests Failed\u0027); // eslint-disable-line\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\u0027Tests Passed\u0027); // eslint-disable-line\r\n\t\t\t\t}\r\n\t\t\t\tfrappe.set_route(\u0027Form\u0027, \u0027Test Runner\u0027, \u0027Test Runner\u0027);\r\n\r\n\t\t\t\t$(\u0027\u003cdiv id\u003d\"frappe-qunit-done\"\u003e\u003c/div\u003e\u0027).appendTo($(\u0027body\u0027));\r\n\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n});\r\n"}],"user_settings":"{}"}