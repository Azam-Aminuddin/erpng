{"docs":[{"allow_copy":0,"allow_guest_to_view":0,"allow_import":1,"allow_rename":0,"autoname":"","beta":0,"creation":"2013-01-29 10:47:14","custom":0,"description":"Keep a track of all communications","docstatus":0,"doctype":"DocType","document_type":"Setup","editable_grid":0,"engine":"InnoDB","fields":[{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"subject","fieldtype":"Small Text","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":1,"in_list_view":0,"in_standard_filter":0,"label":"Subject","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5ii3rf0u46","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"collapsible_depends_on":"","columns":0,"fieldname":"section_break_10","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"To and CC","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5pmsq5civs","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"","depends_on":"eval:doc.communication_type\u003d\u003d\u003d\"Communication\"","fieldname":"communication_medium","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Type","length":0,"no_copy":0,"options":"\nEmail\nChat\nPhone\nSMS\nVisit\nOther","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"t8curlvci","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:doc.communication_medium\u003d\u003d\u003d\"Email\"","fieldname":"sender","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":1,"in_list_view":0,"in_standard_filter":0,"label":"From","length":255,"no_copy":0,"options":"Email","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5og5rm0kgc","docstatus":0,"idx":3,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_4","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4b9hod8ctd","docstatus":0,"idx":4,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"","fieldname":"recipients","fieldtype":"Code","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"To","length":0,"no_copy":0,"options":"Email","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"67ntjgggu0","docstatus":0,"idx":5,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:doc.communication_medium\u003d\u003d\u003d\"Email\"","fieldname":"cc","fieldtype":"Code","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"CC","length":0,"no_copy":0,"options":"Email","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"1k3c6gdt2r","docstatus":0,"idx":6,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:in_list([\"Phone\", \"SMS\"], doc.communication_medium)","fieldname":"phone_no","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Phone No.","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"1au1fehu4r","docstatus":0,"idx":7,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"description":"Integrations can use this field to set email delivery status","fieldname":"delivery_status","fieldtype":"Select","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Delivery Status","length":0,"no_copy":0,"options":"\nSent\nBounced\nOpened\nMarked As Spam\nRejected\nDelayed\nSoft-Bounced\nClicked\nRecipient Unsubscribed\nError\nExpired\nSending","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"68t6siln3v","docstatus":0,"idx":8,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"section_break_8","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7gj6a32ppi","docstatus":0,"idx":9,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"content","fieldtype":"Text Editor","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Message","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"width":"400","doctype":"DocField","name":"5l5h7qhfaq","docstatus":0,"idx":10,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"fieldname":"status_section","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Status","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"670q6qi9iq","docstatus":0,"idx":11,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"text_content","fieldtype":"Code","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Text Content","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2rbks4a20q","docstatus":0,"idx":12,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"Communication","fieldname":"communication_type","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Communication Type","length":0,"no_copy":0,"options":"Communication\nComment\nChat\nBot\nNotification\nFeedback","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4g7dv2eg34","docstatus":0,"idx":13,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"comment_type","fieldtype":"Select","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Comment Type","length":0,"no_copy":0,"options":"\nComment\nLike\nInfo\nLabel\nWorkflow\nCreated\nUpdated\nSubmitted\nCancelled\nDeleted\nAssigned\nAssignment Completed\nAttachment\nAttachment Removed\nShared\nUnshared\nBot\nRelinked","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7ca9ilghig","docstatus":0,"idx":14,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_5","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"n2cv4jocp","docstatus":0,"idx":15,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:doc.communication_type\u003d\u003d\u003d\"Communication\"","fieldname":"status","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":1,"in_standard_filter":1,"label":"Status","length":0,"no_copy":0,"options":"Open\nReplied\nClosed\nLinked","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7c7itss2tq","docstatus":0,"idx":16,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:doc.communication_type\u003d\u003d\u003d\"Communication\"","fieldname":"sent_or_received","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":1,"in_standard_filter":1,"label":"Sent or Received","length":0,"no_copy":0,"options":"Sent\nReceived","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2k5ph8hq2i","docstatus":0,"idx":17,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"fieldname":"additional_info","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"More Information","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"svl9k4ust","docstatus":0,"idx":18,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"Now","fieldname":"communication_date","fieldtype":"Datetime","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Date","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4se0q6kr3p","docstatus":0,"idx":19,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"read_receipt","fieldtype":"Check","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Sent Read Receipt","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"43g6dmj4c0","docstatus":0,"idx":20,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_14","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5taahu3pc2","docstatus":0,"idx":21,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"sender_full_name","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"From Full Name","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2a225so25f","docstatus":0,"idx":22,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"fieldname":"reference_section","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Reference","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5ij7pmsqik","docstatus":0,"idx":23,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"reference_doctype","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Reference DocType","length":0,"no_copy":0,"options":"DocType","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7vd3o837a7","docstatus":0,"idx":24,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"reference_name","fieldtype":"Dynamic Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Reference Name","length":0,"no_copy":0,"options":"reference_doctype","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7c6hgi0o4r","docstatus":0,"idx":25,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"reference_owner","fieldtype":"Read Only","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Reference Owner","length":0,"no_copy":0,"options":"reference_name.owner","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":1,"set_only_once":0,"unique":0,"doctype":"DocField","name":"30t2fg1tgm","docstatus":0,"idx":26,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:doc.communication_medium\u003d\u003d\u003d\"Email\"","fieldname":"email_account","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Email Account","length":0,"no_copy":0,"options":"Email Account","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"65fe3fmo81","docstatus":0,"idx":27,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"in_reply_to","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"In Reply To","length":0,"no_copy":0,"options":"Communication","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3orve0e0o4","docstatus":0,"idx":28,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"__user","fieldname":"user","fieldtype":"Link","hidden":0,"ignore_user_permissions":1,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"User","length":0,"no_copy":0,"options":"User","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4nkmb2qkm7","docstatus":0,"idx":29,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_27","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7afefoh02q","docstatus":0,"idx":30,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"link_doctype","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Link DocType","length":0,"no_copy":0,"options":"DocType","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"p1tfclduq","docstatus":0,"idx":31,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"link_name","fieldtype":"Dynamic Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Link Name","length":0,"no_copy":0,"options":"link_doctype","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2ss4n96ska","docstatus":0,"idx":32,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"timeline_doctype","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Timeline DocType","length":0,"no_copy":0,"options":"DocType","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7lditem5tt","docstatus":0,"idx":33,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"timeline_name","fieldtype":"Dynamic Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Timeline Name","length":0,"no_copy":0,"options":"timeline_doctype","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3iuumadkdn","docstatus":0,"idx":34,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"timeline_label","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Timeline field Name","length":0,"no_copy":0,"options":"","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"72hokk7e7h","docstatus":0,"idx":35,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"0","fieldname":"unread_notification_sent","fieldtype":"Check","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Unread Notification Sent","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"172a81h4ob","docstatus":0,"idx":36,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"seen","fieldtype":"Check","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Seen","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"to6033jia","docstatus":0,"idx":37,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"_user_tags","fieldtype":"Data","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"User Tags","length":0,"no_copy":1,"permlevel":0,"print_hide":1,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4p6rspqe7j","docstatus":0,"idx":38,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"fieldname":"email_inbox","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Email Inbox","length":0,"no_copy":0,"permlevel":1,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6rjv10feim","docstatus":0,"idx":39,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"message_id","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":1,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Message ID","length":995,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7g6ue2nhn2","docstatus":0,"idx":40,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"fieldname":"uid","fieldtype":"Int","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"UID","length":0,"no_copy":1,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"1clm2at0e","docstatus":0,"idx":41,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"email_status","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Email Status","length":0,"no_copy":0,"options":"Open\nSpam\nTrash","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4dn6kcqu21","docstatus":0,"idx":42,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"has_attachment","fieldtype":"Check","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Has  Attachment","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"25pqjakoh5","docstatus":0,"idx":43,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":1,"columns":0,"depends_on":"eval: doc.rating \u003e 0","fieldname":"feedback_section","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Feedback","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5ndbupfsjh","docstatus":0,"idx":44,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"rating","fieldtype":"Int","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Rating","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7n7tin50ml","docstatus":0,"idx":45,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"feedback_request","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Feedback Request","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2mhpi9efjl","docstatus":0,"idx":46,"parenttype":"DocType","parentfield":"fields","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"has_web_view":0,"hide_heading":0,"hide_toolbar":0,"icon":"fa fa-comment","idx":1.0,"image_view":0,"in_create":0,"is_submittable":0,"issingle":0,"istable":0,"max_attachments":0,"modified":"2017-03-29 23:06:16.469149","modified_by":"Administrator","module":"Core","name":"Communication","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":0.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":0.0,"read":1.0,"report":1.0,"role":"System Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":0.0,"doctype":"DocPerm","name":"5bh22u6la","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":0.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":1.0,"print":1.0,"read":1.0,"report":1.0,"role":"System Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":0.0,"doctype":"DocPerm","name":"2qhlev6ipc","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"permissions","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"amend":0.0,"apply_user_permissions":1.0,"cancel":0.0,"create":0.0,"delete":1.0,"email":1.0,"export":0.0,"if_owner":1.0,"import":0.0,"permlevel":0.0,"print":0.0,"read":1.0,"report":0.0,"role":"All","set_user_permissions":0.0,"share":0.0,"submit":0.0,"user_permission_doctypes":"[\"Email Account\"]","write":0.0,"doctype":"DocPerm","name":"566sji7lku","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"permissions","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"Super Email User","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":0.0,"doctype":"DocPerm","name":"1rf0557sk3","docstatus":0,"idx":3,"parenttype":"DocType","parentfield":"permissions","parent":"Communication","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"quick_entry":0,"read_only":0,"read_only_onload":0,"search_fields":"subject","show_name_in_global_search":0,"sort_order":"DESC","title_field":"subject","track_changes":1,"track_seen":1,"__js":"frappe.ui.form.on(\"Communication\", {\r\n\tonload: function(frm) {\r\n\t\tif(frm.doc.content) {\r\n\t\t\tfrm.doc.content \u003d frappe.dom.remove_script_and_style(frm.doc.content);\r\n\t\t}\r\n\t\tfrm.set_query(\"reference_doctype\", function() {\r\n\t\t\treturn {\r\n\t\t\t\tfilters: {\r\n\t\t\t\t\t\"issingle\": 0,\r\n\t\t\t\t\t\"istable\": 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\trefresh: function(frm) {\r\n\t\tif(frm.is_new()) return;\r\n\r\n\t\tfrm.convert_to_click \u0026\u0026 frm.set_convert_button();\r\n\t\tfrm.subject_field \u003d \"subject\";\r\n\r\n\t\tif(frm.doc.reference_doctype \u0026\u0026 frm.doc.reference_name) {\r\n\t\t\tfrm.add_custom_button(__(frm.doc.reference_name), function() {\r\n\t\t\t\tfrappe.set_route(\"Form\", frm.doc.reference_doctype, frm.doc.reference_name);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// if an unlinked communication, set email field\r\n\t\t\tif (frm.doc.sent_or_received\u003d\u003d\u003d\"Received\") {\r\n\t\t\t\tfrm.email_field \u003d \"sender\";\r\n\t\t\t} else {\r\n\t\t\t\tfrm.email_field \u003d \"recipients\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(frm.doc.communication_type \u003d\u003d \"Feedback\") {\r\n\t\t\tfrm.add_custom_button(__(\"Resend\"), function() {\r\n\t\t\t\tvar feedback \u003d new frappe.utils.Feedback();\r\n\t\t\t\tfeedback.resend_feedback_request(frm.doc);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(frm.doc.status\u003d\u003d\u003d\"Open\") {\r\n\t\t\tfrm.add_custom_button(__(\"Close\"), function() {\r\n\t\t\t\tfrm.set_value(\"status\", \"Closed\");\r\n\t\t\t\tfrm.save();\r\n\t\t\t});\r\n\t\t} else if (frm.doc.status !\u003d\u003d \"Linked\") {\r\n\t\t\tfrm.add_custom_button(__(\"Reopen\"), function() {\r\n\t\t\t\tfrm.set_value(\"status\", \"Open\");\r\n\t\t\t\tfrm.save();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfrm.add_custom_button(__(\"Relink\"), function() {\r\n\t\t\tfrm.trigger(\u0027show_relink_dialog\u0027);\r\n\t\t});\r\n\r\n\t\tif(frm.doc.communication_type\u003d\u003d\"Communication\" \r\n\t\t\t\u0026\u0026 frm.doc.communication_medium \u003d\u003d \"Email\"\r\n\t\t\t\u0026\u0026 frm.doc.sent_or_received \u003d\u003d \"Received\") {\r\n\r\n\t\t\tfrm.add_custom_button(__(\"Reply\"), function() {\r\n\t\t\t\tfrm.trigger(\u0027reply\u0027);\r\n\t\t\t});\r\n\r\n\t\t\tfrm.add_custom_button(__(\"Reply All\"), function() {\r\n\t\t\t\tfrm.trigger(\u0027reply_all\u0027);\r\n\t\t\t}, \"Actions\");\r\n\r\n\t\t\tfrm.add_custom_button(__(\"Forward\"), function() {\r\n\t\t\t\tfrm.trigger(\u0027forward_mail\u0027);\r\n\t\t\t}, \"Actions\");\r\n\r\n\t\t\tfrm.add_custom_button(__(\"Mark as {0}\", [frm.doc.seen? \"Unread\": \"Read\"]), function() {\r\n\t\t\t\tfrm.trigger(\u0027mark_as_read_unread\u0027);\r\n\t\t\t}, \"Actions\");\r\n\r\n\t\t\tfrm.add_custom_button(__(\"Add Contact\"), function() {\r\n\t\t\t\tfrm.trigger(\u0027add_to_contact\u0027);\r\n\t\t\t}, \"Actions\");\r\n\r\n\t\t\tif(frm.doc.email_status !\u003d \"Spam\")\r\n\t\t\t\tfrm.add_custom_button(__(\"Mark as Spam\"), function() {\r\n\t\t\t\t\tfrm.trigger(\u0027mark_as_spam\u0027);\r\n\t\t\t\t}, \"Actions\");\r\n\r\n\t\t\tif(frm.doc.email_status !\u003d \"Trash\") {\r\n\t\t\t\tfrm.add_custom_button(__(\"Move To Trash\"), function() {\r\n\t\t\t\t\tfrm.trigger(\u0027move_to_trash\u0027);\r\n\t\t\t\t}, \"Actions\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tshow_relink_dialog: function(frm){\r\n\t\tvar lib \u003d \"frappe.email\";\r\n\t\tvar d \u003d new frappe.ui.Dialog ({\r\n\t\t\ttitle: __(\"Relink Communication\"),\r\n\t\t\tfields: [{\r\n\t\t\t\t\"fieldtype\": \"Link\",\r\n\t\t\t\t\"options\": \"DocType\",\r\n\t\t\t\t\"label\": __(\"Reference Doctype\"),\r\n\t\t\t\t\"fieldname\": \"reference_doctype\",\r\n\t\t\t\t\"get_query\": function() {return {\"query\": \"frappe.email.get_communication_doctype\"}}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"fieldtype\": \"Dynamic Link\",\r\n\t\t\t\t\"options\": \"reference_doctype\",\r\n\t\t\t\t\"label\": __(\"Reference Name\"),\r\n\t\t\t\t\"fieldname\": \"reference_name\"\r\n\t\t\t}]\r\n\t\t});\r\n\t\td.set_value(\"reference_doctype\", frm.doc.reference_doctype);\r\n\t\td.set_value(\"reference_name\", frm.doc.reference_name);\r\n\t\td.set_primary_action(__(\"Relink\"), function () {\r\n\t\t\tvar values \u003d d.get_values();\r\n\t\t\tif (values) {\r\n\t\t\t\tfrappe.confirm(\r\n\t\t\t\t\t__(\u0027Are you sure you want to relink this communication to {0}?\u0027, [values[\"reference_name\"]]),\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\td.hide();\r\n\t\t\t\t\t\tfrappe.call({\r\n\t\t\t\t\t\t\tmethod: \"frappe.email.relink\",\r\n\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\"name\": frm.doc.name,\r\n\t\t\t\t\t\t\t\t\"reference_doctype\": values[\"reference_doctype\"],\r\n\t\t\t\t\t\t\t\t\"reference_name\": values[\"reference_name\"]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcallback: function () {\r\n\t\t\t\t\t\t\t\tfrm.refresh();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tfrappe.show_alert(\u0027Document not Relinked\u0027)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\td.show();\r\n\t},\r\n\r\n\tmark_as_read_unread: function(frm) {\r\n\t\tvar action \u003d frm.doc.seen? \"Unread\": \"Read\";\r\n\t\tvar flag \u003d \"(\\\\SEEN)\";\r\n\r\n\t\treturn frappe.call({\r\n\t\t\tmethod: \"frappe.email.inbox.create_email_flag_queue\",\r\n\t\t\targs: {\r\n\t\t\t\t\u0027names\u0027: [frm.doc.name],\r\n\t\t\t\t\u0027action\u0027: action,\r\n\t\t\t\t\u0027flag\u0027: flag\r\n\t\t\t},\r\n\t\t\tfreeze: true\r\n\t\t});\r\n\t},\r\n\r\n\treply: function(frm) {\r\n\t\tvar args \u003d frm.events.get_mail_args(frm);\r\n\t\t$.extend(args, {\r\n\t\t\tsubject: __(\"Re: {0}\", [frm.doc.subject]),\r\n\t\t\trecipients: frm.doc.sender\r\n\t\t})\r\n\r\n\t\tnew frappe.views.CommunicationComposer(args);\r\n\t},\r\n\r\n\treply_all: function(frm) {\r\n\t\tvar args \u003d frm.events.get_mail_args(frm)\r\n\t\t$.extend(args, {\r\n\t\t\tsubject: __(\"Re: {0}\", [frm.doc.subject]),\r\n\t\t\trecipients: frm.doc.sender,\r\n\t\t\tcc: frm.doc.cc\r\n\t\t})\r\n\t\tnew frappe.views.CommunicationComposer(args);\r\n\t},\r\n\r\n\tforward_mail: function(frm) {\r\n\t\tvar args \u003d frm.events.get_mail_args(frm)\r\n\t\t$.extend(args, {\t\t\r\n\t\t\tforward: true,\r\n\t\t\tsubject: __(\"Fw: {0}\", [frm.doc.subject]),\r\n\t\t})\r\n\r\n\t\tnew frappe.views.CommunicationComposer(args);\r\n\t},\r\n\r\n\tget_mail_args: function(frm) {\r\n\t\tvar sender_email_id \u003d \"\"\r\n\t\t$.each(frappe.boot.email_accounts, function(idx, account) {\r\n\t\t\tif(account.email_account \u003d\u003d frm.doc.email_account) {\r\n\t\t\t\tsender_email_id \u003d account.email_id\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tfrm: frm,\r\n\t\t\tdoc: frm.doc,\r\n\t\t\tlast_email: frm.doc,\r\n\t\t\tsender: sender_email_id,\r\n\t\t\tattachments: frm.doc.attachments\r\n\t\t}\r\n\t},\r\n\r\n\tadd_to_contact: function(frm) {\r\n\t\tvar me \u003d this;\r\n\t\tvar fullname \u003d frm.doc.sender_full_name || \"\"\r\n\r\n\t\tvar names \u003d fullname.split(\" \")\r\n\t\tvar first_name \u003d names[0]\r\n\t\tvar last_name \u003d names.length \u003e\u003d 2? names[names.length - 1]: \"\"\r\n\r\n\t\tfrappe.route_options \u003d {\r\n\t\t\t\"email_id\": frm.doc.sender,\r\n\t\t\t\"first_name\": first_name,\r\n\t\t\t\"last_name\": last_name,\r\n\t\t}\r\n\t\tfrappe.new_doc(\"Contact\")\r\n\t},\r\n\r\n\tmark_as_spam: function(frm) {\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"frappe.email.inbox.mark_as_spam\",\r\n\t\t\targs: {\r\n\t\t\t\tcommunication: frm.doc.name,\r\n\t\t\t\tsender: frm.doc.sender\r\n\t\t\t},\r\n\t\t\tfreeze: true,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrappe.msgprint(__(\"Email has been marked as spam\"))\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\r\n\tmove_to_trash: function(frm) {\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"frappe.email.inbox.mark_as_trash\",\r\n\t\t\targs: {\r\n\t\t\t\tcommunication: frm.doc.name\r\n\t\t\t},\r\n\t\t\tfreeze: true,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrappe.msgprint(__(\"Email has been moved to trash\"))\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n});\r\n","__list_js":"frappe.listview_settings[\u0027Communication\u0027] \u003d {\r\n\tadd_fields: [\r\n\t\t\"sent_or_received\",\"recipients\", \"subject\",\r\n\t\t\"communication_medium\", \"communication_type\",\r\n\t\t\"sender\", \"seen\", \"reference_doctype\", \"reference_name\",\r\n\t\t\"has_attachment\"\r\n\t],\r\n\r\n\tfilters: [[\"status\", \"\u003d\", \"Open\"]],\r\n\r\n\tonload: function(list_view) {\r\n\t\tlet method \u003d \"frappe.email.inbox.create_email_flag_queue\"\r\n\r\n\t\tlist_view.page.add_menu_item(__(\"Mark as Read\"), function() {\r\n\t\t\tlist_view.call_for_selected_items(method, { action: \"Read\" });\r\n\t\t});\r\n\t\tlist_view.page.add_menu_item(__(\"Mark as Unread\"), function() {\r\n\t\t\tlist_view.call_for_selected_items(method, { action: \"Unread\" });\r\n\t\t});\r\n\t},\r\n\r\n\tset_primary_action: function(list_view) {\r\n\t\tvar me \u003d this;\r\n\t\tif (list_view.new_doctype) {\r\n\t\t\tlist_view.page.set_primary_action(\r\n\t\t\t\t__(\"New\"),\r\n\t\t\t\tfunction() { new frappe.views.CommunicationComposer({ doc: {} }) },\r\n\t\t\t\t\"octicon octicon-plus\"\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tlist_view.page.clear_primary_action();\r\n\t\t}\r\n\t}\r\n};\r\n"}],"user_settings":"{}"}