{"docs":[{"allow_copy":1,"allow_import":0,"allow_rename":0,"beta":0,"creation":"2012-03-27 14:35:59","custom":0,"docstatus":0,"doctype":"DocType","document_type":"Other","editable_grid":0,"fields":[{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"section_break0","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Select Employees","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5vr5deksd0","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break0","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"width":"50%","doctype":"DocField","name":"3vl515t72r","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"","fieldname":"company","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":1,"in_standard_filter":0,"label":"Company","length":0,"no_copy":0,"options":"Company","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":1,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3d7v96nj45","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"Today","fieldname":"posting_date","fieldtype":"Date","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Posting Date","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6d30hi94co","docstatus":0,"idx":3,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"","depends_on":"eval:doc.salary_slip_based_on_timesheet \u003d\u003d 0","fieldname":"payroll_frequency","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Payroll Frequency","length":0,"no_copy":0,"options":"\nMonthly\nFortnightly\nBimonthly\nWeekly\nDaily","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"26ap3v7q69","docstatus":0,"idx":4,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break1","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"width":"50%","doctype":"DocField","name":"2rvii5su96","docstatus":0,"idx":5,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"branch","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":1,"in_standard_filter":0,"label":"Branch","length":0,"no_copy":0,"options":"Branch","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"1tfftprba1","docstatus":0,"idx":6,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"department","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Department","length":0,"no_copy":0,"options":"Department","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"41n2g1uq98","docstatus":0,"idx":7,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"designation","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Designation","length":0,"no_copy":0,"options":"Designation","permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7fktiottf6","docstatus":0,"idx":8,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"section_break_8","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"o03iv3fod","docstatus":0,"idx":9,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"salary_slip_based_on_timesheet","fieldtype":"Check","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Salary Slip Based on Timesheet","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2r54lbmbda","docstatus":0,"idx":10,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"select_payroll_period","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Select Payroll Period","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"r6fehcpk0","docstatus":0,"idx":11,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"","fieldname":"start_date","fieldtype":"Date","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Start Date","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3683r7j9l2","docstatus":0,"idx":12,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_11","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6u5r43mp8g","docstatus":0,"idx":13,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"default":"","fieldname":"end_date","fieldtype":"Date","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"End Date","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2mt7dmu2gn","docstatus":0,"idx":14,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"section_break_16","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Accounts","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"54a2rm958f","docstatus":0,"idx":15,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"cost_center","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Cost Center","length":0,"no_copy":0,"options":"Cost Center","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4merc1gch","docstatus":0,"idx":16,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break_18","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4vl0nhteir","docstatus":0,"idx":17,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"project","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Project","length":0,"no_copy":0,"options":"Project","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3gk2ktbpao","docstatus":0,"idx":18,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"process_payroll","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Process Payroll","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"lood6dpp2","docstatus":0,"idx":19,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break2","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"width":"50%","doctype":"DocField","name":"4ekl6eqecf","docstatus":0,"idx":20,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"description":"Creates salary slip for above mentioned criteria.","fieldname":"create_salary_slip","fieldtype":"Button","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Create Salary Slip","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2phrp8ncf8","docstatus":0,"idx":21,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"column_break3","fieldtype":"Column Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"width":"25%","doctype":"DocField","name":"6hj7mt1qs4","docstatus":0,"idx":22,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"description":"Submit all salary slips for the above selected criteria","fieldname":"submit_salary_slip","fieldtype":"Button","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Submit Salary Slip","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"36u0cqvok5","docstatus":0,"idx":23,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"account","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Payment Entry","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"4qpgdjeqeu","docstatus":0,"idx":24,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"description":"Select Payment Account to make Bank Entry","fieldname":"payment_account","fieldtype":"Link","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Payment Account","length":0,"no_copy":0,"options":"Account","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6od0vkjfbm","docstatus":0,"idx":25,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"","description":"Create Bank Entry for the total salary paid for the above selected criteria","fieldname":"make_bank_entry","fieldtype":"Button","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Make Bank Entry","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3acn7fspmm","docstatus":0,"idx":26,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"section_break2","fieldtype":"Section Break","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3576fqlnbd","docstatus":0,"idx":27,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"activity_log","fieldtype":"HTML","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_list_view":0,"in_standard_filter":0,"label":"Activity Log","length":0,"no_copy":0,"permlevel":0,"print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3hblhdrrg","docstatus":0,"idx":28,"parenttype":"DocType","parentfield":"fields","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"hide_heading":0,"hide_toolbar":1,"icon":"fa fa-cog","idx":1.0,"image_view":0,"in_create":0,"in_dialog":0.0,"is_submittable":0,"issingle":1,"istable":0,"max_attachments":0,"modified":"2017-02-08 02:34:59.130475","modified_by":"Administrator","module":"HR","name":"Process Payroll","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":0.0,"email":0.0,"export":0.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":0.0,"read":1.0,"report":0.0,"role":"HR Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"5daco37mtk","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Process Payroll","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"quick_entry":0,"read_only":0,"read_only_onload":0,"sort_field":"modified","sort_order":"DESC","track_changes":0,"track_seen":0,"__js":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nvar in_progress \u003d false;\r\n\r\nfrappe.ui.form.on(\"Process Payroll\", {\r\n\tonload: function (frm) {\r\n\t\tfrm.doc.posting_date \u003d frappe.datetime.nowdate();\r\n\t\tfrm.doc.start_date \u003d \u0027\u0027;\r\n\t\tfrm.doc.end_date \u003d \u0027\u0027;\r\n\t\tfrm.doc.payroll_frequency \u003d \u0027\u0027;\r\n\t\tfrm.toggle_reqd([\u0027payroll_frequency\u0027], !frm.doc.salary_slip_based_on_timesheet);\r\n\t},\r\n\r\n\tsetup: function (frm) {\r\n\t\tfrm.set_query(\"payment_account\", function () {\r\n\t\t\tvar account_types \u003d [\"Bank\", \"Cash\"];\r\n\t\t\treturn {\r\n\t\t\t\tfilters: {\r\n\t\t\t\t\t\"account_type\": [\"in\", account_types],\r\n\t\t\t\t\t\"is_group\": 0,\r\n\t\t\t\t\t\"company\": frm.doc.company\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}),\r\n\t\t\tfrm.set_query(\"cost_center\", function () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tfilters: {\r\n\t\t\t\t\t\t\"is_group\": 0,\r\n\t\t\t\t\t\tcompany: frm.doc.company\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tfrm.set_query(\"project\", function () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tfilters: {\r\n\t\t\t\t\t\tcompany: frm.doc.company\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t},\r\n\r\n\trefresh: function (frm) {\r\n\t\tfrm.disable_save();\r\n\t},\r\n\r\n\tpayroll_frequency: function (frm) {\r\n\t\tfrm.trigger(\"set_start_end_dates\");\r\n\t},\r\n\r\n\tstart_date: function (frm) {\r\n\t\tif(!in_progress \u0026\u0026 frm.doc.start_date){\r\n\t\t\tfrm.trigger(\"set_end_date\");\r\n\t\t}else{\r\n\t\t\t// reset flag\r\n\t\t\tin_progress \u003d false\r\n\t\t}\r\n\t},\r\n\r\n\tsalary_slip_based_on_timesheet: function (frm) {\r\n\t\tfrm.toggle_reqd([\u0027payroll_frequency\u0027], !frm.doc.salary_slip_based_on_timesheet);\r\n\t},\r\n\r\n\tpayment_account: function (frm) {\r\n\t\tfrm.toggle_display([\u0027make_bank_entry\u0027], (frm.doc.payment_account !\u003d \"\" \u0026\u0026 frm.doc.payment_account !\u003d \"undefined\"));\r\n\t},\r\n\r\n\tset_start_end_dates: function (frm) {\r\n\t\tif (!frm.doc.salary_slip_based_on_timesheet) {\r\n\t\t\tfrappe.call({\r\n\t\t\t\tmethod: \u0027erpnext.hr.doctype.process_payroll.process_payroll.get_start_end_dates\u0027,\r\n\t\t\t\targs: {\r\n\t\t\t\t\tpayroll_frequency: frm.doc.payroll_frequency,\r\n\t\t\t\t\tstart_date: frm.doc.posting_date\r\n\t\t\t\t},\r\n\t\t\t\tcallback: function (r) {\r\n\t\t\t\t\tif (r.message) {\r\n\t\t\t\t\t\tin_progress \u003d true;\r\n\t\t\t\t\t\tfrm.set_value(\u0027start_date\u0027, r.message.start_date);\r\n\t\t\t\t\t\tfrm.set_value(\u0027end_date\u0027, r.message.end_date);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\r\n\tset_end_date: function(frm){\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \u0027erpnext.hr.doctype.process_payroll.process_payroll.get_end_date\u0027,\r\n\t\t\targs: {\r\n\t\t\t\tfrequency: frm.doc.payroll_frequency,\r\n\t\t\t\tstart_date: frm.doc.start_date\r\n\t\t\t},\r\n\t\t\tcallback: function (r) {\r\n\t\t\t\tif (r.message) {\r\n\t\t\t\t\tfrm.set_value(\u0027end_date\u0027, r.message.end_date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n})\r\n\r\ncur_frm.cscript.display_activity_log \u003d function (msg) {\r\n\tif (!cur_frm.ss_html)\r\n\t\tcur_frm.ss_html \u003d $a(cur_frm.fields_dict[\u0027activity_log\u0027].wrapper, \u0027div\u0027);\r\n\tif (msg) {\r\n\t\tcur_frm.ss_html.innerHTML \u003d\r\n\t\t\t\u0027\u003cdiv class\u003d\"padding\"\u003e\u003ch4\u003e\u0027 + __(\"Activity Log:\") + \u0027\u003c/h4\u003e\u0027 + msg + \u0027\u003c/div\u003e\u0027;\r\n\t} else {\r\n\t\tcur_frm.ss_html.innerHTML \u003d \"\";\r\n\t}\r\n}\r\n\r\n// Create salary slip\r\n// -----------------------\r\ncur_frm.cscript.create_salary_slip \u003d function (doc, cdt, cdn) {\r\n\tcur_frm.cscript.display_activity_log(\"\");\r\n\tvar callback \u003d function (r, rt) {\r\n\t\tif (r.message)\r\n\t\t\tcur_frm.cscript.display_activity_log(r.message);\r\n\t}\r\n\treturn $c(\u0027runserverobj\u0027, { \u0027method\u0027: \u0027create_salary_slips\u0027, \u0027docs\u0027: doc }, callback);\r\n}\r\n\r\ncur_frm.cscript.submit_salary_slip \u003d function (doc, cdt, cdn) {\r\n\tcur_frm.cscript.display_activity_log(\"\");\r\n\r\n\tfrappe.confirm(__(\"Do you really want to Submit all Salary Slip from {0} to {1}\", [doc.start_date, doc.end_date]), function () {\r\n\t\t// clear all in locals\r\n\t\tif (locals[\"Salary Slip\"]) {\r\n\t\t\t$.each(locals[\"Salary Slip\"], function (name, d) {\r\n\t\t\t\tfrappe.model.remove_from_locals(\"Salary Slip\", name);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar callback \u003d function (r, rt) {\r\n\t\t\tif (r.message)\r\n\t\t\t\tcur_frm.cscript.display_activity_log(r.message);\r\n\t\t}\r\n\r\n\t\treturn $c(\u0027runserverobj\u0027, { \u0027method\u0027: \u0027submit_salary_slips\u0027, \u0027docs\u0027: doc }, callback);\r\n\t});\r\n}\r\n\r\ncur_frm.cscript.make_bank_entry \u003d function (doc, cdt, cdn) {\r\n\tif (doc.company \u0026\u0026 doc.start_date \u0026\u0026 doc.end_date) {\r\n\t\treturn frappe.call({\r\n\t\t\tdoc: cur_frm.doc,\r\n\t\t\tmethod: \"make_payment_entry\",\r\n\t\t\tcallback: function (r) {\r\n\t\t\t\tif (r.message)\r\n\t\t\t\t\tvar doc \u003d frappe.model.sync(r.message)[0];\r\n\t\t\t\tfrappe.set_route(\"Form\", doc.doctype, doc.name);\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tfrappe.msgprint(__(\"Company, From Date and To Date is mandatory\"));\r\n\t}\r\n}"}],"user_settings":"{}"}