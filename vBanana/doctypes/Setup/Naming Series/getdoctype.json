{"docs":[{"allow_copy":0.0,"allow_guest_to_view":0.0,"allow_import":0.0,"allow_rename":0.0,"beta":0.0,"creation":"2013-01-25 11:35:08","custom":0.0,"description":"Set prefix for numbering series on your transactions","docstatus":0.0,"doctype":"DocType","editable_grid":0.0,"fields":[{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"description":"Set prefix for numbering series on your transactions","fieldname":"setup_series","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Setup Series","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"select_doc_for_series","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Select Transaction","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"select_doc_for_series","fieldname":"help_html","fieldtype":"HTML","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Help HTML","length":0.0,"no_copy":0.0,"options":"\u003cdiv class\u003d\"well\"\u003e\nEdit list of Series in the box below. Rules:\n\u003cul\u003e\n\u003cli\u003eEach Series Prefix on a new line.\u003c/li\u003e\n\u003cli\u003eAllowed special characters are \"/\" and \"-\"\u003c/li\u003e\n\u003cli\u003eOptionally, set the number of digits in the series using dot (.) followed by hashes (#). For example, \".####\" means that the series will have four digits. Default is five digits.\u003c/li\u003e\n\u003c/ul\u003e\nExamples:\u003cbr\u003e\nINV-\u003cbr\u003e\nINV-10-\u003cbr\u003e\nINVK-\u003cbr\u003e\nINV-.####\u003cbr\u003e\n\u003c/div\u003e","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"select_doc_for_series","fieldname":"set_options","fieldtype":"Text","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Series List for this Transaction","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"select_doc_for_series","description":"Check this if you want to force the user to select a series before saving. There will be no default if you check this.","fieldname":"user_must_always_select","fieldtype":"Check","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"User must always select","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"select_doc_for_series","fieldname":"update","fieldtype":"Button","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Update","length":0.0,"no_copy":0.0,"options":"","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"description":"Change the starting / current sequence number of an existing series.","fieldname":"update_series","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Update Series","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"prefix","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Prefix","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"description":"This is the number of the last created transaction with this prefix","fieldname":"current_value","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Current Value","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"update_series_start","fieldtype":"Button","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Update Series Number","length":0.0,"no_copy":0.0,"options":"update_series_start","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0}],"has_web_view":0.0,"hide_heading":0.0,"hide_toolbar":1.0,"icon":"fa fa-sort-by-order","idx":1.0,"image_view":0.0,"in_create":0.0,"is_submittable":0.0,"issingle":1.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-08-17 03:41:37.685910","modified_by":"Administrator","module":"Setup","name":"Naming Series","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":0.0,"email":1.0,"export":0.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":0.0,"role":"System Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0}],"quick_entry":0.0,"read_only":1.0,"read_only_onload":0.0,"show_name_in_global_search":0.0,"track_changes":0.0,"track_seen":0.0,"__js":"// Copyright (c) 2017, Frappe Technologies Pvt. Ltd. and contributors\r\n// For license information, please see license.txt\r\n\r\n\r\nfrappe.ui.form.on(\"Naming Series\", {\r\n\tonload: function(frm) {\r\n\t\tfrm.disable_save();\r\n\t\tfrm.events.get_doc_and_prefix(frm);\r\n\t},\r\n\r\n\tget_doc_and_prefix: function(frm) {\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"get_transactions\",\r\n\t\t\tdoc: frm.doc,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrm.set_df_property(\"select_doc_for_series\", \"options\", r.message.transactions);\r\n\t\t\t\tfrm.set_df_property(\"prefix\", \"options\", r.message.prefixes);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tselect_doc_for_series: function(frm) {\r\n\t\tfrm.set_value(\"user_must_always_select\", 0);\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"get_options\",\r\n\t\t\tdoc: frm.doc,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrm.set_value(\"set_options\", r.message);\r\n\t\t\t\tif(r.message \u0026\u0026 r.message.split(\u0027\\n\u0027)[0]\u003d\u003d\u0027\u0027)\r\n\t\t\t\t\tfrm.set_value(\u0027user_must_always_select\u0027, 1);\r\n\t\t\t\tfrm.refresh();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tprefix: function(frm) {\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"get_current\",\r\n\t\t\tdoc: frm.doc,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrm.refresh_field(\"current_value\");\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tupdate: function(frm) {\r\n\t\tfrappe.call({\r\n\t\t\tmethod: \"update_series\",\r\n\t\t\tdoc: frm.doc,\r\n\t\t\tcallback: function(r) {\r\n\t\t\t\tfrm.events.get_doc_and_prefix(frm);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n"}],"user_settings":"{}"}