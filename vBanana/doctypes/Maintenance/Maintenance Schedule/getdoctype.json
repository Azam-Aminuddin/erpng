{"docs":[{"allow_copy":0.0,"allow_guest_to_view":0.0,"allow_import":0.0,"allow_rename":0.0,"autoname":"naming_series:","beta":0.0,"creation":"2013-01-10 16:34:30","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"Document","editable_grid":0.0,"fields":[{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"customer_details","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"","length":0.0,"no_copy":0.0,"oldfieldtype":"Section Break","options":"fa fa-user","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"naming_series","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Series","length":0.0,"no_copy":1.0,"options":"MS","permlevel":0.0,"precision":"","print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":1.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"customer","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":1.0,"label":"Customer","length":0.0,"no_copy":0.0,"oldfieldname":"customer","oldfieldtype":"Link","options":"Customer","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break0","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"oldfieldtype":"Column Break","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"Draft","fieldname":"status","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":1.0,"label":"Status","length":0.0,"no_copy":1.0,"oldfieldname":"status","oldfieldtype":"Select","options":"\nDraft\nSubmitted\nCancelled","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"transaction_date","fieldtype":"Date","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Transaction Date","length":0.0,"no_copy":0.0,"oldfieldname":"transaction_date","oldfieldtype":"Date","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"items_section","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"","length":0.0,"no_copy":0.0,"oldfieldtype":"Section Break","options":"fa fa-shopping-cart","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"items","fieldtype":"Table","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Items","length":0.0,"no_copy":0.0,"oldfieldname":"item_maintenance_detail","oldfieldtype":"Table","options":"Maintenance Schedule Item","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"schedule","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Schedule","length":0.0,"no_copy":0.0,"oldfieldtype":"Section Break","options":"fa fa-time","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"generate_schedule","fieldtype":"Button","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Generate Schedule","length":0.0,"no_copy":0.0,"oldfieldtype":"Button","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"schedules","fieldtype":"Table","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Schedules","length":0.0,"no_copy":0.0,"oldfieldname":"schedules","oldfieldtype":"Table","options":"Maintenance Schedule Detail","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"contact_info","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Contact Info","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":1.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","fieldname":"customer_name","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":1.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Customer Name","length":0.0,"no_copy":0.0,"oldfieldname":"customer_name","oldfieldtype":"Data","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","fieldname":"contact_person","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Contact Person","length":0.0,"no_copy":0.0,"options":"Contact","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","fieldname":"contact_mobile","fieldtype":"Data","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Mobile No","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","fieldname":"contact_email","fieldtype":"Data","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Contact Email","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"contact_display","fieldtype":"Small Text","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":1.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Contact","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break_17","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","fieldname":"customer_address","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Customer Address","length":0.0,"no_copy":0.0,"options":"Address","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"address_display","fieldtype":"Small Text","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Address","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","description":"","fieldname":"territory","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Territory","length":0.0,"no_copy":0.0,"oldfieldname":"territory","oldfieldtype":"Link","options":"Territory","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"customer","description":"","fieldname":"customer_group","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Customer Group","length":0.0,"no_copy":0.0,"options":"Customer Group","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"company","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Company","length":0.0,"no_copy":0.0,"oldfieldname":"company","oldfieldtype":"Link","options":"Company","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":1.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"amended_from","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Amended From","length":0.0,"no_copy":1.0,"options":"Maintenance Schedule","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0}],"has_web_view":0.0,"hide_heading":0.0,"hide_toolbar":0.0,"icon":"fa fa-calendar","idx":1.0,"image_view":0.0,"in_create":0.0,"is_submittable":1.0,"issingle":0.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-06-13 14:29:01.615516","modified_by":"Administrator","module":"Maintenance","name":"Maintenance Schedule","owner":"Administrator","permissions":[{"amend":1.0,"apply_user_permissions":0.0,"cancel":1.0,"create":1.0,"delete":1.0,"email":1.0,"export":0.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"Maintenance Manager","set_user_permissions":0.0,"share":1.0,"submit":1.0,"write":1.0}],"quick_entry":0.0,"read_only":0.0,"read_only_onload":0.0,"search_fields":"status,customer,customer_name","show_name_in_global_search":0.0,"sort_order":"DESC","timeline_field":"customer","track_changes":0.0,"track_seen":0.0,"__js":"// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\r\n// License: GNU General Public License v3. See license.txt\r\n\r\nfrappe.provide(\"erpnext.maintenance\");\r\n\r\nfrappe.ui.form.on(\u0027Maintenance Schedule\u0027, {\r\n\tsetup: function(frm) {\r\n\t\tfrm.set_query(\u0027contact_person\u0027, erpnext.queries.contact_query);\r\n\t\tfrm.set_query(\u0027customer_address\u0027, erpnext.queries.address_query);\r\n\t},\r\n\tcustomer: function(frm) {\r\n\t\terpnext.utils.get_party_details(frm)\r\n\t},\r\n\tcustomer_address: function(frm) {\r\n\t\terpnext.utils.get_address_display(frm, \u0027customer_address\u0027, \u0027address_display\u0027);\r\n\t},\r\n\tcontact_person: function(frm) {\r\n\t\terpnext.utils.get_contact_details(frm);\r\n\t}\r\n\r\n})\r\n\r\n// TODO commonify this code\r\nerpnext.maintenance.MaintenanceSchedule \u003d frappe.ui.form.Controller.extend({\r\n\trefresh: function() {\r\n\t\tfrappe.dynamic_link \u003d {doc: this.frm.doc, fieldname: \u0027customer\u0027, doctype: \u0027Customer\u0027}\r\n\r\n\t\tvar me \u003d this;\r\n\r\n\t\tif (this.frm.doc.docstatus \u003d\u003d\u003d 0) {\r\n\t\t\tthis.frm.add_custom_button(__(\u0027Sales Order\u0027),\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\terpnext.utils.map_current_doc({\r\n\t\t\t\t\t\tmethod: \"erpnext.selling.doctype.sales_order.sales_order.make_maintenance_schedule\",\r\n\t\t\t\t\t\tsource_doctype: \"Sales Order\",\r\n\t\t\t\t\t\ttarget: me.frm,\r\n\t\t\t\t\t\tsetters: {\r\n\t\t\t\t\t\t\tcustomer: me.frm.doc.customer || undefined\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget_query_filters: {\r\n\t\t\t\t\t\t\tdocstatus: 1,\r\n\t\t\t\t\t\t\tcompany: me.frm.doc.company\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, __(\"Get items from\"));\r\n\t\t} else if (this.frm.doc.docstatus \u003d\u003d\u003d 1) {\r\n\t\t\tthis.frm.add_custom_button(__(\"Make Maintenance Visit\"), function() {\r\n\t\t\t\tfrappe.model.open_mapped_doc({\r\n\t\t\t\t\tmethod: \"erpnext.maintenance.doctype.maintenance_schedule.maintenance_schedule.make_maintenance_visit\",\r\n\t\t\t\t\tsource_name: me.frm.doc.name,\r\n\t\t\t\t\tfrm: me.frm\r\n\t\t\t\t})\r\n\t\t\t}, __(\"Make\"));\r\n\t\t}\r\n\t},\r\n\r\n\tstart_date: function(doc, cdt, cdn) {\r\n\t\tthis.set_no_of_visits(doc, cdt, cdn);\r\n\t},\r\n\r\n\tend_date: function(doc, cdt, cdn) {\r\n\t\tthis.set_no_of_visits(doc, cdt, cdn);\r\n\t},\r\n\r\n\tperiodicity: function(doc, cdt, cdn) {\r\n\t\tthis.set_no_of_visits(doc, cdt, cdn);\r\n\t},\r\n\r\n\tset_no_of_visits: function(doc, cdt, cdn) {\r\n\t\tvar item \u003d frappe.get_doc(cdt, cdn);\r\n\r\n\t\tif (item.start_date \u0026\u0026 item.end_date \u0026\u0026 item.periodicity) {\r\n\t\t\tif(item.start_date \u003e item.end_date) {\r\n\t\t\t\tfrappe.msgprint(__(\"Row {0}:Start Date must be before End Date\", [item.idx]));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar date_diff \u003d frappe.datetime.get_diff(item.end_date, item.start_date) + 1;\r\n\r\n\t\t\tvar days_in_period \u003d {\r\n\t\t\t\t\"Weekly\": 7,\r\n\t\t\t\t\"Monthly\": 30,\r\n\t\t\t\t\"Quarterly\": 91,\r\n\t\t\t\t\"Half Yearly\": 182,\r\n\t\t\t\t\"Yearly\": 365\r\n\t\t\t}\r\n\r\n\t\t\tvar no_of_visits \u003d cint(date_diff / days_in_period[item.periodicity]);\r\n\t\t\tfrappe.model.set_value(item.doctype, item.name, \"no_of_visits\", no_of_visits);\r\n\t\t}\r\n\t},\r\n});\r\n\r\n$.extend(cur_frm.cscript, new erpnext.maintenance.MaintenanceSchedule({frm: cur_frm}));\r\n\r\ncur_frm.cscript.onload \u003d function(doc, dt, dn) {\r\n\tif(!doc.status) set_multiple(dt,dn,{status:\u0027Draft\u0027});\r\n\r\n\tif(doc.__islocal){\r\n\t\tset_multiple(dt,dn,{transaction_date: frappe.datetime.get_today()});\r\n\t}\r\n\r\n\t// set add fetch for item_code\u0027s item_name and description\r\n\tcur_frm.add_fetch(\u0027item_code\u0027, \u0027item_name\u0027, \u0027item_name\u0027);\r\n\tcur_frm.add_fetch(\u0027item_code\u0027, \u0027description\u0027, \u0027description\u0027);\r\n\r\n}\r\n\r\ncur_frm.cscript.generate_schedule \u003d function(doc, cdt, cdn) {\r\n\tif (!doc.__islocal) {\r\n\t\treturn $c(\u0027runserverobj\u0027, {\u0027method\u0027:\u0027generate_schedule\u0027, \u0027docs\u0027:doc},\r\n\t\t\tfunction(r, rt) {\r\n\t\t\t\trefresh_field(\u0027schedules\u0027);\r\n\t\t\t});\r\n\t} else {\r\n\t\tfrappe.msgprint(__(\"Please save the document before generating maintenance schedule\"));\r\n\t}\r\n}\r\n\r\ncur_frm.fields_dict.customer.get_query \u003d function(doc,cdt,cdn) {\r\n\treturn { query: \"erpnext.controllers.queries.customer_query\" }\r\n}\r\n"},{"allow_copy":0.0,"allow_import":0.0,"allow_rename":0.0,"autoname":"hash","beta":0.0,"creation":"2013-02-22 01:28:05","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"Document","editable_grid":1.0,"engine":"InnoDB","fields":[{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"item_code","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Item Code","length":0.0,"no_copy":0.0,"oldfieldname":"item_code","oldfieldtype":"Link","options":"Item","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"item_name","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":1.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Item Name","length":0.0,"no_copy":0.0,"oldfieldname":"item_name","oldfieldtype":"Data","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"description","fieldtype":"Text Editor","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Description","length":0.0,"no_copy":0.0,"oldfieldname":"description","oldfieldtype":"Data","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"print_width":"300px","read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"width":"300px"},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"schedule_details","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"start_date","fieldtype":"Date","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Start Date","length":0.0,"no_copy":0.0,"oldfieldname":"start_date","oldfieldtype":"Date","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"end_date","fieldtype":"Date","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"End Date","length":0.0,"no_copy":0.0,"oldfieldname":"end_date","oldfieldtype":"Date","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"periodicity","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Periodicity","length":0.0,"no_copy":0.0,"oldfieldname":"periodicity","oldfieldtype":"Select","options":"\nWeekly\nMonthly\nQuarterly\nHalf Yearly\nYearly\nRandom","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"no_of_visits","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"No of Visits","length":0.0,"no_copy":0.0,"oldfieldname":"no_of_visits","oldfieldtype":"Int","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sales_person","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Sales Person","length":0.0,"no_copy":0.0,"oldfieldname":"incharge_name","oldfieldtype":"Link","options":"Sales Person","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"reference","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Reference","length":0.0,"no_copy":0.0,"permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"serial_no","fieldtype":"Small Text","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Serial No","length":0.0,"no_copy":0.0,"oldfieldname":"serial_no","oldfieldtype":"Small Text","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sales_order","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Sales Order","length":0.0,"no_copy":1.0,"oldfieldname":"prevdoc_docname","oldfieldtype":"Data","options":"Sales Order","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"print_width":"150px","read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0,"width":"150px"}],"hide_heading":0.0,"hide_toolbar":0.0,"idx":1.0,"image_view":0.0,"in_create":0.0,"in_dialog":0.0,"is_submittable":0.0,"issingle":0.0,"istable":1.0,"max_attachments":0.0,"modified":"2017-02-17 17:06:21.448695","modified_by":"Administrator","module":"Maintenance","name":"Maintenance Schedule Item","owner":"Administrator","permissions":[],"quick_entry":0.0,"read_only":0.0,"read_only_onload":0.0,"show_name_in_global_search":0.0,"track_changes":0.0,"track_seen":0.0},{"allow_copy":0.0,"allow_import":0.0,"allow_rename":0.0,"autoname":"hash","beta":0.0,"creation":"2013-02-22 01:28:05","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"Document","editable_grid":1.0,"engine":"InnoDB","fields":[{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"item_code","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Item Code","length":0.0,"no_copy":0.0,"oldfieldname":"item_code","oldfieldtype":"Link","options":"Item","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"item_name","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":1.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Item Name","length":0.0,"no_copy":0.0,"oldfieldname":"item_name","oldfieldtype":"Data","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"scheduled_date","fieldtype":"Date","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Scheduled Date","length":0.0,"no_copy":0.0,"oldfieldname":"scheduled_date","oldfieldtype":"Date","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"actual_date","fieldtype":"Date","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Actual Date","length":0.0,"no_copy":1.0,"oldfieldname":"actual_date","oldfieldtype":"Date","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":1.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sales_person","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Sales Person","length":0.0,"no_copy":0.0,"oldfieldname":"incharge_name","oldfieldtype":"Link","options":"Sales Person","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"serial_no","fieldtype":"Small Text","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Serial No","length":0.0,"no_copy":0.0,"oldfieldname":"serial_no","oldfieldtype":"Small Text","permlevel":0.0,"print_hide":0.0,"print_hide_if_no_value":0.0,"print_width":"160px","read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"width":"160px"}],"hide_heading":0.0,"hide_toolbar":0.0,"idx":1.0,"image_view":0.0,"in_create":0.0,"in_dialog":0.0,"is_submittable":0.0,"issingle":0.0,"istable":1.0,"max_attachments":0.0,"modified":"2017-02-17 17:05:44.644663","modified_by":"Administrator","module":"Maintenance","name":"Maintenance Schedule Detail","owner":"Administrator","permissions":[],"quick_entry":0.0,"read_only":0.0,"read_only_onload":0.0,"show_name_in_global_search":0.0,"track_changes":1.0,"track_seen":0.0}],"user_settings":"{}"}