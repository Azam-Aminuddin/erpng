{"docs":[{"allow_copy":0.0,"allow_import":1.0,"allow_rename":0.0,"autoname":"field:title","beta":0.0,"creation":"2015-03-18 06:08:32.729800","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"Setup","editable_grid":0.0,"fields":[{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"title","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Title","length":0.0,"no_copy":1.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"54r9vugjh0","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Email Group","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"0","fieldname":"total_subscribers","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Total Subscribers","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"f9gkhlpeq","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Email Group","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"hide_heading":0.0,"hide_toolbar":0.0,"idx":0.0,"image_view":0.0,"in_create":0.0,"in_dialog":0.0,"is_submittable":0.0,"issingle":0.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-02-27 19:01:17.203845","modified_by":"Administrator","module":"Email","name":"Email Group","name_case":"","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":1.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"Newsletter Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"1nfohohun5","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Email Group","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"quick_entry":1.0,"read_only":0.0,"read_only_onload":0.0,"show_name_in_global_search":1.0,"sort_field":"modified","sort_order":"DESC","track_changes":1.0,"track_seen":0.0,"__js":"// Copyright (c) 2016, Frappe Technologies and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.ui.form.on(\"Email Group\", \"refresh\", function(frm) {\r\n\tif(!frm.is_new()) {\r\n\t\tfrm.add_custom_button(__(\"View Subscribers\"), function() {\r\n\t\t\tfrappe.route_options \u003d {\"email_group\": frm.doc.name};\r\n\t\t\tfrappe.set_route(\"List\", \"Email Group Member\");\r\n\t\t}, __(\"View\"));\r\n\r\n\t\tfrm.add_custom_button(__(\"Import Subscribers\"), function() {\r\n\t\t\tfrappe.prompt({fieldtype:\"Select\", options: frm.doc.__onload.import_types,\r\n\t\t\t\tlabel:__(\"Import Email From\"), fieldname:\"doctype\", reqd:1},\r\n\t\t\t\tfunction(data) {\r\n\t\t\t\t\tfrappe.call({\r\n\t\t\t\t\t\tmethod: \"frappe.email.doctype.email_group.email_group.import_from\",\r\n\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\"name\": frm.doc.name,\r\n\t\t\t\t\t\t\t\"doctype\": data.doctype\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcallback: function(r) {\r\n\t\t\t\t\t\t\tfrm.set_value(\"total_subscribers\", r.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, __(\"Import Subscribers\"), __(\"Import\"));\r\n\t\t}, __(\"Action\"));\r\n\r\n\t\tfrm.add_custom_button(__(\"Add Subscribers\"), function() {\r\n\t\t\tfrappe.prompt({fieldtype:\"Text\",\r\n\t\t\t\tlabel:__(\"Email Addresses\"), fieldname:\"email_list\", reqd:1},\r\n\t\t\t\tfunction(data) {\r\n\t\t\t\t\tfrappe.call({\r\n\t\t\t\t\t\tmethod: \"frappe.email.doctype.email_group.email_group.add_subscribers\",\r\n\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\"name\": frm.doc.name,\r\n\t\t\t\t\t\t\t\"email_list\": data.email_list\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcallback: function(r) {\r\n\t\t\t\t\t\t\tfrm.set_value(\"total_subscribers\", r.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, __(\"Add Subscribers\"), __(\"Add\"));\r\n\t\t}, __(\"Action\"));\r\n\r\n\t\tfrm.add_custom_button(__(\"New Newsletter\"), function() {\r\n\t\t\tfrappe.route_options \u003d {\"email_group\": frm.doc.name};\r\n\t\t\tfrappe.new_doc(\"Newsletter\");\r\n\t\t}, __(\"Action\"));\r\n\r\n\t}\r\n});\r\n"}],"user_settings":"{}"}