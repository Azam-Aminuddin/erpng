{"docs":[{"allow_copy":0.0,"allow_guest_to_view":0.0,"allow_import":0.0,"allow_rename":1.0,"autoname":"","beta":0.0,"creation":"2016-09-01 01:34:34.985457","custom":0.0,"docstatus":0.0,"doctype":"DocType","document_type":"","editable_grid":1.0,"engine":"InnoDB","fields":[{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"report","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Report","length":0.0,"no_copy":0.0,"options":"Report","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"6ais13sst2","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"User","fieldname":"user","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Based on Permissions For User","length":0.0,"no_copy":0.0,"options":"User","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"1igdvtijcs","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"1","fieldname":"enabled","fieldtype":"Check","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Enabled","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"7hs2a7ff0a","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break_4","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"4cj13166n7","docstatus":0,"idx":3,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"report_type","fieldtype":"Read Only","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Report Type","length":0.0,"no_copy":0.0,"options":"report.report_type","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"vjtbccekv","docstatus":0,"idx":4,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"filter_data","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Filter Data","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"36mq877fqm","docstatus":0,"idx":5,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"1","fieldname":"send_if_data","fieldtype":"Check","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Send only if there is any data","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"1vttsn0pi4","docstatus":0,"idx":6,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"","depends_on":"eval:doc.report_type\u003d\u003d\u0027Report Builder\u0027","description":"Zero means send records updated at anytime","fieldname":"data_modified_till","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Only Send Records Updated in Last X Hours","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"49dn5nnja0","docstatus":0,"idx":7,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"100","description":"","fieldname":"no_of_rows","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"No of Rows (Max 500)","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"6s2mtjnj7","docstatus":0,"idx":8,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"depends_on":"eval:doc.report_type !\u003d\u003d \u0027Report Builder\u0027","fieldname":"report_filters","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Report Filters","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"621ar3036c","docstatus":0,"idx":9,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"filters_display","fieldtype":"HTML","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Filters Display","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"57jpdrshet","docstatus":0,"idx":10,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"filters","fieldtype":"Text","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Filters","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"7oc5si3kv2","docstatus":0,"idx":11,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"filter_meta","fieldtype":"Text","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Filter Meta","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"1tc3847s03","docstatus":0,"idx":12,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"email_settings","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Email Settings","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"7lgq6f2ir7","docstatus":0,"idx":13,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"email_to","fieldtype":"Small Text","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Email To","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"6jj0h2mvdu","docstatus":0,"idx":14,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"Monday","depends_on":"eval:doc.frequency\u003d\u003d\u0027Weekly\u0027","fieldname":"day_of_week","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Day of Week","length":0.0,"no_copy":0.0,"options":"Monday\nTuesday\nWednesday\nThursday\nFriday\nSaturday\nSunday","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"67p6rdklgq","docstatus":0,"idx":15,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break_13","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"7kfud93vdv","docstatus":0,"idx":16,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"frequency","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":1.0,"label":"Frequency","length":0.0,"no_copy":0.0,"options":"Daily\nWeekly\nMonthly","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"7fh475agge","docstatus":0,"idx":17,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"format","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Format","length":0.0,"no_copy":0.0,"options":"HTML\nXLSX\nCSV","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"35797aj9v0","docstatus":0,"idx":18,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":1.0,"columns":0.0,"fieldname":"section_break_15","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Message","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"3490jel7mj","docstatus":0,"idx":19,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"description","fieldtype":"Text Editor","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Message","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0,"doctype":"DocField","name":"4p58t5eth5","docstatus":0,"idx":20,"parenttype":"DocType","parentfield":"fields","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"has_web_view":0.0,"hide_heading":0.0,"hide_toolbar":0.0,"idx":0.0,"image_view":0.0,"in_create":0.0,"is_submittable":0.0,"issingle":0.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-06-30 12:54:13.350902","modified_by":"Administrator","module":"Email","name":"Auto Email Report","name_case":"","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"System Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"1cbtsgdf3h","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"},{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"Report Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"7nau14lc5m","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"permissions","parent":"Auto Email Report","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-25 23:36:28.617","modified":"2017-10-25 23:36:28.617"}],"quick_entry":0.0,"read_only":0.0,"read_only_onload":0.0,"show_name_in_global_search":0.0,"sort_field":"modified","sort_order":"DESC","track_changes":1.0,"track_seen":0.0,"__js":"// Copyright (c) 2016, Frappe Technologies and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.ui.form.on(\u0027Auto Email Report\u0027, {\r\n\trefresh: function(frm) {\r\n\t\tif(frm.doc.report_type !\u003d\u003d \u0027Report Builder\u0027) {\r\n\t\t\tif(frm.script_setup_for !\u003d\u003d frm.doc.report \u0026\u0026 !frm.doc.__islocal) {\r\n\t\t\t\tfrappe.call({\r\n\t\t\t\t\tmethod:\"frappe.desk.query_report.get_script\",\r\n\t\t\t\t\targs: {\r\n\t\t\t\t\t\treport_name: frm.doc.report\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcallback: function(r) {\r\n\t\t\t\t\t\tfrappe.dom.eval(r.message.script || \"\");\r\n\t\t\t\t\t\tfrm.script_setup_for \u003d frm.doc.report;\r\n\t\t\t\t\t\tfrm.trigger(\u0027show_filters\u0027);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tfrm.trigger(\u0027show_filters\u0027);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!frm.is_new()) {\r\n\t\t\tfrm.add_custom_button(__(\u0027Download\u0027), function() {\r\n\t\t\t\tvar w \u003d window.open(\r\n\t\t\t\t\tfrappe.urllib.get_full_url(\r\n\t\t\t\t\t\t\"/api/method/frappe.email.doctype.auto_email_report.auto_email_report.download?\"\r\n\t\t\t\t\t\t+\"name\u003d\"+encodeURIComponent(frm.doc.name)));\r\n\t\t\t\tif(!w) {\r\n\t\t\t\t\tfrappe.msgprint(__(\"Please enable pop-ups\")); return;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tfrm.add_custom_button(__(\u0027Send Now\u0027), function() {\r\n\t\t\t\tfrappe.call({\r\n\t\t\t\t\tmethod: \u0027frappe.email.doctype.auto_email_report.auto_email_report.send_now\u0027,\r\n\t\t\t\t\targs: {name: frm.doc.name},\r\n\t\t\t\t\tcallback: function() {\r\n\t\t\t\t\t\tfrappe.msgprint(__(\u0027Scheduled to send\u0027));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif(!frm.doc.user) {\r\n\t\t\t\tfrm.set_value(\u0027user\u0027, frappe.session.user);\r\n\t\t\t}\r\n\t\t\tif(!frm.doc.email_to) {\r\n\t\t\t\tfrm.set_value(\u0027email_to\u0027, frappe.session.user);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\treport: function(frm) {\r\n\t\tfrm.set_value(\u0027filters\u0027, \u0027\u0027);\r\n\t},\r\n\tshow_filters: function(frm) {\r\n\t\tvar wrapper \u003d $(frm.get_field(\u0027filters_display\u0027).wrapper);\r\n\t\twrapper.empty();\r\n\t\tif(frm.doc.report_type !\u003d\u003d \u0027Report Builder\u0027\r\n\t\t\t\u0026\u0026 frappe.query_reports[frm.doc.report]\r\n\t\t\t\u0026\u0026 frappe.query_reports[frm.doc.report].filters) {\r\n\r\n\t\t\t// make a table to show filters\r\n\t\t\tvar table \u003d $(\u0027\u003ctable class\u003d\"table table-bordered\" style\u003d\"cursor:pointer; margin:0px;\"\u003e\u003cthead\u003e\\\r\n\t\t\t\t\u003ctr\u003e\u003cth style\u003d\"width: 50%\"\u003e\u0027+__(\u0027Filter\u0027)+\u0027\u003c/th\u003e\u003cth\u003e\u0027+__(\u0027Value\u0027)+\u0027\u003c/th\u003e\u003c/tr\u003e\\\r\n\t\t\t\t\u003c/thead\u003e\u003ctbody\u003e\u003c/tbody\u003e\u003c/table\u003e\u0027).appendTo(wrapper);\r\n\t\t\t$(\u0027\u003cp class\u003d\"text-muted small\"\u003e\u0027 + __(\"Click table to edit\") + \u0027\u003c/p\u003e\u0027).appendTo(wrapper);\r\n\r\n\t\t\tvar filters \u003d JSON.parse(frm.doc.filters || \u0027{}\u0027);\r\n\t\t\tvar report_filters \u003d frappe.query_reports[frm.doc.report].filters;\r\n\t\t\tif(report_filters \u0026\u0026 report_filters.length \u003e 0) {\r\n\t\t\t\tfrm.set_value(\u0027filter_meta\u0027, JSON.stringify(report_filters));\r\n\t\t\t}\r\n\r\n\t\t\tvar report_filters_list \u003d []\r\n\t\t\t$.each(report_filters, function(key, val){\r\n\t\t\t\t// Remove break fieldtype from the filters\r\n\t\t\t\tif(val.fieldtype !\u003d \u0027Break\u0027) {\r\n\t\t\t\t\treport_filters_list.push(val)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treport_filters \u003d report_filters_list;\r\n\r\n\t\t\treport_filters.forEach(function(f) {\r\n\t\t\t\t$(\u0027\u003ctr\u003e\u003ctd\u003e\u0027 + f.label + \u0027\u003c/td\u003e\u003ctd\u003e\u0027+ frappe.format(filters[f.fieldname], f) +\u0027\u003c/td\u003e\u003c/tr\u003e\u0027)\r\n\t\t\t\t\t.appendTo(table.find(\u0027tbody\u0027));\r\n\t\t\t});\r\n\r\n\t\t\ttable.on(\u0027click\u0027, function() {\r\n\t\t\t\tvar dialog \u003d new frappe.ui.Dialog({\r\n\t\t\t\t\tfields: report_filters,\r\n\t\t\t\t\tprimary_action: function() {\r\n\t\t\t\t\t\tvar values \u003d this.get_values();\r\n\t\t\t\t\t\tif(values) {\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t\tfrm.set_value(\u0027filters\u0027, JSON.stringify(values));\r\n\t\t\t\t\t\t\tfrm.trigger(\u0027show_filters\u0027);\r\n\t\t\t\t\t\t\tfrappe.query_report_filters_by_name \u003d null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdialog.show();\r\n\t\t\t\tdialog.set_values(filters);\r\n\t\t\t\tfrappe.query_report_filters_by_name \u003d dialog.fields_dict;\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n});\r\n"}],"user_settings":"{}"}