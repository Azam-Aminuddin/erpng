{"docs":[{"allow_copy":1.0,"allow_guest_to_view":0.0,"allow_import":1.0,"allow_rename":0.0,"autoname":"naming_series:","beta":1.0,"creation":"2016-04-05 15:58:18.076977","custom":0.0,"default_print_format":"","docstatus":0.0,"doctype":"DocType","document_type":"Document","editable_grid":0.0,"fields":[{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":1.0,"collapsible":0.0,"columns":0.0,"default":"","fieldname":"naming_series","fieldtype":"Select","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Series","length":0.0,"no_copy":1.0,"options":"SMPL-","permlevel":0.0,"precision":"","print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"invoice","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Invoice","length":0.0,"no_copy":0.0,"options":"Sales Invoice","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"patient","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":1.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":1.0,"label":"Patient","length":0.0,"no_copy":0.0,"options":"Patient","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break_4","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"patient_age","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Age","length":0.0,"no_copy":0.0,"options":"","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"patient_sex","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Gender","length":0.0,"no_copy":0.0,"options":"patient.sex","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"company","fieldtype":"Link","hidden":1.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Company","length":0.0,"no_copy":0.0,"options":"Company","permlevel":0.0,"precision":"","print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":1.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"section_break_6","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sample","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":1.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":1.0,"label":"Sample","length":0.0,"no_copy":0.0,"options":"Lab Test Sample","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":1.0,"search_index":1.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sample_uom","fieldtype":"Data","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"UOM","length":0.0,"no_copy":0.0,"options":"sample.sample_uom","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"0","fieldname":"sample_quantity","fieldtype":"Float","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":1.0,"in_standard_filter":0.0,"label":"Quantity","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"column_break_10","fieldtype":"Column Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"collected_by","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":1.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Collected By","length":0.0,"no_copy":0.0,"options":"User","permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"collected_time","fieldtype":"Datetime","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Collected Time","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":1.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"default":"1","fieldname":"num_print","fieldtype":"Int","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"No. of print","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":1.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"amended_from","fieldtype":"Link","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Amended From","length":0.0,"no_copy":1.0,"options":"Sample Collection","permlevel":0.0,"print_hide":1.0,"print_hide_if_no_value":0.0,"read_only":1.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"section_break_15","fieldtype":"Section Break","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":0.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0},{"allow_bulk_edit":0.0,"allow_on_submit":0.0,"bold":0.0,"collapsible":0.0,"columns":0.0,"fieldname":"sample_collection_details","fieldtype":"Long Text","hidden":0.0,"ignore_user_permissions":0.0,"ignore_xss_filter":1.0,"in_filter":0.0,"in_global_search":0.0,"in_list_view":0.0,"in_standard_filter":0.0,"label":"Collection Details","length":0.0,"no_copy":0.0,"permlevel":0.0,"precision":"","print_hide":0.0,"print_hide_if_no_value":0.0,"read_only":0.0,"remember_last_selected_value":0.0,"report_hide":0.0,"reqd":0.0,"search_index":0.0,"set_only_once":0.0,"unique":0.0}],"has_web_view":0.0,"hide_heading":0.0,"hide_toolbar":0.0,"idx":0.0,"image_view":0.0,"in_create":0.0,"is_submittable":1.0,"issingle":0.0,"istable":0.0,"max_attachments":0.0,"modified":"2017-10-05 11:58:46.016097","modified_by":"Administrator","module":"Healthcare","name":"Sample Collection","name_case":"","owner":"Administrator","permissions":[{"amend":1.0,"apply_user_permissions":0.0,"cancel":1.0,"create":1.0,"delete":0.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":1.0,"role":"Laboratory User","set_user_permissions":0.0,"share":1.0,"submit":1.0,"write":1.0}],"quick_entry":0.0,"read_only":0.0,"read_only_onload":0.0,"restrict_to_domain":"Healthcare","search_fields":"patient, sample","show_name_in_global_search":1.0,"sort_field":"modified","sort_order":"DESC","title_field":"patient","track_changes":1.0,"track_seen":1.0,"__js":"// Copyright (c) 2016, ESS and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.ui.form.on(\u0027Sample Collection\u0027, {\r\n\trefresh: function(frm) {\r\n\t\tif(frappe.defaults.get_default(\"require_sample_collection\")){\r\n\t\t\tfrm.add_custom_button(__(\"View Lab Tests\"), function() {\r\n\t\t\t\tfrappe.route_options \u003d {\"sample\": frm.doc.name};\r\n\t\t\t\tfrappe.set_route(\"List\", \"Lab Test\");\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfrappe.ui.form.on(\"Sample Collection\", \"patient\", function(frm) {\r\n\tif(frm.doc.patient){\r\n\t\tfrappe.call({\r\n\t\t\t\"method\": \"erpnext.healthcare.doctype.patient.patient.get_patient_detail\",\r\n\t\t\targs: {\r\n\t\t\t\tpatient: frm.doc.patient\r\n\t\t\t},\r\n\t\t\tcallback: function (data) {\r\n\t\t\t\tvar age \u003d null;\r\n\t\t\t\tif(data.message.dob){\r\n\t\t\t\t\tage \u003d calculate_age(data.message.dob);\r\n\t\t\t\t}\r\n\t\t\t\tfrappe.model.set_value(frm.doctype,frm.docname, \"patient_age\", age);\r\n\t\t\t\tfrappe.model.set_value(frm.doctype,frm.docname, \"patient_sex\", data.message.sex);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\nvar calculate_age \u003d function(birth) {\r\n\tvar\tageMS \u003d Date.parse(Date()) - Date.parse(birth);\r\n\tvar\tage \u003d new Date();\r\n\tage.setTime(ageMS);\r\n\tvar\tyears \u003d  age.getFullYear() - 1970;\r\n\treturn  years + \" Year(s) \" + age.getMonth() + \" Month(s) \" + age.getDate() + \" Day(s)\";\r\n};\r\n"}],"user_settings":"{}"}