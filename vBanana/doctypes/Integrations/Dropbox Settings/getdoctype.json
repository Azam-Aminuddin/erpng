{"docs":[{"allow_copy":0,"allow_guest_to_view":0,"allow_import":0,"allow_rename":0,"beta":0,"creation":"2016-09-21 10:12:57.399174","custom":0,"docstatus":0,"doctype":"DocType","document_type":"System","editable_grid":1,"fields":[{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"enabled","fieldtype":"Check","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Enabled","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"2786numens","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"send_notifications_to","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Send Notifications To","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"1489q4eom6","docstatus":0,"idx":1,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"backup_frequency","fieldtype":"Select","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Backup Frequency","length":0,"no_copy":0,"options":"\nDaily\nWeekly","permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":1,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"p32aab4j6","docstatus":0,"idx":2,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:!doc.dropbox_setup_via_site_config","fieldname":"app_access_key","fieldtype":"Data","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"App Access Key","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6vch58gvrh","docstatus":0,"idx":3,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"depends_on":"eval:!doc.dropbox_setup_via_site_config","fieldname":"app_secret_key","fieldtype":"Password","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"App Secret Key","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"5a1agononp","docstatus":0,"idx":4,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"allow_dropbox_access","fieldtype":"Button","hidden":0,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Allow Dropbox Access","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"6rf2150pfh","docstatus":0,"idx":5,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"dropbox_access_key","fieldtype":"Password","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Dropbox Access Key","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"3ckthtf0q6","docstatus":0,"idx":6,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"dropbox_access_secret","fieldtype":"Password","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Dropbox Access Secret","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":1,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"37eov40hc2","docstatus":0,"idx":7,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"dropbox_access_token","fieldtype":"Password","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Dropbox Access Token","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7cvjq6ifl5","docstatus":0,"idx":8,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"},{"allow_bulk_edit":0,"allow_on_submit":0,"bold":0,"collapsible":0,"columns":0,"fieldname":"dropbox_setup_via_site_config","fieldtype":"Check","hidden":1,"ignore_user_permissions":0,"ignore_xss_filter":0,"in_filter":0,"in_global_search":0,"in_list_view":0,"in_standard_filter":0,"label":"Dropbox Setup via Site Config","length":0,"no_copy":0,"permlevel":0,"precision":"","print_hide":0,"print_hide_if_no_value":0,"read_only":0,"remember_last_selected_value":0,"report_hide":0,"reqd":0,"search_index":0,"set_only_once":0,"unique":0,"doctype":"DocField","name":"7g1uq4tb5e","docstatus":0,"idx":9,"parenttype":"DocType","parentfield":"fields","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"has_web_view":0,"hide_heading":0,"hide_toolbar":0,"idx":0.0,"image_view":0,"in_create":1,"is_submittable":0,"issingle":1,"istable":0,"max_attachments":0,"modified":"2017-06-20 15:45:33.683827","modified_by":"Administrator","module":"Integrations","name":"Dropbox Settings","name_case":"","owner":"Administrator","permissions":[{"amend":0.0,"apply_user_permissions":0.0,"cancel":0.0,"create":1.0,"delete":1.0,"email":1.0,"export":1.0,"if_owner":0.0,"import":0.0,"permlevel":0.0,"print":1.0,"read":1.0,"report":0.0,"role":"System Manager","set_user_permissions":0.0,"share":1.0,"submit":0.0,"write":1.0,"doctype":"DocPerm","name":"7he8135qj9","docstatus":0,"idx":0,"parenttype":"DocType","parentfield":"permissions","parent":"Dropbox Settings","owner":"Administrator","modified_by":"Administrator","creation":"2017-10-26 17:58:36.008","modified":"2017-10-26 17:58:36.008"}],"quick_entry":0,"read_only":1,"read_only_onload":0,"show_name_in_global_search":0,"sort_field":"modified","sort_order":"DESC","track_changes":1,"track_seen":0,"__js":"// Copyright (c) 2016, Frappe Technologies and contributors\r\n// For license information, please see license.txt\r\n\r\nfrappe.ui.form.on(\u0027Dropbox Settings\u0027, {\r\n\trefresh: function(frm) {\r\n\t\tfrm.clear_custom_buttons();\r\n\t\tfrm.events.take_backup(frm);\r\n\t},\r\n\r\n\tallow_dropbox_access: function(frm) {\r\n\t\tif (frm.doc.app_access_key \u0026\u0026 frm.doc.app_secret_key) {\r\n\t\t\tfrappe.call({\r\n\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.get_dropbox_authorize_url\",\r\n\t\t\t\tfreeze: true,\r\n\t\t\t\tcallback: function(r) {\r\n\t\t\t\t\tif(!r.exc) {\r\n\t\t\t\t\t\twindow.open(r.message.auth_url);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (frm.doc.dropbox_setup_via_site_config) {\r\n\t\t\tfrappe.call({\r\n\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.get_redirect_url\",\r\n\t\t\t\tfreeze: true,\r\n\t\t\t\tcallback: function(r) {\r\n\t\t\t\t\tif(!r.exc) {\r\n\t\t\t\t\t\twindow.open(r.message.auth_url);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfrappe.msgprint(__(\"Please enter values for App Access Key and App Secret Key\"))\r\n\t\t}\r\n\t},\r\n\r\n\ttake_backup: function(frm) {\r\n\t\tif ((frm.doc.app_access_key \u0026\u0026 frm.doc.app_secret_key) || frm.doc.dropbox_setup_via_site_config){\r\n\t\t\tfrm.add_custom_button(__(\"Take Backup Now\"), function(frm){\r\n\t\t\t\tfrappe.call({\r\n\t\t\t\t\tmethod: \"frappe.integrations.doctype.dropbox_settings.dropbox_settings.take_backup\",\r\n\t\t\t\t\tfreeze: true\r\n\t\t\t\t})\r\n\t\t\t}).addClass(\"btn-primary\")\r\n\t\t}\r\n\t}\r\n});\r\n\r\n"}],"user_settings":"{}"}